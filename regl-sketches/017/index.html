<!DOCTYPE html>
<html>
<head>
<title>Kuramoto-Sivashinsky Equation, &#8706;u/&#8706;t + &#8711;&#8308;u + &#8711;&#178;u + &#189; |&#8711;u|&#178; = 0</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta charset=utf-8><meta name="application-name" content="Kuramoto-Sivashinsky Equation&comma; &part;u&sol;&part;t &plus; &nabla;&#x2074;u &plus; &nabla;&sup2;u &plus; &half; &vert;&nabla;u&vert;&sup2; &equals; 0">
<meta name="subject" content="Kuramoto-Sivashinsky Equation&comma; &part;u&sol;&part;t &plus; &nabla;&#x2074;u &plus; &nabla;&sup2;u &plus; &half; &vert;&nabla;u&vert;&sup2; &equals; 0">
<meta name="abstract" content="Kuramoto-Sivashinsky Equation&comma; &part;u&sol;&part;t &plus; &nabla;&#x2074;u &plus; &nabla;&sup2;u &plus; &half; &vert;&nabla;u&vert;&sup2; &equals; 0">
<meta name="twitter:title" content="Kuramoto-Sivashinsky Equation&comma; &part;u&sol;&part;t &plus; &nabla;&#x2074;u &plus; &nabla;&sup2;u &plus; &half; &vert;&nabla;u&vert;&sup2; &equals; 0">
<meta name="twitter:card" content="summary">
<meta itemprop="title" content="Kuramoto-Sivashinsky Equation&comma; &part;u&sol;&part;t &plus; &nabla;&#x2074;u &plus; &nabla;&sup2;u &plus; &half; &vert;&nabla;u&vert;&sup2; &equals; 0">
<meta property="og:title" content="Kuramoto-Sivashinsky Equation&comma; &part;u&sol;&part;t &plus; &nabla;&#x2074;u &plus; &nabla;&sup2;u &plus; &half; &vert;&nabla;u&vert;&sup2; &equals; 0">
<style type="text/css">.github-corner{display:block;position:absolute;top:0;left:auto;right:0;z-index:10000}.github-corner svg{display:block}.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%{transform:rotate(0)}20%{transform:rotate(-25deg)}40%{transform:rotate(10deg)}60%{transform:rotate(-25deg)}80%{transform:rotate(10deg)}100%{transform:rotate(0)}}@media(max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style></head>
<body><a href="https:/github.com/rreusser/demos/blob/master/regl-sketches/src/017/" class="github-corner" aria-label="View source on Github"><svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 250 250" fill="#fff">
  <path d="M0 0l115 115h15l12 27 108 108V0z" fill="#2a3235"/>
  <path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="-webkit-transform-origin: 130px 106px; transform-origin: 130px 106px"/>
  <path class="octo-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"/>
</svg>
</a></body>
<script>
!function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return i(r||e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return o[e>>18&63]+o[e>>12&63]+o[e>>6&63]+o[63&e]}function a(e,t,r){for(var n,a=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],a.push(i(n));return a.join("")}r.byteLength=function(e){return 3*e.length/4-n(e)},r.toByteArray=function(e){var t,r,i,a,o,f=e.length;a=n(e),o=new u(3*f/4-a),r=a>0?f-4:f;var l=0;for(t=0;t<r;t+=4)i=s[e.charCodeAt(t)]<<18|s[e.charCodeAt(t+1)]<<12|s[e.charCodeAt(t+2)]<<6|s[e.charCodeAt(t+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=255&i;return 2===a?(i=s[e.charCodeAt(t)]<<2|s[e.charCodeAt(t+1)]>>4,o[l++]=255&i):1===a&&(i=s[e.charCodeAt(t)]<<10|s[e.charCodeAt(t+1)]<<4|s[e.charCodeAt(t+2)]>>2,o[l++]=i>>8&255,o[l++]=255&i),o},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,i="",s=[],u=0,f=r-n;u<f;u+=16383)s.push(a(e,u,u+16383>f?f:u+16383));return 1===n?(t=e[r-1],i+=o[t>>2],i+=o[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=o[t>>10],i+=o[t>>4&63],i+=o[t<<2&63],i+="="),s.push(i),s.join("")};for(var o=[],s=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=f.length;l<c;++l)o[l]=f[l],s[f.charCodeAt(l)]=l;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],2:[function(e,t,r){"use strict";"use restrict";function n(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(e){return(e>0)-(e<0)},r.abs=function(e){var t=e>>31;return(e^t)-t},r.min=function(e,t){return t^(e^t)&-(e<t)},r.max=function(e,t){return e^(e^t)&-(e<t)},r.isPow2=function(e){return!(e&e-1||!e)},r.log2=function(e){var t,r;return t=(e>65535)<<4,e>>>=t,r=(e>255)<<3,e>>>=r,t|=r,r=(e>15)<<2,e>>>=r,t|=r,r=(e>3)<<1,e>>>=r,(t|=r)|e>>1},r.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},r.popCount=function(e){return e-=e>>>1&1431655765,16843009*((e=(858993459&e)+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},r.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},r.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var r=t,n=t,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;e[t]=n<<i&255}}(i),r.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},r.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},r.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),(e=65535&(e|e>>>16))<<16>>16},r.interleave3=function(e,t,r){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),e|r<<2},r.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),(e=1023&(e|e>>>16))<<22>>22},r.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>n(e)+1}},{}],3:[function(e,t,r){(function(t){"use strict";function n(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=a.prototype:(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,r){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return o(this,e,t,r)}function o(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,r,n):"string"==typeof t?l(e,t,r):h(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,r,n){return s(t),t<=0?i(e,t):void 0!==r?"string"==typeof n?i(e,t).fill(r,n):i(e,t).fill(r):i(e,t)}function f(e,t){if(s(t),e=i(e,t<0?0:0|m(t)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function l(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!a.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),o=(e=i(e,n)).write(t,r);return o!==n&&(e=e.slice(0,o)),e}function c(e,t){var r=t.length<0?0:0|m(t.length);e=i(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),a.TYPED_ARRAY_SUPPORT?(e=t).__proto__=a.prototype:e=c(e,t),e}function h(e,t){if(a.isBuffer(t)){var r=0|m(t.length);return 0===(e=i(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||H(t.length)?i(e,0):c(e,t);if("Buffer"===t.type&&$(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function d(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(n)return X(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}var f;if(i){var l=-1;for(f=r;f<s;f++)if(a(e,f)===a(t,-1===l?0:f-l)){if(-1===l&&(l=f),f-l+1===u)return l*o}else-1!==l&&(f-=f-l),l=-1}else for(r+u>s&&(r=s-u),f=r;f>=0;f--){for(var c=!0,p=0;p<u;p++)if(a(e,f+p)!==a(t,p)){c=!1;break}if(c)return f}return-1}function x(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function w(e,t,r,n){return G(X(t,e.length-r),e,r,n)}function z(e,t,r,n){return G(U(t),e,r,n)}function k(e,t,r,n){return z(e,t,r,n)}function _(e,t,r,n){return G(Y(t),e,r,n)}function A(e,t,r,n){return G(K(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?W.fromByteArray(e):W.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){var u,f,l,c;switch(s){case 1:a<128&&(o=a);break;case 2:128==(192&(u=e[i+1]))&&(c=(31&a)<<6|63&u)>127&&(o=c);break;case 3:u=e[i+1],f=e[i+2],128==(192&u)&&128==(192&f)&&(c=(15&a)<<12|(63&u)<<6|63&f)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:u=e[i+1],f=e[i+2],l=e[i+3],128==(192&u)&&128==(192&f)&&128==(192&l)&&(c=(15&a)<<18|(63&u)<<12|(63&f)<<6|63&l)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return E(n)}function E(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Z));return r}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function j(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=V(e[a]);return i}function C(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function B(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function P(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function I(e,t,r,n,i){return i||P(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,i){return i||P(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,r,n,52,8),r+8}function F(e){if((e=q(e).replace(J,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function U(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function K(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}function Y(e){return W.toByteArray(F(e))}function G(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function H(e){return e!==e}var W=e("base64-js"),Q=e("ieee754"),$=e("isarray");r.Buffer=a,r.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},r.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),r.kMaxLength=n(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,r){return o(null,e,t,r)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,r){return u(null,e,t,r)},a.allocUnsafe=function(e){return f(null,e)},a.allocUnsafeSlow=function(e){return f(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!$(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,r,n,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,u=Math.min(o,s),f=this.slice(n,i),l=e.slice(t,r),c=0;c<u;++c)if(f[c]!==l[c]){o=f[c],s=l[c];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return z(this,e,t,r);case"latin1":case"binary":return k(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n;if(a.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=a.prototype;else{var i=t-e;n=new a(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},a.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},a.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),Q.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),Q.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),Q.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),Q.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=a.isBuffer(e)?e:X(new a(e,n).toString()),u=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%u]}return this};var J=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:30,isarray:35}],4:[function(e,t,r){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}var i=e("./lib/thunk.js");t.exports=function(e){var t=new n;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var a=0;a<r.length;++a){var o=r[a];if("array"===o||"object"==typeof o&&o.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===o){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+r[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,i(t)}},{"./lib/thunk.js":6}],5:[function(e,t,r){"use strict";function n(e,t,r){var n,i,a=e.length,o=t.arrayArgs.length,s=t.indexArgs.length>0,u=[],f=[],l=0,c=0;for(n=0;n<a;++n)f.push(["i",n,"=0"].join(""));for(i=0;i<o;++i)for(n=0;n<a;++n)c=l,l=e[n],0===n?f.push(["d",i,"s",n,"=t",i,"p",l].join("")):f.push(["d",i,"s",n,"=(t",i,"p",l,"-s",c,"*t",i,"p",c,")"].join(""));for(f.length>0&&u.push("var "+f.join(",")),n=a-1;n>=0;--n)l=e[n],u.push(["for(i",n,"=0;i",n,"<s",l,";++i",n,"){"].join(""));for(u.push(r),n=0;n<a;++n){for(c=l,l=e[n],i=0;i<o;++i)u.push(["p",i,"+=d",i,"s",n].join(""));s&&(n>0&&u.push(["index[",c,"]-=s",c].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function i(e,t,r,i){for(var a=t.length,o=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,f=[],l=0;l<o;++l)f.push(["var offset",l,"=p",l].join(""));for(l=e;l<a;++l)f.push(["for(var j"+l+"=SS[",t[l],"]|0;j",l,">0;){"].join("")),f.push(["if(j",l,"<",s,"){"].join("")),f.push(["s",t[l],"=j",l].join("")),f.push(["j",l,"=0"].join("")),f.push(["}else{s",t[l],"=",s].join("")),f.push(["j",l,"-=",s,"}"].join("")),u&&f.push(["index[",t[l],"]=j",l].join(""));for(l=0;l<o;++l){for(var c=["offset"+l],p=e;p<a;++p)c.push(["j",p,"*t",l,"p",t[p]].join(""));f.push(["p",l,"=(",c.join("+"),")"].join(""))}f.push(n(t,r,i));for(l=e;l<a;++l)f.push("}");return f.join("\n")}function a(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function o(e,t,r){for(var n=e.body,i=[],a=[],o=0;o<e.args.length;++o){var s=e.args[o];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),f="",l=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var c=t.offsetArgIndex.indexOf(o);l=t.offsetArgs[c].array,f="+q"+c;case"array":f="p"+l+f;var p="l"+o,h="a"+l;if(0===t.arrayBlockIndices[l])1===s.count?"generic"===r[l]?s.lvalue?(i.push(["var ",p,"=",h,".get(",f,")"].join("")),n=n.replace(u,p),a.push([h,".set(",f,",",p,")"].join(""))):n=n.replace(u,[h,".get(",f,")"].join("")):n=n.replace(u,[h,"[",f,"]"].join("")):"generic"===r[l]?(i.push(["var ",p,"=",h,".get(",f,")"].join("")),n=n.replace(u,p),s.lvalue&&a.push([h,".set(",f,",",p,")"].join(""))):(i.push(["var ",p,"=",h,"[",f,"]"].join("")),n=n.replace(u,p),s.lvalue&&a.push([h,"[",f,"]=",p].join("")));else{for(var m=[s.name],d=[f],g=0;g<Math.abs(t.arrayBlockIndices[l]);g++)m.push("\\s*\\[([^\\]]+)\\]"),d.push("$"+(g+1)+"*t"+l+"b"+g);if(u=new RegExp(m.join(""),"g"),f=d.join("+"),"generic"===r[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[h,"[",f,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+t.scalarArgs.indexOf(o));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,a.join("\n")].join("\n").trim()}function s(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var i=e[n],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?t[n]="u"+i.charAt(1)+a:t[n]=i.charAt(0)+a,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}var u=e("uniq");t.exports=function(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,f=new Array(e.arrayArgs.length),l=new Array(e.arrayArgs.length),c=0;c<e.arrayArgs.length;++c)l[c]=t[2*c],f[c]=t[2*c+1];for(var p=[],h=[],m=[],d=[],g=[],c=0;c<e.arrayArgs.length;++c){e.arrayBlockIndices[c]<0?(m.push(0),d.push(r),p.push(r),h.push(r+e.arrayBlockIndices[c])):(m.push(e.arrayBlockIndices[c]),d.push(e.arrayBlockIndices[c]+r),p.push(0),h.push(e.arrayBlockIndices[c]));for(var y=[],v=0;v<f[c].length;v++)m[c]<=f[c][v]&&f[c][v]<d[c]&&y.push(f[c][v]-m[c]);g.push(y)}for(var b=["SS"],x=["'use strict'"],w=[],v=0;v<r;++v)w.push(["s",v,"=SS[",v,"]"].join(""));for(c=0;c<e.arrayArgs.length;++c){for(b.push("a"+c),b.push("t"+c),b.push("p"+c),v=0;v<r;++v)w.push(["t",c,"p",v,"=t",c,"[",m[c]+v,"]"].join(""));for(v=0;v<Math.abs(e.arrayBlockIndices[c]);++v)w.push(["t",c,"b",v,"=t",c,"[",p[c]+v,"]"].join(""))}for(c=0;c<e.scalarArgs.length;++c)b.push("Y"+c);if(e.shapeArgs.length>0&&w.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var z=new Array(r),c=0;c<r;++c)z[c]="0";w.push(["index=[",z.join(","),"]"].join(""))}for(c=0;c<e.offsetArgs.length;++c){for(var k=e.offsetArgs[c],_=[],v=0;v<k.offset.length;++v)0!==k.offset[v]&&(1===k.offset[v]?_.push(["t",k.array,"p",v].join("")):_.push([k.offset[v],"*t",k.array,"p",v].join("")));0===_.length?w.push("q"+c+"=0"):w.push(["q",c,"=",_.join("+")].join(""))}var A=u([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((w=w.concat(A)).length>0&&x.push("var "+w.join(",")),c=0;c<e.arrayArgs.length;++c)x.push("p"+c+"|=0");e.pre.body.length>3&&x.push(o(e.pre,e,l));var T=o(e.body,e,l),S=a(g);S<r?x.push(i(S,g[0],e,T)):x.push(n(g[0],e,T)),e.post.body.length>3&&x.push(o(e.post,e,l)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+x.join("\n")+"\n----------");var E=[e.funcName||"unnamed","_cwise_loop_",f[0].join("s"),"m",S,s(l)].join("");return new Function(["function ",E,"(",b.join(","),"){",x.join("\n"),"} return ",E].join(""))()}},{uniq:74}],6:[function(e,t,r){"use strict";var n=e("./compile.js");t.exports=function(e){var t=["'use strict'","var CACHED={}"],r=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var a=[],o=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],f=[],l=0;l<e.arrayArgs.length;++l){var c=e.arrayArgs[l];r.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),a.push("t"+c),a.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),s.push("array"+c+".data"),s.push("array"+c+".stride"),s.push("array"+c+".offset|0"),l>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[l]))),f.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[l])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),l=0;l<e.scalarArgs.length;++l)s.push("scalar"+e.scalarArgs[l]);return r.push(["type=[",o.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(n.bind(void 0,e))}},{"./compile.js":5}],7:[function(e,t,r){t.exports=e("cwise-compiler")},{"cwise-compiler":4}],8:[function(e,t,r){"use strict";var n=e("es5-ext/object/assign"),i=e("es5-ext/object/normalize-options"),a=e("es5-ext/object/is-callable"),o=e("es5-ext/string/#/contains");(t.exports=function(e,t){var r,a,s,u,f;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(r=s=!0,a=!1):(r=o.call(e,"c"),a=o.call(e,"e"),s=o.call(e,"w")),f={value:t,configurable:r,enumerable:a,writable:s},u?n(i(u),f):f}).gs=function(e,t,r){var s,u,f,l;return"string"!=typeof e?(f=r,r=t,t=e,e=null):f=arguments[3],null==t?t=void 0:a(t)?null==r?r=void 0:a(r)||(f=r,r=void 0):(f=t,t=r=void 0),null==e?(s=!0,u=!1):(s=o.call(e,"c"),u=o.call(e,"e")),l={get:t,set:r,configurable:s,enumerable:u},f?n(i(f),l):l}},{"es5-ext/object/assign":10,"es5-ext/object/is-callable":13,"es5-ext/object/normalize-options":17,"es5-ext/string/#/contains":20}],9:[function(e,t,r){"use strict";function n(e,t,r){var i=0|e[r];if(i<=0)return[];var a,o=new Array(i);if(r===e.length-1)for(a=0;a<i;++a)o[a]=t;else for(a=0;a<i;++a)o[a]=n(e,t,r+1);return o}function i(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}t.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return i(0|e,t);break;case"object":if("number"==typeof e.length)return n(e,t,0)}return[]}},{}],10:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":11,"./shim":12}],11:[function(e,t,r){"use strict";t.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],12:[function(e,t,r){"use strict";var n=e("../keys"),i=e("../valid-value"),a=Math.max;t.exports=function(e,t){var r,o,s,u=a(arguments.length,2);for(e=Object(i(e)),s=function(n){try{e[n]=t[n]}catch(e){r||(r=e)}},o=1;o<u;++o)t=arguments[o],n(t).forEach(s);if(void 0!==r)throw r;return e}},{"../keys":14,"../valid-value":19}],13:[function(e,t,r){"use strict";t.exports=function(e){return"function"==typeof e}},{}],14:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":15,"./shim":16}],15:[function(e,t,r){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],16:[function(e,t,r){"use strict";var n=Object.keys;t.exports=function(e){return n(null==e?e:Object(e))}},{}],17:[function(e,t,r){"use strict";var n=Array.prototype.forEach,i=Object.create,a=function(e,t){var r;for(r in e)t[r]=e[r]};t.exports=function(e){var t=i(null);return n.call(arguments,function(e){null!=e&&a(Object(e),t)}),t}},{}],18:[function(e,t,r){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],19:[function(e,t,r){"use strict";t.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},{}],20:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":21,"./shim":22}],21:[function(e,t,r){"use strict";var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}},{}],22:[function(e,t,r){"use strict";var n=String.prototype.indexOf;t.exports=function(e){return n.call(this,e,arguments[1])>-1}},{}],23:[function(e,t,r){"use strict";var n,i,a,o,s,u,f,l=e("d"),c=e("es5-ext/object/valid-callable"),p=Function.prototype.apply,h=Function.prototype.call,m=Object.create,d=Object.defineProperty,g=Object.defineProperties,y=Object.prototype.hasOwnProperty,v={configurable:!0,enumerable:!1,writable:!0};s={on:n=function(e,t){var r;return c(t),y.call(this,"__ee__")?r=this.__ee__:(r=v.value=m(null),d(this,"__ee__",v),v.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once:i=function(e,t){var r,i;return c(t),i=this,n.call(this,e,r=function(){a.call(i,e,r),p.call(t,this,arguments)}),r.__eeOnceListener__=t,this},off:a=function(e,t){var r,n,i,a;if(c(t),!y.call(this,"__ee__"))return this;if(!(r=this.__ee__)[e])return this;if("object"==typeof(n=r[e]))for(a=0;i=n[a];++a)i!==t&&i.__eeOnceListener__!==t||(2===n.length?r[e]=n[a?0:1]:n.splice(a,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this},emit:o=function(e){var t,r,n,i,a;if(y.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(r=arguments.length,a=new Array(r-1),t=1;t<r;++t)a[t-1]=arguments[t];for(i=i.slice(),t=0;n=i[t];++t)p.call(n,this,a)}else switch(arguments.length){case 1:h.call(i,this);break;case 2:h.call(i,this,arguments[1]);break;case 3:h.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,a=new Array(r-1),t=1;t<r;++t)a[t-1]=arguments[t];p.call(i,this,a)}}},u={on:l(n),once:l(i),off:l(a),emit:l(o)},f=g({},u),t.exports=r=function(e){return null==e?m(f):g(Object(e),u)},r.methods=s},{d:8,"es5-ext/object/valid-callable":18}],24:[function(e,t,r){"use strict";var n=e("h");t.exports=function(e,t){return t=t||{},function(r,i){if(!r)return e&&e(i);if(r instanceof Error)r=r.name+": "+r.message;else if("string"!=typeof r)throw new Error("fail-nicely: Oops! the message must be a String or an Error. How ironic.");var a=void 0===t.zIndex?9999:parseInt(t.zIndex),o=void 0===t.bg?"#333":t.bg,s=void 0===t.fg?"#fff":t.fg,u=void 0===t.title?"Sorry!":t.title,f=void 0===t.fontFamily?"Helvetica, Arial, sans-serif":t.fontFamily,l=void 0===t.position?"fixed":t.position;if(void 0!==t.invert&&t.invert){var c=s;s=o,o=c}var p={position:l,top:0,right:0,bottom:0,left:0,"background-color":o,color:s,"text-align":"center","z-index":a},h={"font-family":f},m={"font-family":f,"max-width":"640px","margin-left":"auto","margin-right":"auto","line-height":"1.4",padding:"0 15px"};document.body.appendChild(n("div",{style:p},[n("div",{style:{transform:"translate(0, -50%)","margin-top":"50vh"}},[n("h1",u,{style:h}),n("p",r,{style:m})])]))}}},{h:29}],25:[function(e,t,r){t.exports=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],26:[function(e,t,r){t.exports=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],f=t[7],l=t[8],c=t[9],p=t[10],h=t[11],m=t[12],d=t[13],g=t[14],y=t[15],v=r*s-n*o,b=r*u-i*o,x=r*f-a*o,w=n*u-i*s,z=n*f-a*s,k=i*f-a*u,_=l*d-c*m,A=l*g-p*m,T=l*y-h*m,S=c*g-p*d,E=c*y-h*d,M=p*y-h*g,R=v*M-b*E+x*S+w*T-z*A+k*_;return R?(R=1/R,e[0]=(s*M-u*E+f*S)*R,e[1]=(i*E-n*M-a*S)*R,e[2]=(d*k-g*z+y*w)*R,e[3]=(p*z-c*k-h*w)*R,e[4]=(u*T-o*M-f*A)*R,e[5]=(r*M-i*T+a*A)*R,e[6]=(g*x-m*k-y*b)*R,e[7]=(l*k-p*x+h*b)*R,e[8]=(o*E-s*T+f*_)*R,e[9]=(n*T-r*E-a*_)*R,e[10]=(m*z-d*x+y*v)*R,e[11]=(c*x-l*z-h*v)*R,e[12]=(s*A-o*S-u*_)*R,e[13]=(r*S-n*A+i*_)*R,e[14]=(d*b-m*w-g*v)*R,e[15]=(l*w-c*b+p*v)*R,e):null}},{}],27:[function(e,t,r){t.exports=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],f=t[6],l=t[7],c=t[8],p=t[9],h=t[10],m=t[11],d=t[12],g=t[13],y=t[14],v=t[15],b=r[0],x=r[1],w=r[2],z=r[3];return e[0]=b*n+x*s+w*c+z*d,e[1]=b*i+x*u+w*p+z*g,e[2]=b*a+x*f+w*h+z*y,e[3]=b*o+x*l+w*m+z*v,b=r[4],x=r[5],w=r[6],z=r[7],e[4]=b*n+x*s+w*c+z*d,e[5]=b*i+x*u+w*p+z*g,e[6]=b*a+x*f+w*h+z*y,e[7]=b*o+x*l+w*m+z*v,b=r[8],x=r[9],w=r[10],z=r[11],e[8]=b*n+x*s+w*c+z*d,e[9]=b*i+x*u+w*p+z*g,e[10]=b*a+x*f+w*h+z*y,e[11]=b*o+x*l+w*m+z*v,b=r[12],x=r[13],w=r[14],z=r[15],e[12]=b*n+x*s+w*c+z*d,e[13]=b*i+x*u+w*p+z*g,e[14]=b*a+x*f+w*h+z*y,e[15]=b*o+x*l+w*m+z*v,e}},{}],28:[function(e,t,r){t.exports=function(e){"string"==typeof e&&(e=[e]);for(var t=[].slice.call(arguments,1),r=[],n=0;n<e.length-1;n++)r.push(e[n],t[n]||"");return r.push(e[n]),r.join("")}},{}],29:[function(e,t,r){!function(){function e(){function e(t){if(null==t);else if("string"==typeof t)r?r.appendChild(document.createTextNode(t)):function(e){e.split(/([\.#]?[a-zA-Z0-9_-]+)/).forEach(function(e){var t=e.substring(1,e.length);e&&(r?"."===e[0]?r.classList.add(t):"#"===e[0]&&r.setAttribute("id",t):r=document.createElement(e))})}(t);else if("number"==typeof t||"boolean"==typeof t||t instanceof Date||t instanceof RegExp)r.appendChild(document.createTextNode(t.toString()));else if(Array.isArray(t))t.forEach(e);else if(t instanceof HTMLElement)r.appendChild(t);else if("object"==typeof t)for(var n in t)if("function"==typeof t[n])r.addEventListener(n,t[n]);else if("style"===n)for(var i in t[n])r.style.setProperty(i,t[n][i]);else r.setAttribute(n,t[n])}for(var t=[].slice.call(arguments),r=null;t.length;)e(t.shift());return r}"object"==typeof t?t.exports=e:this.h=e}()},{}],30:[function(e,t,r){r.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,f=u>>1,l=-7,c=r?i-1:0,p=r?-1:1,h=e[t+c];for(c+=p,a=h&(1<<-l)-1,h>>=-l,l+=s;l>0;a=256*a+e[t+c],c+=p,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+c],c+=p,l-=8);if(0===a)a=1-f;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=f}return(h?-1:1)*o*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var o,s,u,f=8*a-i-1,l=(1<<f)-1,c=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,m=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+c>=1?p/u:p*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=l?(s=0,o=l):o+c>=1?(s=(t*u-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=m,s/=256,i-=8);for(o=o<<i|s,f+=i;f>0;e[r+h]=255&o,h+=m,o/=256,f-=8);e[r+h-m]|=128*d}},{}],31:[function(e,t,r){function n(e,t){if(t=t||{},void 0===e)throw new Error(s);var r=!0===t.prepend?"prepend":"append",n=void 0!==t.container?t.container:document.querySelector("head"),u=a.indexOf(n);-1===u&&(u=a.push(n)-1,o[u]={});var f;return void 0!==o[u]&&void 0!==o[u][r]?f=o[u][r]:(f=o[u][r]=i(),"prepend"===r?n.insertBefore(f,n.childNodes[0]):n.appendChild(f)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),f.styleSheet?f.styleSheet.cssText+=e:f.textContent+=e,f}function i(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}var a=[],o=[],s="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";t.exports=n,t.exports.insertCss=n},{}],32:[function(e,t,r){"use strict";function n(){this.position=[0,0],this.touch=null}t.exports=function(e,t){function r(e,t){return e.preventDefault=t.preventDefault.bind(t),e.stopPropagation=t.stopPropagation.bind(t),e}function f(e){S.type="wheel",S.buttons=E,S.mods=M,S.x0=e.x,S.y0=e.y,S.dx=e.deltaX,S.dy=e.deltaY,S.dz=e.deltaZ,S.dsx=1,S.dsy=1,S.dsz=1,S.theta=0,S.dtheta=0,x.emit("interaction",r(S,e))}function l(e){y=a.x(e),v=a.y(e),S.type="mousedown",S.buttons=E,S.mods=M,S.x0=y,S.y0=v,S.dx=0,S.dy=0,S.dz=0,S.dsx=1,S.dsy=1,S.dsz=1,S.theta=0,S.dtheta=0,x.emit("interactionend",r(S,e))}function c(e){var t=a.x(e),n=a.y(e);S.type="mousemove",S.buttons=E,S.mods=M,S.x0=t,S.y0=n,S.dx=t-y,S.dy=n-v,S.dz=0,S.dsx=1,S.dsy=1,S.dsz=1,S.theta=0,S.dtheta=0,y=t,v=n,x.emit("interaction",r(S,e))}function p(e){for(var t=e.identifier,r=0;r<_.length;r++)if(_[r]&&_[r].touch&&_[r].touch.identifier===t)return r;return-1}function h(e){k=[null,null];for(var t=0;t<e.changedTouches.length;t++){var i=e.changedTouches[t];if(-1===p(i.identifier)&&T<2){var a=0===T,o=_[0]?1:0,u=_[0]?0:1,f=new n;_[o]=f,T++,f.touch=i,s(i,w,f.position),_[u]&&_[u].touch,a||(A=!1)}}T>0&&(S.type=1===T?"touchstart":"pinchstart",S.buttons=0,S.mods={},S.x0=0,S.y0=0,S.dx=0,S.dy=0,S.dz=0,S.dsx=1,S.dsy=1,S.dsz=1,S.theta=0,S.dtheta=0,x.emit("interactionstart",r(S,e)))}function m(e){for(var t,n=!1,i=0;i<e.changedTouches.length;i++){var a=e.changedTouches[i];-1!==(t=p(a))&&(n=!0,_[t].touch=a,s(a,w,_[t].position))}if(n)if(1===T){for(t=0;t<_.length&&!_[t];t++);if(_[t]&&k[t]){var o=_[t].position[0],u=_[t].position[1],f=o-k[t][0],l=u-k[t][1];S.type="touch",S.buttons=0,S.mods={},S.x0=o,S.y0=u,S.dx=f,S.dy=l,S.dz=0,S.dsx=1,S.dsy=1,S.dsz=1,S.theta=0,S.dtheta=0,x.emit("interaction",r(S,e))}}else if(2===T&&k[0]&&k[1]){var c=k[0],h=k[1],m=h[0]-c[0],d=h[1]-c[1],g=_[0].position,y=_[1].position,v=y[0]-g[0],b=y[1]-g[1],z=Math.sqrt(m*m+d*d),A=Math.atan2(d,m),E=Math.sqrt(v*v+b*b),M=Math.atan2(b,v),R=.5*(h[0]+c[0]),O=.5*(h[1]+c[1]),f=.5*(y[0]+g[0]-c[0]-h[0]),l=.5*(y[1]+g[1]-c[1]-h[1]),D=E/z,B=M-A;S.type="pinch",S.buttons=0,S.mods={},S.x0=R,S.y0=O,S.dx=f,S.dy=l,S.dz=0,S.dsx=D,S.dsy=D,S.dsz=1,S.theta=M,S.dtheta=B,x.emit("interaction",r(S,e)),j=R,C=O}_[0]&&(k[0]=_[0].position.slice()),_[1]&&(k[1]=_[1].position.slice())}function d(e){for(var t=0;t<e.changedTouches.length;t++){var n=p(e.changedTouches[t]);if(-1!==n){_[n]=null,T--;var i=0===n?1:0;_[i]&&_[i].touch}}A||2===T||(A=!0),T<2&&(S.type=0===T?"touchend":"pinchend",S.buttons=0,S.mods={},S.x0=0,S.y0=0,S.dx=0,S.dy=0,S.dz=0,S.dsx=1,S.dsy=1,S.dsz=1,S.theta=0,S.dtheta=0,x.emit("interactionend",r(S,e)))}function g(){z||(z=!0,R.enabled=!0,w.addEventListener("wheel",f,!1),w.addEventListener("mousedown",l,!1),w.addEventListener("mousemove",c,!1),w.addEventListener("touchstart",h,!1),w.addEventListener("touchmove",m,!1),w.addEventListener("touchend",d,!1),w.addEventListener("touchcancel",d,!1))}var y,v,b=i({element:window,constrainZoom:!1},e||{}),x=u({}),w=b.element,z=!1,k=[null,null],_=[null,null],A=!1,T=0,z=!1,S={},E=0,M={},R=o(w,function(e,t,r,n){E=e,M=n}),j=null,C=null;return g(),x.enable=g,x.disable=function(){z&&(z=!1,R.enabled=!1,w.removeEventListener("wheel",f,!1),w.removeEventListener("mousedown",l,!1),w.removeEventListener("mousemove",c,!1),w.removeEventListener("touchstart",h,!1),w.removeEventListener("touchmove",m,!1),w.removeEventListener("touchend",d,!1),w.removeEventListener("touchcancel",d,!1))},x};var i=e("util-extend"),a=e("mouse-event"),o=e("mouse-change"),s=e("mouse-event-offset"),u=e("event-emitter")},{"event-emitter":23,"mouse-change":61,"mouse-event":63,"mouse-event-offset":62,"util-extend":75}],33:[function(e,t,r){"use strict";t.exports=function(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}},{}],34:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}t.exports=function(e){return null!=e&&(n(e)||i(e)||!!e._isBuffer)}},{}],35:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],36:[function(e,t,r){var n=e("./src/ParseError"),i=e("./src/Settings"),a=e("./src/buildTree"),o=e("./src/parseTree"),s=e("./src/utils"),u=function(e,t,r){s.clearNode(t);var n=new i(r),u=o(e,n),f=a(u,e,n).toNode();t.appendChild(f)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),u=function(){throw new n("KaTeX doesn't work in quirks mode.")});t.exports={render:u,renderToString:function(e,t){var r=new i(t),n=o(e,r);return a(n,e,r).toMarkup()},__parse:function(e,t){var r=new i(t);return o(e,r)},ParseError:n}},{"./src/ParseError":40,"./src/Settings":42,"./src/buildTree":47,"./src/parseTree":56,"./src/utils":59}],37:[function(e,t,r){function n(e){this.input=e,this.pos=0}function i(e,t,r,n){this.text=e,this.start=t,this.end=r,this.lexer=n}var a=e("match-at"),o=e("./ParseError");i.prototype.range=function(e,t){return e.lexer!==this.lexer?new i(t):new i(t,this.start,e.end,this.lexer)};var s=new RegExp("([ \r\n\t]+)|([!-\\[\\]---]|[\ud800-\udbff][\udc00-\udfff]|\\\\(?:[a-zA-Z]+|[^\ud800-\udfff]))");n.prototype.lex=function(){var e=this.input,t=this.pos;if(t===e.length)return new i("EOF",t,t,this);var r=a(s,e,t);if(null===r)throw new o("Unexpected character: '"+e[t]+"'",new i(e[t],t,t+1,this));var n=r[2]||" ",u=this.pos;return this.pos+=r[0].length,new i(n,u,this.pos,this)},t.exports=n},{"./ParseError":40,"match-at":60}],38:[function(e,t,r){function n(e,t){this.lexer=new i(e),this.macros=t,this.stack=[],this.discardedWhiteSpace=[]}var i=e("./Lexer");n.prototype.nextToken=function(){for(;;){0===this.stack.length&&this.stack.push(this.lexer.lex());var e=this.stack.pop(),t=e.text;if("\\"!==t.charAt(0)||!this.macros.hasOwnProperty(t))return e;var r=this.macros[t];if("string"==typeof r){var n=new i(r);r=[];for(var a=n.lex();"EOF"!==a.text;)r.push(a),a=n.lex();r.reverse(),this.macros[t]=r}this.stack=this.stack.concat(r)}},n.prototype.get=function(e){this.discardedWhiteSpace=[];var t=this.nextToken();if(e)for(;" "===t.text;)this.discardedWhiteSpace.push(t),t=this.nextToken();return t},n.prototype.unget=function(e){for(this.stack.push(e);0!==this.discardedWhiteSpace.length;)this.stack.push(this.discardedWhiteSpace.pop())},t.exports=n},{"./Lexer":37}],39:[function(e,t,r){function n(e){this.style=e.style,this.color=e.color,this.size=e.size,this.phantom=e.phantom,this.font=e.font,void 0===e.parentStyle?this.parentStyle=e.style:this.parentStyle=e.parentStyle,void 0===e.parentSize?this.parentSize=e.size:this.parentSize=e.parentSize}n.prototype.extend=function(e){var t={style:this.style,size:this.size,color:this.color,parentStyle:this.style,parentSize:this.size,phantom:this.phantom,font:this.font};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new n(t)},n.prototype.withStyle=function(e){return this.extend({style:e})},n.prototype.withSize=function(e){return this.extend({size:e})},n.prototype.withColor=function(e){return this.extend({color:e})},n.prototype.withPhantom=function(){return this.extend({phantom:!0})},n.prototype.withFont=function(e){return this.extend({font:e||this.font})},n.prototype.reset=function(){return this.extend({})};var i={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"};n.prototype.getColor=function(){return this.phantom?"transparent":i[this.color]||this.color},t.exports=n},{}],40:[function(e,t,r){function n(e,t){var r,i,a="KaTeX parse error: "+e;if(t&&t.lexer&&t.start<=t.end){var o=t.lexer.input;r=t.start,i=t.end,r===o.length?a+=" at end of input: ":a+=" at position "+(r+1)+": ";var s=o.slice(r,i).replace(/[^]/g,"$&");a+=(r>15?""+o.slice(r-15,r):o.slice(0,r))+s+(i+15<o.length?o.slice(i,i+15)+"":o.slice(i))}var u=new Error(a);return u.name="ParseError",u.__proto__=n.prototype,u.position=r,u}n.prototype.__proto__=Error.prototype,t.exports=n},{}],41:[function(e,t,r){function n(e,t){this.gullet=new s(e,t.macros),this.settings=t,this.leftrightDepth=0}function i(e,t,r){this.result=e,this.isFunction=t,this.token=r}var a=e("./functions"),o=e("./environments"),s=e("./MacroExpander"),u=e("./symbols"),f=e("./utils"),l=e("./unicodeRegexes").cjkRegex,c=e("./parseData"),p=e("./ParseError"),h=c.ParseNode;n.prototype.expect=function(e,t){if(this.nextToken.text!==e)throw new p("Expected '"+e+"', got '"+this.nextToken.text+"'",this.nextToken);!1!==t&&this.consume()},n.prototype.consume=function(){this.nextToken=this.gullet.get("math"===this.mode)},n.prototype.switchMode=function(e){this.gullet.unget(this.nextToken),this.mode=e,this.consume()},n.prototype.parse=function(){return this.mode="math",this.consume(),this.parseInput()},n.prototype.parseInput=function(){var e=this.parseExpression(!1);return this.expect("EOF",!1),e};var m=["}","\\end","\\right","&","\\\\","\\cr"];n.prototype.parseExpression=function(e,t){for(var r=[];;){var n=this.nextToken;if(-1!==m.indexOf(n.text))break;if(t&&n.text===t)break;if(e&&a[n.text]&&a[n.text].infix)break;var i=this.parseAtom();if(!i){if(!this.settings.throwOnError&&"\\"===n.text[0]){var o=this.handleUnsupportedCmd();r.push(o);continue}break}r.push(i)}return this.handleInfixNodes(r)},n.prototype.handleInfixNodes=function(e){for(var t,r=-1,n=0;n<e.length;n++){var i=e[n];if("infix"===i.type){if(-1!==r)throw new p("only one infix operator per group",i.value.token);r=n,t=i.value.replaceWith}}if(-1!==r){var a,o,s=e.slice(0,r),u=e.slice(r+1);a=1===s.length&&"ordgroup"===s[0].type?s[0]:new h("ordgroup",s,this.mode),o=1===u.length&&"ordgroup"===u[0].type?u[0]:new h("ordgroup",u,this.mode);var f=this.callFunction(t,[a,o],null);return[new h(f.type,f,this.mode)]}return e};n.prototype.handleSupSubscript=function(e){var t=this.nextToken,r=t.text;this.consume();var n=this.parseGroup();if(n){if(n.isFunction){if(a[n.result].greediness>1)return this.parseFunction(n);throw new p("Got function '"+n.result+"' with no arguments as "+e,t)}return n.result}if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new p("Expected group after '"+r+"'",t);return this.handleUnsupportedCmd()},n.prototype.handleUnsupportedCmd=function(){for(var e=this.nextToken.text,t=[],r=0;r<e.length;r++)t.push(new h("textord",e[r],"text"));var n=new h("text",{body:t,type:"text"},this.mode),i=new h("color",{color:this.settings.errorColor,value:[n],type:"color"},this.mode);return this.consume(),i},n.prototype.parseAtom=function(){var e=this.parseImplicitGroup();if("text"===this.mode)return e;for(var t,r;;){var n=this.nextToken;if("\\limits"===n.text||"\\nolimits"===n.text){if(!e||"op"!==e.type)throw new p("Limit controls must follow a math operator",n);var i="\\limits"===n.text;e.value.limits=i,e.value.alwaysHandleSupSub=!0,this.consume()}else if("^"===n.text){if(t)throw new p("Double superscript",n);t=this.handleSupSubscript("superscript")}else if("_"===n.text){if(r)throw new p("Double subscript",n);r=this.handleSupSubscript("subscript")}else{if("'"!==n.text)break;var a=new h("textord","\\prime",this.mode),o=[a];for(this.consume();"'"===this.nextToken.text;)o.push(a),this.consume();t=new h("ordgroup",o,this.mode)}}return t||r?new h("supsub",{base:e,sup:t,sub:r},this.mode):e};var d=["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],g=["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"];n.prototype.parseImplicitGroup=function(){var e=this.parseSymbol();if(null==e)return this.parseFunction();var t,r=e.result;if("\\left"===r){var n=this.parseFunction(e);++this.leftrightDepth,t=this.parseExpression(!1),--this.leftrightDepth,this.expect("\\right",!1);var i=this.parseFunction();return new h("leftright",{body:t,left:n.value.value,right:i.value.value},this.mode)}if("\\begin"===r){var a=this.parseFunction(e),s=a.value.name;if(!o.hasOwnProperty(s))throw new p("No such environment: "+s,a.value.nameGroup);var u=o[s],l=this.parseArguments("\\begin{"+s+"}",u),c={mode:this.mode,envName:s,parser:this,positions:l.pop()},m=u.handler(c,l);this.expect("\\end",!1);var y=this.nextToken,v=this.parseFunction();if(v.value.name!==s)throw new p("Mismatch: \\begin{"+s+"} matched by \\end{"+v.value.name+"}",y);return m.position=v.position,m}return f.contains(d,r)?(t=this.parseExpression(!1),new h("sizing",{size:"size"+(f.indexOf(d,r)+1),value:t},this.mode)):f.contains(g,r)?(t=this.parseExpression(!0),new h("styling",{style:r.slice(1,r.length-5),value:t},this.mode)):this.parseFunction(e)},n.prototype.parseFunction=function(e){if(e||(e=this.parseGroup()),e){if(e.isFunction){var t=e.result,r=a[t];if("text"===this.mode&&!r.allowedInText)throw new p("Can't use function '"+t+"' in text mode",e.token);var n=this.parseArguments(t,r),i=e.token,o=this.callFunction(t,n,n.pop(),i);return new h(o.type,o,this.mode)}return e.result}return null},n.prototype.callFunction=function(e,t,r,n){var i={funcName:e,parser:this,positions:r,token:n};return a[e].handler(i,t)},n.prototype.parseArguments=function(e,t){var r=t.numArgs+t.numOptionalArgs;if(0===r)return[[this.pos]];for(var n=t.greediness,o=[this.pos],s=[],u=0;u<r;u++){var f,l=this.nextToken,c=t.argTypes&&t.argTypes[u];if(u<t.numOptionalArgs){if(!(f=c?this.parseGroupOfType(c,!0):this.parseGroup(!0))){s.push(null),o.push(this.pos);continue}}else if(!(f=c?this.parseGroupOfType(c):this.parseGroup())){if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new p("Expected group after '"+e+"'",l);f=new i(this.handleUnsupportedCmd(this.nextToken.text),!1)}var h;if(f.isFunction){if(!(a[f.result].greediness>n))throw new p("Got function '"+f.result+"' as argument to '"+e+"'",l);h=this.parseFunction(f)}else h=f.result;s.push(h),o.push(this.pos)}return s.push(o),s},n.prototype.parseGroupOfType=function(e,t){var r=this.mode;if("original"===e&&(e=r),"color"===e)return this.parseColorGroup(t);if("size"===e)return this.parseSizeGroup(t);if(this.switchMode(e),"text"===e)for(;" "===this.nextToken.text;)this.consume();var n=this.parseGroup(t);return this.switchMode(r),n},n.prototype.parseStringGroup=function(e,t){if(t&&"["!==this.nextToken.text)return null;var r=this.mode;this.mode="text",this.expect(t?"[":"{");for(var n="",i=this.nextToken,a=i;this.nextToken.text!==(t?"]":"}");){if("EOF"===this.nextToken.text)throw new p("Unexpected end of input in "+e,i.range(this.nextToken,n));n+=(a=this.nextToken).text,this.consume()}return this.mode=r,this.expect(t?"]":"}"),i.range(a,n)},n.prototype.parseRegexGroup=function(e,t){var r=this.mode;this.mode="text";for(var n=this.nextToken,i=n,a="";"EOF"!==this.nextToken.text&&e.test(a+this.nextToken.text);)a+=(i=this.nextToken).text,this.consume();if(""===a)throw new p("Invalid "+t+": '"+n.text+"'",n);return this.mode=r,n.range(i,a)},n.prototype.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(!t)return null;var r=/^(#[a-z0-9]+|[a-z]+)$/i.exec(t.text);if(!r)throw new p("Invalid color: '"+t.text+"'",t);return new i(new h("color",r[0],this.mode),!1)},n.prototype.parseSizeGroup=function(e){var t;if(!(t=e||"{"===this.nextToken.text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2}$/,"size")))return null;var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new p("Invalid size: '"+t.text+"'",t);var n={number:+(r[1]+r[2]),unit:r[3]};if("em"!==n.unit&&"ex"!==n.unit&&"mu"!==n.unit)throw new p("Invalid unit: '"+n.unit+"'",t);return new i(new h("color",n,this.mode),!1)},n.prototype.parseGroup=function(e){var t=this.nextToken;if(this.nextToken.text===(e?"[":"{")){this.consume();var r=this.parseExpression(!1,e?"]":null),n=this.nextToken;return this.expect(e?"]":"}"),"text"===this.mode&&this.formLigatures(r),new i(new h("ordgroup",r,this.mode,t,n),!1)}return e?null:this.parseSymbol()},n.prototype.formLigatures=function(e){var t,r=e.length-1;for(t=0;t<r;++t){var n=e[t],i=n.value;"-"===i&&"-"===e[t+1].value&&(t+1<r&&"-"===e[t+2].value?(e.splice(t,3,new h("textord","---","text",n,e[t+2])),r-=2):(e.splice(t,2,new h("textord","--","text",n,e[t+1])),r-=1)),"'"!==i&&"`"!==i||e[t+1].value!==i||(e.splice(t,2,new h("textord",i+i,"text",n,e[t+1])),r-=1)}},n.prototype.parseSymbol=function(){var e=this.nextToken;return a[e.text]?(this.consume(),new i(e.text,!0,e)):u[this.mode][e.text]?(this.consume(),new i(new h(u[this.mode][e.text].group,e.text,this.mode,e),!1,e)):"text"===this.mode&&l.test(e.text)?(this.consume(),new i(new h("textord",e.text,this.mode,e),!1,e)):null},n.prototype.ParseNode=h,t.exports=n},{"./MacroExpander":38,"./ParseError":40,"./environments":50,"./functions":53,"./parseData":55,"./symbols":57,"./unicodeRegexes":58,"./utils":59}],42:[function(e,t,r){function n(e,t){return void 0===e?t:e}t.exports=function(e){e=e||{},this.displayMode=n(e.displayMode,!1),this.throwOnError=n(e.throwOnError,!0),this.errorColor=n(e.errorColor,"#cc0000"),this.macros=e.macros||{}}},{}],43:[function(e,t,r){function n(e,t,r,n){this.id=e,this.size=t,this.cramped=n,this.sizeMultiplier=r,this.metrics=o[t>0?t-1:0]}var i,a=e("./fontMetrics.js").sigmas,o=[{},{},{}];for(var s in a)if(a.hasOwnProperty(s))for(i=0;i<3;i++)o[i][s]=a[s][i];for(i=0;i<3;i++)o[i].emPerEx=a.xHeight[i]/a.quad[i];n.prototype.sup=function(){return l[c[this.id]]},n.prototype.sub=function(){return l[p[this.id]]},n.prototype.fracNum=function(){return l[h[this.id]]},n.prototype.fracDen=function(){return l[m[this.id]]},n.prototype.cramp=function(){return l[d[this.id]]},n.prototype.cls=function(){return u[this.size]+(this.cramped?" cramped":" uncramped")},n.prototype.reset=function(){return f[this.size]},n.prototype.isTight=function(){return this.size>=2};var u=["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"],f=["reset-textstyle","reset-textstyle","reset-scriptstyle","reset-scriptscriptstyle"],l=[new n(0,0,1,!1),new n(1,0,1,!0),new n(2,1,1,!1),new n(3,1,1,!0),new n(4,2,.7,!1),new n(5,2,.7,!0),new n(6,3,.5,!1),new n(7,3,.5,!0)],c=[4,5,4,5,6,7,6,7],p=[5,5,5,5,7,7,7,7],h=[2,3,4,5,6,7,6,7],m=[3,3,5,5,7,7,7,7],d=[1,1,3,3,5,5,7,7];t.exports={DISPLAY:l[0],TEXT:l[2],SCRIPT:l[4],SCRIPTSCRIPT:l[6]}},{"./fontMetrics.js":51}],44:[function(e,t,r){var n=e("./domTree"),i=e("./fontMetrics"),a=e("./symbols"),o=e("./utils"),s=["\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega"],u=["","",""],f=function(e,t,r,o,s){a[r][e]&&a[r][e].replace&&(e=a[r][e].replace);var u,f=i.getCharacterMetrics(e,t);if(f){var l=f.italic;"text"===r&&(l=0),u=new n.symbolNode(e,f.height,f.depth,l,f.skew,s)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"'"),u=new n.symbolNode(e,0,0,0,0,s);return o&&(o.style.isTight()&&u.classes.push("mtight"),o.getColor()&&(u.style.color=o.getColor())),u},l=function(e,t,r,n,i){if("mathord"===i)return c(e,t,r,n);if("textord"===i)return f(e,"Main-Regular",t,r,n.concat(["mathrm"]));throw new Error("unexpected type: "+i+" in mathDefault")},c=function(e,t,r,n){return/[0-9]/.test(e.charAt(0))||o.contains(u,e)||o.contains(s,e)?f(e,"Main-Italic",t,r,n.concat(["mainit"])):f(e,"Math-Italic",t,r,n.concat(["mathit"]))},p=function(e){var t=0,r=0,n=0;if(e.children)for(var i=0;i<e.children.length;i++)e.children[i].height>t&&(t=e.children[i].height),e.children[i].depth>r&&(r=e.children[i].depth),e.children[i].maxFontSize>n&&(n=e.children[i].maxFontSize);e.height=t,e.depth=r,e.maxFontSize=n},h=function(e,t,r){var i=new n.span(e,t,r);return p(i),i},m=function(e,t){var r=h([],[new n.symbolNode("")]);return r.style.fontSize=t/e.style.sizeMultiplier+"em",h(["fontsize-ensurer","reset-"+e.size,"size5"],[r])},d={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}};t.exports={fontMap:d,makeSymbol:f,mathsym:function(e,t,r,n){return"\\"===e||"main"===a[t][e].font?f(e,"Main-Regular",t,r,n):f(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},makeSpan:h,makeFragment:function(e){var t=new n.documentFragment(e);return p(t),t},makeVList:function(e,t,r,i){var a,o,s;if("individualShift"===t){var u=e;for(e=[u[0]],o=a=-u[0].shift-u[0].elem.depth,s=1;s<u.length;s++){var f=-u[s].shift-o-u[s].elem.depth,l=f-(u[s-1].elem.height+u[s-1].elem.depth);o+=f,e.push({type:"kern",size:l}),e.push(u[s])}}else if("top"===t){var c=r;for(s=0;s<e.length;s++)"kern"===e[s].type?c-=e[s].size:c-=e[s].elem.height+e[s].elem.depth;a=c}else a="bottom"===t?-r:"shift"===t?-e[0].elem.depth-r:"firstBaseline"===t?-e[0].elem.depth:0;var p=0;for(s=0;s<e.length;s++)"elem"===e[s].type&&(p=Math.max(p,e[s].elem.maxFontSize));var d=m(i,p),g=[];for(o=a,s=0;s<e.length;s++)if("kern"===e[s].type)o+=e[s].size;else{var y=e[s].elem,v=-y.depth-o;o+=y.height+y.depth;var b=h([],[d,y]);b.height-=v,b.depth+=v,b.style.top=v+"em",g.push(b)}var x=h(["baseline-fix"],[d,new n.symbolNode("")]);g.push(x);var w=h(["vlist"],g);return w.height=Math.max(o,w.height),w.depth=Math.max(-a,w.depth),w},makeOrd:function(e,t,r){var n=e.mode,s=e.value;a[n][s]&&a[n][s].replace&&(s=a[n][s].replace);var p=["mord"],h=t.font;if(h){if("mathit"===h||o.contains(u,s))return c(s,n,t,p);var m=d[h].fontName;return i.getCharacterMetrics(s,m)?f(s,m,n,t,p.concat([h])):l(s,n,t,p,r)}return l(s,n,t,p,r)},prependChildren:function(e,t){e.children=t.concat(e.children),p(e)},sizingMultiplier:{size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49},spacingFunctions:{"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}}}},{"./domTree":49,"./fontMetrics":51,"./symbols":57,"./utils":59}],45:[function(e,t,r){var n=e("./ParseError"),i=e("./Style"),a=e("./buildCommon"),o=e("./delimiter"),s=e("./domTree"),u=e("./fontMetrics"),f=e("./utils"),l=a.makeSpan,c=function(e){return e instanceof s.span&&"mspace"===e.classes[0]},p=function(e){return e&&"mbin"===e.classes[0]},h=function(e,t){return e?f.contains(["mbin","mopen","mrel","mop","mpunct"],e.classes[0]):t},m=function(e,t){return e?f.contains(["mrel","mclose","mpunct"],e.classes[0]):t},d=function(e,t,r){for(var n=[],i=0;i<e.length;i++){var o=e[i],u=k(o,t);u instanceof s.documentFragment?Array.prototype.push.apply(n,u.children):n.push(u)}var f=null;for(i=0;i<n.length;i++)c(n[i])?((f=f||[]).push(n[i]),n.splice(i,1),i--):f&&(n[i]instanceof s.symbolNode&&(n[i]=l([].concat(n[i].classes),[n[i]])),a.prependChildren(n[i],f),f=null);for(f&&Array.prototype.push.apply(n,f),i=0;i<n.length;i++)p(n[i])&&(h(n[i-1],r)||m(n[i+1],r))&&(n[i].classes[0]="mord");return n},g=function(e){if(e instanceof s.documentFragment){if(e.children.length)return g(e.children[e.children.length-1])}else if(f.contains(["mord","mop","mbin","mrel","mopen","mclose","mpunct","minner"],e.classes[0]))return e.classes[0];return null},y=function(e,t){return!!e&&("op"===e.type?e.value.limits&&(t.style.size===i.DISPLAY.size||e.value.alwaysHandleSupSub):"accent"===e.type?b(e.value.base):null)},v=function(e){return!!e&&("ordgroup"===e.type?1===e.value.length?v(e.value[0]):e:"color"===e.type?1===e.value.value.length?v(e.value.value[0]):e:"font"===e.type?v(e.value.body):e)},b=function(e){var t=v(e);return"mathord"===t.type||"textord"===t.type||"bin"===t.type||"rel"===t.type||"inner"===t.type||"open"===t.type||"close"===t.type||"punct"===t.type},x=function(e,t){return l(t.concat(["sizing","reset-"+e.size,"size5",e.style.reset(),i.TEXT.cls(),"nulldelimiter"]))},w={};w.mathord=function(e,t){return a.makeOrd(e,t,"mathord")},w.textord=function(e,t){return a.makeOrd(e,t,"textord")},w.bin=function(e,t){return a.mathsym(e.value,e.mode,t,["mbin"])},w.rel=function(e,t){return a.mathsym(e.value,e.mode,t,["mrel"])},w.open=function(e,t){return a.mathsym(e.value,e.mode,t,["mopen"])},w.close=function(e,t){return a.mathsym(e.value,e.mode,t,["mclose"])},w.inner=function(e,t){return a.mathsym(e.value,e.mode,t,["minner"])},w.punct=function(e,t){return a.mathsym(e.value,e.mode,t,["mpunct"])},w.ordgroup=function(e,t){return l(["mord",t.style.cls()],d(e.value,t.reset(),!0),t)},w.text=function(e,t){for(var r=t.withFont(e.value.style),n=d(e.value.body,r,!0),i=0;i<n.length-1;i++)n[i].tryCombine(n[i+1])&&(n.splice(i+1,1),i--);return l(["mord","text",r.style.cls()],n,r)},w.color=function(e,t){var r=d(e.value.value,t.withColor(e.value.color),!1);return new a.makeFragment(r)},w.supsub=function(e,t){if(y(e.value.base,t))return w[e.value.base.type](e,t);var r,n,o,f,c,p=k(e.value.base,t.reset()),h=t.style;e.value.sup&&(c=t.withStyle(h.sup()),o=k(e.value.sup,c),r=l([h.reset(),h.sup().cls()],[o],c)),e.value.sub&&(c=t.withStyle(h.sub()),f=k(e.value.sub,c),n=l([h.reset(),h.sub().cls()],[f],c));var m,d;b(e.value.base)?(m=0,d=0):(m=p.height-h.metrics.supDrop,d=p.depth+h.metrics.subDrop);var v;v=h===i.DISPLAY?h.metrics.sup1:h.cramped?h.metrics.sup3:h.metrics.sup2;var x,z=i.TEXT.sizeMultiplier*h.sizeMultiplier,_=.5/u.metrics.ptPerEm/z+"em";if(e.value.sup)if(e.value.sub){m=Math.max(m,v,o.depth+.25*h.metrics.xHeight),d=Math.max(d,h.metrics.sub2);var A=u.metrics.defaultRuleThickness;if(m-o.depth-(f.height-d)<4*A){d=4*A-(m-o.depth)+f.height;var T=.8*h.metrics.xHeight-(m-o.depth);T>0&&(m+=T,d-=T)}x=a.makeVList([{type:"elem",elem:n,shift:d},{type:"elem",elem:r,shift:-m}],"individualShift",null,t),p instanceof s.symbolNode&&(x.children[0].style.marginLeft=-p.italic+"em"),x.children[0].style.marginRight=_,x.children[1].style.marginRight=_}else m=Math.max(m,v,o.depth+.25*h.metrics.xHeight),(x=a.makeVList([{type:"elem",elem:r}],"shift",-m,t)).children[0].style.marginRight=_;else d=Math.max(d,h.metrics.sub1,f.height-.8*h.metrics.xHeight),(x=a.makeVList([{type:"elem",elem:n}],"shift",d,t)).children[0].style.marginRight=_,p instanceof s.symbolNode&&(x.children[0].style.marginLeft=-p.italic+"em");var S=g(p)||"mord";return l([S],[p,l(["msupsub"],[x])],t)},w.genfrac=function(e,t){var r=t.style;"display"===e.value.size?r=i.DISPLAY:"text"===e.value.size&&(r=i.TEXT);var n,s=r.fracNum(),f=r.fracDen();n=t.withStyle(s);var c=k(e.value.numer,n),p=l([r.reset(),s.cls()],[c],n);n=t.withStyle(f);var h,m=k(e.value.denom,n),d=l([r.reset(),f.cls()],[m],n);h=e.value.hasBarLine?u.metrics.defaultRuleThickness/t.style.sizeMultiplier:0;var g,y,v;r.size===i.DISPLAY.size?(g=r.metrics.num1,y=h>0?3*h:7*u.metrics.defaultRuleThickness,v=r.metrics.denom1):(h>0?(g=r.metrics.num2,y=h):(g=r.metrics.num3,y=3*u.metrics.defaultRuleThickness),v=r.metrics.denom2);var b;if(0===h){var w=g-c.depth-(m.height-v);w<y&&(g+=.5*(y-w),v+=.5*(y-w)),b=a.makeVList([{type:"elem",elem:d,shift:v},{type:"elem",elem:p,shift:-g}],"individualShift",null,t)}else{var z=r.metrics.axisHeight;g-c.depth-(z+.5*h)<y&&(g+=y-(g-c.depth-(z+.5*h))),z-.5*h-(m.height-v)<y&&(v+=y-(z-.5*h-(m.height-v)));var _=l([t.style.reset(),i.TEXT.cls(),"frac-line"]);_.height=h;var A=-(z-.5*h);b=a.makeVList([{type:"elem",elem:d,shift:v},{type:"elem",elem:_,shift:A},{type:"elem",elem:p,shift:-g}],"individualShift",null,t)}b.height*=r.sizeMultiplier/t.style.sizeMultiplier,b.depth*=r.sizeMultiplier/t.style.sizeMultiplier;var T;T=r.size===i.DISPLAY.size?r.metrics.delim1:r.metrics.delim2;var S,E;return S=null==e.value.leftDelim?x(t,["mopen"]):o.customSizedDelim(e.value.leftDelim,T,!0,t.withStyle(r),e.mode,["mopen"]),E=null==e.value.rightDelim?x(t,["mclose"]):o.customSizedDelim(e.value.rightDelim,T,!0,t.withStyle(r),e.mode,["mclose"]),l(["mord",t.style.reset(),r.cls()],[S,l(["mfrac"],[b]),E],t)};var z=function(e,t){var r=e.number;return"ex"===e.unit?r*=t.metrics.emPerEx:"mu"===e.unit&&(r/=18),r};w.array=function(e,t){var r,i,o=e.value.body.length,s=0,c=new Array(o),p=t.style,h=1/u.metrics.ptPerEm,m=5*h,d=12*h,g=f.deflt(e.value.arraystretch,1)*d,y=.7*g,v=.3*g,b=0;for(r=0;r<e.value.body.length;++r){var x=e.value.body[r],w=y,_=v;s<x.length&&(s=x.length);var A=new Array(x.length);for(i=0;i<x.length;++i){var T=k(x[i],t);_<T.depth&&(_=T.depth),w<T.height&&(w=T.height),A[i]=T}var S=0;e.value.rowGaps[r]&&(S=z(e.value.rowGaps[r].value,p))>0&&(_<(S+=v)&&(_=S),S=0),A.height=w,A.depth=_,b+=w,A.pos=b,b+=_+S,c[r]=A}var E,M,R=b/2+p.metrics.axisHeight,j=e.value.cols||[],C=[];for(i=0,M=0;i<s||M<j.length;++i,++M){for(var O=j[M]||{},D=!0;"separator"===O.type;){if(D||((E=l(["arraycolsep"],[])).style.width=u.metrics.doubleRuleSep+"em",C.push(E)),"|"!==O.separator)throw new n("Invalid separator type: "+O.separator);var B=l(["vertical-separator"],[]);B.style.height=b+"em",B.style.verticalAlign=-(b-R)+"em",C.push(B),O=j[++M]||{},D=!1}if(!(i>=s)){var N;(i>0||e.value.hskipBeforeAndAfter)&&0!==(N=f.deflt(O.pregap,m))&&((E=l(["arraycolsep"],[])).style.width=N+"em",C.push(E));var P=[];for(r=0;r<o;++r){var I=c[r],L=I[i];if(L){var F=I.pos-R;L.depth=I.depth,L.height=I.height,P.push({type:"elem",elem:L,shift:F})}}P=a.makeVList(P,"individualShift",null,t),P=l(["col-align-"+(O.align||"c")],[P]),C.push(P),(i<s-1||e.value.hskipBeforeAndAfter)&&0!==(N=f.deflt(O.postgap,m))&&((E=l(["arraycolsep"],[])).style.width=N+"em",C.push(E))}}return c=l(["mtable"],C),l(["mord"],[c],t)},w.spacing=function(e,t){return"\\ "===e.value||"\\space"===e.value||" "===e.value||"~"===e.value?"text"===e.mode?a.makeOrd(e,t,"textord"):l(["mspace"],[a.mathsym(e.value,e.mode,t)],t):l(["mspace",a.spacingFunctions[e.value].className],[],t)},w.llap=function(e,t){var r=l(["inner"],[k(e.value.body,t.reset())]),n=l(["fix"],[]);return l(["mord","llap",t.style.cls()],[r,n],t)},w.rlap=function(e,t){var r=l(["inner"],[k(e.value.body,t.reset())]),n=l(["fix"],[]);return l(["mord","rlap",t.style.cls()],[r,n],t)},w.op=function(e,t){var r,n,o=!1;"supsub"===e.type&&(r=e.value.sup,n=e.value.sub,e=e.value.base,o=!0);var s=t.style,c=!1;s.size===i.DISPLAY.size&&e.value.symbol&&!f.contains(["\\smallint"],e.value.body)&&(c=!0);var p,h=0,m=0;if(e.value.symbol){var g=c?"Size2-Regular":"Size1-Regular";h=((p=a.makeSymbol(e.value.body,g,"math",t,["mop","op-symbol",c?"large-op":"small-op"])).height-p.depth)/2-s.metrics.axisHeight*s.sizeMultiplier,m=p.italic}else if(e.value.value){var y=d(e.value.value,t,!0);p=l(["mop"],y,t)}else{for(var v=[],b=1;b<e.value.body.length;b++)v.push(a.mathsym(e.value.body[b],e.mode));p=l(["mop"],v,t)}if(o){p=l([],[p]);var x,w,z,_,A;if(r){A=t.withStyle(s.sup());var T=k(r,A);x=l([s.reset(),s.sup().cls()],[T],A),w=Math.max(u.metrics.bigOpSpacing1,u.metrics.bigOpSpacing3-T.depth)}if(n){A=t.withStyle(s.sub());var S=k(n,A);z=l([s.reset(),s.sub().cls()],[S],A),_=Math.max(u.metrics.bigOpSpacing2,u.metrics.bigOpSpacing4-S.height)}var E,M,R;if(r)if(n){if(!r&&!n)return p;R=u.metrics.bigOpSpacing5+z.height+z.depth+_+p.depth+h,(E=a.makeVList([{type:"kern",size:u.metrics.bigOpSpacing5},{type:"elem",elem:z},{type:"kern",size:_},{type:"elem",elem:p},{type:"kern",size:w},{type:"elem",elem:x},{type:"kern",size:u.metrics.bigOpSpacing5}],"bottom",R,t)).children[0].style.marginLeft=-m+"em",E.children[2].style.marginLeft=m+"em"}else R=p.depth+h,(E=a.makeVList([{type:"elem",elem:p},{type:"kern",size:w},{type:"elem",elem:x},{type:"kern",size:u.metrics.bigOpSpacing5}],"bottom",R,t)).children[1].style.marginLeft=m+"em";else M=p.height-h,(E=a.makeVList([{type:"kern",size:u.metrics.bigOpSpacing5},{type:"elem",elem:z},{type:"kern",size:_},{type:"elem",elem:p}],"top",M,t)).children[0].style.marginLeft=-m+"em";return l(["mop","op-limits"],[E],t)}return e.value.symbol&&(p.style.top=h+"em"),p},w.mod=function(e,t){var r=[];if("bmod"===e.value.modType?(t.style.isTight()||r.push(l(["mspace","negativemediumspace"],[],t)),r.push(l(["mspace","thickspace"],[],t))):t.style.size===i.DISPLAY.size?r.push(l(["mspace","quad"],[],t)):"mod"===e.value.modType?r.push(l(["mspace","twelvemuspace"],[],t)):r.push(l(["mspace","eightmuspace"],[],t)),"pod"!==e.value.modType&&"pmod"!==e.value.modType||r.push(a.mathsym("(",e.mode)),"pod"!==e.value.modType){var n=[a.mathsym("m",e.mode),a.mathsym("o",e.mode),a.mathsym("d",e.mode)];"bmod"===e.value.modType?(r.push(l(["mbin"],n,t)),r.push(l(["mspace","thickspace"],[],t)),t.style.isTight()||r.push(l(["mspace","negativemediumspace"],[],t))):(Array.prototype.push.apply(r,n),r.push(l(["mspace","sixmuspace"],[],t)))}return e.value.value&&Array.prototype.push.apply(r,d(e.value.value,t,!1)),"pod"!==e.value.modType&&"pmod"!==e.value.modType||r.push(a.mathsym(")",e.mode)),a.makeFragment(r)},w.katex=function(e,t){var r=l(["k"],[a.mathsym("K",e.mode)],t),n=l(["a"],[a.mathsym("A",e.mode)],t);n.height=.75*(n.height+.2),n.depth=.75*(n.height-.2);var i=l(["t"],[a.mathsym("T",e.mode)],t),o=l(["e"],[a.mathsym("E",e.mode)],t);o.height=o.height-.2155,o.depth=o.depth+.2155;var s=l(["x"],[a.mathsym("X",e.mode)],t);return l(["mord","katex-logo"],[r,n,i,o,s],t)},w.overline=function(e,t){var r=t.style,n=k(e.value.body,t.withStyle(r.cramp())),o=u.metrics.defaultRuleThickness/r.sizeMultiplier,s=l([r.reset(),i.TEXT.cls(),"overline-line"]);s.height=o,s.maxFontSize=1;var f=a.makeVList([{type:"elem",elem:n},{type:"kern",size:3*o},{type:"elem",elem:s},{type:"kern",size:o}],"firstBaseline",null,t);return l(["mord","overline"],[f],t)},w.underline=function(e,t){var r=t.style,n=k(e.value.body,t),o=u.metrics.defaultRuleThickness/r.sizeMultiplier,s=l([r.reset(),i.TEXT.cls(),"underline-line"]);s.height=o,s.maxFontSize=1;var f=a.makeVList([{type:"kern",size:o},{type:"elem",elem:s},{type:"kern",size:3*o},{type:"elem",elem:n}],"top",n.height,t);return l(["mord","underline"],[f],t)},w.sqrt=function(e,t){var r=t.style,n=k(e.value.body,t.withStyle(r.cramp())),s=u.metrics.defaultRuleThickness/r.sizeMultiplier,f=l([r.reset(),i.TEXT.cls(),"sqrt-line"],[],t);f.height=s,f.maxFontSize=1;var c=s;r.id<i.TEXT.id&&(c=r.metrics.xHeight);var p=s+c/4,h=(n.height+n.depth)*r.sizeMultiplier+p+s,m=l(["sqrt-sign"],[o.customSizedDelim("\\surd",h,!1,t,e.mode)],t),d=m.height+m.depth-s;d>n.height+n.depth+p&&(p=(p+d-n.height-n.depth)/2);var g=-(n.height+p+s)+m.height;m.style.top=g+"em",m.height-=g,m.depth+=g;var y;if(y=0===n.height&&0===n.depth?l():a.makeVList([{type:"elem",elem:n},{type:"kern",size:p},{type:"elem",elem:f},{type:"kern",size:s}],"firstBaseline",null,t),e.value.index){var v=t.withStyle(i.SCRIPTSCRIPT),b=k(e.value.index,v),x=l([r.reset(),i.SCRIPTSCRIPT.cls()],[b],v),w=.6*(Math.max(m.height,y.height)-Math.max(m.depth,y.depth)),z=a.makeVList([{type:"elem",elem:x}],"shift",-w,t),_=l(["root"],[z]);return l(["mord","sqrt"],[_,m,y],t)}return l(["mord","sqrt"],[m,y],t)},w.sizing=function(e,t){var r=d(e.value.value,t.withSize(e.value.size),!1),n=t.style,i=a.sizingMultiplier[e.value.size];i*=n.sizeMultiplier;for(var o=0;o<r.length;o++){var s=f.indexOf(r[o].classes,"sizing");s<0?(r[o].classes.push("sizing","reset-"+t.size,e.value.size,n.cls()),r[o].maxFontSize=i):r[o].classes[s+1]==="reset-"+e.value.size&&(r[o].classes[s+1]="reset-"+t.size)}return a.makeFragment(r)},w.styling=function(e,t){for(var r={display:i.DISPLAY,text:i.TEXT,script:i.SCRIPT,scriptscript:i.SCRIPTSCRIPT}[e.value.style],n=t.withStyle(r),o=d(e.value.value,n,!1),s=0;s<o.length;s++){var u=f.indexOf(o[s].classes,r.reset());u<0?o[s].classes.push(t.style.reset(),r.cls()):o[s].classes[u]=t.style.reset()}return new a.makeFragment(o)},w.font=function(e,t){var r=e.value.font;return k(e.value.body,t.withFont(r))},w.delimsizing=function(e,t){var r=e.value.value;return"."===r?l([e.value.mclass]):o.sizedDelim(r,e.value.size,t,e.mode,[e.value.mclass])},w.leftright=function(e,t){for(var r=d(e.value.body,t.reset(),!0),n=0,i=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(n=Math.max(r[s].height,n),i=Math.max(r[s].depth,i));var u=t.style;n*=u.sizeMultiplier,i*=u.sizeMultiplier;var f;if(f="."===e.value.left?x(t,["mopen"]):o.leftRightDelim(e.value.left,n,i,t,e.mode,["mopen"]),r.unshift(f),a)for(s=1;s<r.length;s++)r[s].isMiddle&&(r[s]=o.leftRightDelim(r[s].isMiddle.value,n,i,r[s].isMiddle.options,e.mode,[]));var c;return c="."===e.value.right?x(t,["mclose"]):o.leftRightDelim(e.value.right,n,i,t,e.mode,["mclose"]),r.push(c),l(["minner",u.cls()],r,t)},w.middle=function(e,t){var r;return"."===e.value.value?r=x(t,[]):(r=o.sizedDelim(e.value.value,1,t,e.mode,[])).isMiddle={value:e.value.value,options:t},r},w.rule=function(e,t){var r=l(["mord","rule"],[],t),n=t.style,i=0;e.value.shift&&(i=z(e.value.shift,n));var a=z(e.value.width,n),o=z(e.value.height,n);return i/=n.sizeMultiplier,a/=n.sizeMultiplier,o/=n.sizeMultiplier,r.style.borderRightWidth=a+"em",r.style.borderTopWidth=o+"em",r.style.bottom=i+"em",r.width=a,r.height=o+i,r.depth=-i,r},w.kern=function(e,t){var r=l(["mord","rule"],[],t),n=t.style,i=0;return e.value.dimension&&(i=z(e.value.dimension,n)),i/=n.sizeMultiplier,r.style.marginLeft=i+"em",r},w.accent=function(e,t){var r,n=e.value.base,i=t.style;if("supsub"===e.type){var o=e;n=(e=o.value.base).value.base,o.value.base=n,r=k(o,t.reset())}var s,u=k(n,t.withStyle(i.cramp()));if(b(n)){var f=v(n);s=k(f,t.withStyle(i.cramp())).skew}else s=0;var c=Math.min(u.height,i.metrics.xHeight),p=a.makeSymbol(e.value.accent,"Main-Regular","math",t);p.italic=0;var h="\\vec"===e.value.accent?"accent-vec":null,m=l(["accent-body",h],[l([],[p])]);(m=a.makeVList([{type:"elem",elem:u},{type:"kern",size:-c},{type:"elem",elem:m}],"firstBaseline",null,t)).children[1].style.marginLeft=2*s+"em";var d=l(["mord","accent"],[m],t);return r?(r.children[0]=d,r.height=Math.max(d.height,r.height),r.classes[0]="mord",r):d},w.phantom=function(e,t){var r=d(e.value.value,t.withPhantom(),!1);return new a.makeFragment(r)},w.mclass=function(e,t){var r=d(e.value.value,t,!0);return l([e.value.mclass],r,t)};var k=function(e,t){if(!e)return l();if(w[e.type]){var r,i=w[e.type](e,t);return t.style!==t.parentStyle&&(r=t.style.sizeMultiplier/t.parentStyle.sizeMultiplier,i.height*=r,i.depth*=r),t.size!==t.parentSize&&(r=a.sizingMultiplier[t.size]/a.sizingMultiplier[t.parentSize],i.height*=r,i.depth*=r),i}throw new n("Got group of unknown type: '"+e.type+"'")};t.exports=function(e,t){e=JSON.parse(JSON.stringify(e));var r=d(e,t,!0),n=l(["base",t.style.cls()],r,t),i=l(["strut"]),a=l(["strut","bottom"]);i.style.height=n.height+"em",a.style.height=n.height+n.depth+"em",a.style.verticalAlign=-n.depth+"em";var o=l(["katex-html"],[i,a,n]);return o.setAttribute("aria-hidden","true"),o}},{"./ParseError":40,"./Style":43,"./buildCommon":44,"./delimiter":48,"./domTree":49,"./fontMetrics":51,"./utils":59}],46:[function(e,t,r){var n=e("./buildCommon"),i=e("./fontMetrics"),a=e("./mathMLTree"),o=e("./ParseError"),s=e("./symbols"),u=e("./utils"),f=n.makeSpan,l=n.fontMap,c=function(e,t){return s[t][e]&&s[t][e].replace&&(e=s[t][e].replace),new a.TextNode(e)},p=function(e,t){var r=t.font;if(!r)return null;var n=e.mode;if("mathit"===r)return"italic";var a=e.value;if(u.contains(["\\imath","\\jmath"],a))return null;s[n][a]&&s[n][a].replace&&(a=s[n][a].replace);var o=l[r].fontName;return i.getCharacterMetrics(a,o)?l[t.font].variant:null},h={};h.mathord=function(e,t){var r=new a.MathNode("mi",[c(e.value,e.mode)]),n=p(e,t);return n&&r.setAttribute("mathvariant",n),r},h.textord=function(e,t){var r,n=c(e.value,e.mode),i=p(e,t)||"normal";return/[0-9]/.test(e.value)?(r=new a.MathNode("mn",[n]),t.font&&r.setAttribute("mathvariant",i)):(r=new a.MathNode("mi",[n])).setAttribute("mathvariant",i),r},h.bin=function(e){return new a.MathNode("mo",[c(e.value,e.mode)])},h.rel=function(e){return new a.MathNode("mo",[c(e.value,e.mode)])},h.open=function(e){return new a.MathNode("mo",[c(e.value,e.mode)])},h.close=function(e){return new a.MathNode("mo",[c(e.value,e.mode)])},h.inner=function(e){return new a.MathNode("mo",[c(e.value,e.mode)])},h.punct=function(e){var t=new a.MathNode("mo",[c(e.value,e.mode)]);return t.setAttribute("separator","true"),t},h.ordgroup=function(e,t){var r=m(e.value,t);return new a.MathNode("mrow",r)},h.text=function(e,t){var r=m(e.value.body,t);return new a.MathNode("mtext",r)},h.color=function(e,t){var r=m(e.value.value,t),n=new a.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.value.color),n},h.supsub=function(e,t){var r=[d(e.value.base,t)];e.value.sub&&r.push(d(e.value.sub,t)),e.value.sup&&r.push(d(e.value.sup,t));var n;return n=e.value.sub?e.value.sup?"msubsup":"msub":"msup",new a.MathNode(n,r)},h.genfrac=function(e,t){var r=new a.MathNode("mfrac",[d(e.value.numer,t),d(e.value.denom,t)]);if(e.value.hasBarLine||r.setAttribute("linethickness","0px"),null!=e.value.leftDelim||null!=e.value.rightDelim){var n=[];if(null!=e.value.leftDelim){var i=new a.MathNode("mo",[new a.TextNode(e.value.leftDelim)]);i.setAttribute("fence","true"),n.push(i)}if(n.push(r),null!=e.value.rightDelim){var o=new a.MathNode("mo",[new a.TextNode(e.value.rightDelim)]);o.setAttribute("fence","true"),n.push(o)}return new a.MathNode("mrow",n)}return r},h.array=function(e,t){return new a.MathNode("mtable",e.value.body.map(function(e){return new a.MathNode("mtr",e.map(function(e){return new a.MathNode("mtd",[d(e,t)])}))}))},h.sqrt=function(e,t){return e.value.index?new a.MathNode("mroot",[d(e.value.body,t),d(e.value.index,t)]):new a.MathNode("msqrt",[d(e.value.body,t)])},h.leftright=function(e,t){var r=m(e.value.body,t);if("."!==e.value.left){var n=new a.MathNode("mo",[c(e.value.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if("."!==e.value.right){var i=new a.MathNode("mo",[c(e.value.right,e.mode)]);i.setAttribute("fence","true"),r.push(i)}return new a.MathNode("mrow",r)},h.middle=function(e,t){var r=new a.MathNode("mo",[c(e.value.middle,e.mode)]);return r.setAttribute("fence","true"),r},h.accent=function(e,t){var r=new a.MathNode("mo",[c(e.value.accent,e.mode)]),n=new a.MathNode("mover",[d(e.value.base,t),r]);return n.setAttribute("accent","true"),n},h.spacing=function(e){var t;return"\\ "===e.value||"\\space"===e.value||" "===e.value||"~"===e.value?t=new a.MathNode("mtext",[new a.TextNode("")]):(t=new a.MathNode("mspace")).setAttribute("width",n.spacingFunctions[e.value].size),t},h.op=function(e,t){return e.value.symbol?new a.MathNode("mo",[c(e.value.body,e.mode)]):e.value.value?new a.MathNode("mo",m(e.value.value,t)):new a.MathNode("mi",[new a.TextNode(e.value.body.slice(1))])},h.mod=function(e,t){var r=[];if("pod"!==e.value.modType&&"pmod"!==e.value.modType||r.push(new a.MathNode("mo",[c("(",e.mode)])),"pod"!==e.value.modType&&r.push(new a.MathNode("mo",[c("mod",e.mode)])),e.value.value){var n=new a.MathNode("mspace");n.setAttribute("width","0.333333em"),r.push(n),r=r.concat(m(e.value.value,t))}return"pod"!==e.value.modType&&"pmod"!==e.value.modType||r.push(new a.MathNode("mo",[c(")",e.mode)])),new a.MathNode("mo",r)},h.katex=function(e){return new a.MathNode("mtext",[new a.TextNode("KaTeX")])},h.font=function(e,t){var r=e.value.font;return d(e.value.body,t.withFont(r))},h.delimsizing=function(e){var t=[];"."!==e.value.value&&t.push(c(e.value.value,e.mode));var r=new a.MathNode("mo",t);return"mopen"===e.value.mclass||"mclose"===e.value.mclass?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r},h.styling=function(e,t){var r=m(e.value.value,t),n=new a.MathNode("mstyle",r),i={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.value.style];return n.setAttribute("scriptlevel",i[0]),n.setAttribute("displaystyle",i[1]),n},h.sizing=function(e,t){var r=m(e.value.value,t),i=new a.MathNode("mstyle",r);return i.setAttribute("mathsize",n.sizingMultiplier[e.value.size]+"em"),i},h.overline=function(e,t){var r=new a.MathNode("mo",[new a.TextNode("")]);r.setAttribute("stretchy","true");var n=new a.MathNode("mover",[d(e.value.body,t),r]);return n.setAttribute("accent","true"),n},h.underline=function(e,t){var r=new a.MathNode("mo",[new a.TextNode("")]);r.setAttribute("stretchy","true");var n=new a.MathNode("munder",[d(e.value.body,t),r]);return n.setAttribute("accentunder","true"),n},h.rule=function(e){return new a.MathNode("mrow")},h.kern=function(e){return new a.MathNode("mrow")},h.llap=function(e,t){var r=new a.MathNode("mpadded",[d(e.value.body,t)]);return r.setAttribute("lspace","-1width"),r.setAttribute("width","0px"),r},h.rlap=function(e,t){var r=new a.MathNode("mpadded",[d(e.value.body,t)]);return r.setAttribute("width","0px"),r},h.phantom=function(e,t){var r=m(e.value.value,t);return new a.MathNode("mphantom",r)},h.mclass=function(e,t){var r=m(e.value.value,t);return new a.MathNode("mstyle",r)};var m=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n];r.push(d(i,t))}return r},d=function(e,t){if(!e)return new a.MathNode("mrow");if(h[e.type])return h[e.type](e,t);throw new o("Got group of unknown type: '"+e.type+"'")};t.exports=function(e,t,r){var n=m(e,r),i=new a.MathNode("mrow",n),o=new a.MathNode("annotation",[new a.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var s=new a.MathNode("semantics",[i,o]),u=new a.MathNode("math",[s]);return f(["katex-mathml"],[u])}},{"./ParseError":40,"./buildCommon":44,"./fontMetrics":51,"./mathMLTree":54,"./symbols":57,"./utils":59}],47:[function(e,t,r){var n=e("./buildHTML"),i=e("./buildMathML"),a=e("./buildCommon"),o=e("./Options"),s=e("./Settings"),u=e("./Style"),f=a.makeSpan;t.exports=function(e,t,r){r=r||new s({});var a=u.TEXT;r.displayMode&&(a=u.DISPLAY);var l=new o({style:a,size:"size5"}),c=i(e,t,l),p=n(e,l),h=f(["katex"],[c,p]);return r.displayMode?f(["katex-display"],[h]):h}},{"./Options":39,"./Settings":42,"./Style":43,"./buildCommon":44,"./buildHTML":45,"./buildMathML":46}],48:[function(e,t,r){var n=e("./ParseError"),i=e("./Style"),a=e("./buildCommon"),o=e("./fontMetrics"),s=e("./symbols"),u=e("./utils"),f=a.makeSpan,l=function(e,t){return s.math[e]&&s.math[e].replace?o.getCharacterMetrics(s.math[e].replace,t):o.getCharacterMetrics(e,t)},c=function(e,t,r,n){return a.makeSymbol(e,"Size"+t+"-Regular",r,n)},p=function(e,t,r,n){var i=f((n=n||[]).concat(["style-wrap",r.style.reset(),t.cls()]),[e],r),a=t.sizeMultiplier/r.style.sizeMultiplier;return i.height*=a,i.depth*=a,i.maxFontSize=t.sizeMultiplier,i},h=function(e,t,r,n,i,o){var s=a.makeSymbol(e,"Main-Regular",i,n),u=p(s,t,n,o);if(r){var f=(1-n.style.sizeMultiplier/t.sizeMultiplier)*n.style.metrics.axisHeight;u.style.top=f+"em",u.height-=f,u.depth+=f}return u},m=function(e,t,r,n,a,o){var s=c(e,t,a,n),u=p(f(["delimsizing","size"+t],[s],n),i.TEXT,n,o);if(r){var l=(1-n.style.sizeMultiplier)*n.style.metrics.axisHeight;u.style.top=l+"em",u.height-=l,u.depth+=l}return u},d=function(e,t,r){var n;return"Size1-Regular"===t?n="delim-size1":"Size4-Regular"===t&&(n="delim-size4"),{type:"elem",elem:f(["delimsizinginner",n],[f([],[a.makeSymbol(e,t,r)])])}},g=function(e,t,r,n,o,s){var u,c,h,m;u=h=m=e,c=null;var g="Size1-Regular";"\\uparrow"===e?h=m="":"\\Uparrow"===e?h=m="":"\\downarrow"===e?u=h="":"\\Downarrow"===e?u=h="":"\\updownarrow"===e?(u="\\uparrow",h="",m="\\downarrow"):"\\Updownarrow"===e?(u="\\Uparrow",h="",m="\\Downarrow"):"["===e||"\\lbrack"===e?(u="",h="",m="",g="Size4-Regular"):"]"===e||"\\rbrack"===e?(u="",h="",m="",g="Size4-Regular"):"\\lfloor"===e?(h=u="",m="",g="Size4-Regular"):"\\lceil"===e?(u="",h=m="",g="Size4-Regular"):"\\rfloor"===e?(h=u="",m="",g="Size4-Regular"):"\\rceil"===e?(u="",h=m="",g="Size4-Regular"):"("===e?(u="",h="",m="",g="Size4-Regular"):")"===e?(u="",h="",m="",g="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(u="",c="",m="",h="",g="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(u="",c="",m="",h="",g="Size4-Regular"):"\\lgroup"===e?(u="",m="",h="",g="Size4-Regular"):"\\rgroup"===e?(u="",m="",h="",g="Size4-Regular"):"\\lmoustache"===e?(u="",m="",h="",g="Size4-Regular"):"\\rmoustache"===e?(u="",m="",h="",g="Size4-Regular"):"\\surd"===e&&(u="",m="",h="",g="Size4-Regular");var y=l(u,g),v=y.height+y.depth,b=l(h,g),x=b.height+b.depth,w=l(m,g),z=w.height+w.depth,k=0,_=1;if(null!==c){var A=l(c,g);k=A.height+A.depth,_=2}var T=v+z+k,S=Math.ceil((t-T)/(_*x)),E=T+S*_*x,M=n.style.metrics.axisHeight;r&&(M*=n.style.sizeMultiplier);var R=E/2-M,j=[];j.push(d(m,g,o));var C;if(null===c)for(C=0;C<S;C++)j.push(d(h,g,o));else{for(C=0;C<S;C++)j.push(d(h,g,o));for(j.push(d(c,g,o)),C=0;C<S;C++)j.push(d(h,g,o))}j.push(d(u,g,o));var O=a.makeVList(j,"bottom",R,n);return p(f(["delimsizing","mult"],[O],n),i.TEXT,n,s)},y=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],v=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],b=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],x=[0,1.2,1.8,2.4,3],w=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],z=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"stack"}],k=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],_=function(e){return"small"===e.type?"Main-Regular":"large"===e.type?"Size"+e.size+"-Regular":"stack"===e.type?"Size4-Regular":void 0},A=function(e,t,r,n){for(var i=Math.min(2,3-n.style.size);i<r.length&&"stack"!==r[i].type;i++){var a=l(e,_(r[i])),o=a.height+a.depth;if("small"===r[i].type&&(o*=r[i].style.sizeMultiplier),o>t)return r[i]}return r[r.length-1]},T=function(e,t,r,n,i,a){"<"===e||"\\lt"===e?e="\\langle":">"!==e&&"\\gt"!==e||(e="\\rangle");var o;o=u.contains(b,e)?w:u.contains(y,e)?k:z;var s=A(e,t,o,n);return"small"===s.type?h(e,s.style,r,n,i,a):"large"===s.type?m(e,s.size,r,n,i,a):"stack"===s.type?g(e,t,r,n,i,a):void 0};t.exports={sizedDelim:function(e,t,r,i,a){if("<"===e||"\\lt"===e?e="\\langle":">"!==e&&"\\gt"!==e||(e="\\rangle"),u.contains(y,e)||u.contains(b,e))return m(e,t,!1,r,i,a);if(u.contains(v,e))return g(e,x[t],!1,r,i,a);throw new n("Illegal delimiter: '"+e+"'")},customSizedDelim:T,leftRightDelim:function(e,t,r,n,i,a){var s=n.style.metrics.axisHeight*n.style.sizeMultiplier,u=5/o.metrics.ptPerEm,f=Math.max(t-s,r+s),l=Math.max(f/500*901,2*f-u);return T(e,l,!0,n,i,a)}}},{"./ParseError":40,"./Style":43,"./buildCommon":44,"./fontMetrics":51,"./symbols":57,"./utils":59}],49:[function(e,t,r){function n(e,t,r){this.classes=e||[],this.children=t||[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={},this.attributes={},r&&(r.style.isTight()&&this.classes.push("mtight"),r.getColor()&&(this.style.color=r.getColor()))}function i(e){this.children=e||[],this.height=0,this.depth=0,this.maxFontSize=0}function a(e,t,r,n,i,a,s){this.value=e||"",this.height=t||0,this.depth=r||0,this.italic=n||0,this.skew=i||0,this.classes=a||[],this.style=s||{},this.maxFontSize=0,o.cjkRegex.test(e)&&(o.hangulRegex.test(e)?this.classes.push("hangul_fallback"):this.classes.push("cjk_fallback")),/[]/.test(this.value)&&(this.value=f[this.value])}var o=e("./unicodeRegexes"),s=e("./utils"),u=function(e){for(var t=(e=e.slice()).length-1;t>=0;t--)e[t]||e.splice(t,1);return e.join(" ")};n.prototype.setAttribute=function(e,t){this.attributes[e]=t},n.prototype.tryCombine=function(e){return!1},n.prototype.toNode=function(){var e=document.createElement("span");e.className=u(this.classes);for(var t in this.style)Object.prototype.hasOwnProperty.call(this.style,t)&&(e.style[t]=this.style[t]);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},n.prototype.toMarkup=function(){var e="<span";this.classes.length&&(e+=' class="',e+=s.escape(u(this.classes)),e+='"');var t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=s.hyphenate(r)+":"+this.style[r]+";");t&&(e+=' style="'+s.escape(t)+'"');for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=s.escape(this.attributes[n]),e+='"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</span>"},i.prototype.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},i.prototype.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e};var f={"":"","":"","":"","":""};a.prototype.tryCombine=function(e){if(!e||!(e instanceof a)||this.italic>0||u(this.classes)!==u(e.classes)||this.skew!==e.skew||this.maxFontSize!==e.maxFontSize)return!1;for(var t in this.style)if(this.style.hasOwnProperty(t)&&this.style[t]!==e.style[t])return!1;for(t in e.style)if(e.style.hasOwnProperty(t)&&this.style[t]!==e.style[t])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this.italic=e.italic,!0},a.prototype.toNode=function(){var e=document.createTextNode(this.value),t=null;this.italic>0&&((t=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((t=t||document.createElement("span")).className=u(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&((t=t||document.createElement("span")).style[r]=this.style[r]);return t?(t.appendChild(e),t):e},a.prototype.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=s.escape(u(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=s.hyphenate(n)+":"+this.style[n]+";");r&&(e=!0,t+=' style="'+s.escape(r)+'"');var i=s.escape(this.value);return e?(t+=">",t+=i,t+="</span>"):i},t.exports={span:n,documentFragment:i,symbolNode:a}},{"./unicodeRegexes":58,"./utils":59}],50:[function(e,t,r){function n(e,t){for(var r=[],n=[r],i=[];;){var a=e.parseExpression(!1,null);r.push(new u("ordgroup",a,e.mode));var s=e.nextToken.text;if("&"===s)e.consume();else{if("\\end"===s)break;if("\\\\"!==s&&"\\cr"!==s)throw new o("Expected & or \\\\ or \\end",e.nextToken);var f=e.parseFunction();i.push(f.value.size),r=[],n.push(r)}}return t.body=n,t.rowGaps=i,new u(t.type,t,e.mode)}function i(e,r,n){"string"==typeof e&&(e=[e]),"number"==typeof r&&(r={numArgs:r});for(var i={numArgs:r.numArgs||0,argTypes:r.argTypes,greediness:1,allowedInText:!!r.allowedInText,numOptionalArgs:r.numOptionalArgs||0,handler:n},a=0;a<e.length;++a)t.exports[e[a]]=i}var a=e("./parseData"),o=e("./ParseError"),s=e("./Style"),u=a.ParseNode;i("array",{numArgs:1},function(e,t){var r=t[0],i={type:"array",cols:(r=r.value.map?r.value:[r]).map(function(e){var t=e.value;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};throw new o("Unknown column alignment: "+e.value,e)}),hskipBeforeAndAfter:!0};return i=n(e.parser,i)}),i(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],{},function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName],r={type:"array",hskipBeforeAndAfter:!1};return r=n(e.parser,r),t&&(r=new u("leftright",{body:[r],left:t[0],right:t[1]},e.mode)),r}),i("cases",{},function(e){var t={type:"array",arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:s.TEXT.metrics.quad},{type:"align",align:"l",pregap:0,postgap:0}]};return t=n(e.parser,t),t=new u("leftright",{body:[t],left:"\\{",right:"."},e.mode)}),i("aligned",{},function(e){var t={type:"array",cols:[]};t=n(e.parser,t);var r=new u("ordgroup",[],e.mode),i=0;t.value.body.forEach(function(e){var t;for(t=1;t<e.length;t+=2)e[t].value.unshift(r);i<e.length&&(i=e.length)});for(var a=0;a<i;++a){var o="r",s=0;a%2==1?o="l":a>0&&(s=2),t.value.cols[a]={type:"align",align:o,pregap:s,postgap:0}}return t})},{"./ParseError":40,"./Style":43,"./parseData":55}],51:[function(e,t,r){e("./Style");var n=e("./unicodeRegexes").cjkRegex,i={defaultRuleThickness:.04,bigOpSpacing1:.111,bigOpSpacing2:.166,bigOpSpacing3:.2,bigOpSpacing4:.6,bigOpSpacing5:.1,ptPerEm:10,doubleRuleSep:.2},a=e("./fontMetricsData"),o={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"o","":"B","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"o","":"y","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"};t.exports={metrics:i,sigmas:{slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25]},getCharacterMetrics:function(e,t){var r=e.charCodeAt(0);e[0]in o?r=o[e[0]].charCodeAt(0):n.test(e[0])&&(r="M".charCodeAt(0));var i=a[t][r];if(i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}}},{"./Style":43,"./fontMetricsData":52,"./unicodeRegexes":58}],52:[function(e,t,r){t.exports={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],96:[0,.69444,0,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],175:[0,.59611,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],180:[0,.69444,0,0],215:[.13333,.63333,0,0],247:[.13333,.63333,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.69444,0,0],772:[0,.59611,0,0],774:[0,.69444,0,0],775:[0,.69444,0,0],776:[0,.69444,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],824:[.19444,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],305:[0,.43056,0,.02778],567:[.19444,.43056,0,.08334],768:[0,.69444,0,0],769:[0,.69444,.09694,0],770:[0,.69444,.06646,0],771:[0,.66786,.11585,0],772:[0,.56167,.10333,0],774:[0,.69444,.10806,0],775:[0,.66786,.11752,0],776:[0,.66786,.10474,0],778:[0,.69444,0,0],779:[0,.69444,.1225,0],780:[0,.62847,.08295,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],96:[0,.69444,0,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],175:[0,.56778,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],180:[0,.69444,0,0],215:[.08333,.58333,0,0],247:[.08333,.58333,0,0],305:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.66786,0,0],772:[0,.56778,0,0],774:[0,.69444,0,0],775:[0,.66786,0,0],776:[0,.66786,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.62847,0,0],824:[.19444,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8800:[.215,.716,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0]},"Math-BoldItalic":{47:[.19444,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{47:[.19444,.69444,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"Math-Regular":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.67659,0,0],772:[0,.60889,0,0],774:[0,.69444,0,0],775:[0,.67937,0,0],776:[0,.67937,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-99e-5,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],768:[0,.61111,0,0],769:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],772:[0,.56555,0,0],774:[0,.61111,0,0],776:[0,.61111,0,0],778:[0,.61111,0,0],780:[0,.56597,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],2018:[0,.61111,0,0],2019:[0,.61111,0,0],8242:[0,.61111,0,0]}}},{}],53:[function(e,t,r){function n(e,r,n){"string"==typeof e&&(e=[e]),"number"==typeof r&&(r={numArgs:r});for(var i={numArgs:r.numArgs,argTypes:r.argTypes,greediness:void 0===r.greediness?1:r.greediness,allowedInText:!!r.allowedInText,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,handler:n},a=0;a<e.length;++a)t.exports[e[a]]=i}var i=e("./utils"),a=e("./ParseError"),o=e("./parseData").ParseNode,s=function(e){return"ordgroup"===e.type?e.value:[e]};n("\\sqrt",{numArgs:1,numOptionalArgs:1},function(e,t){var r=t[0];return{type:"sqrt",body:t[1],index:r}});var u={"\\text":void 0,"\\textrm":"mathrm","\\textsf":"mathsf","\\texttt":"mathtt","\\textnormal":"mathrm","\\textbf":"mathbf","\\textit":"textit"};n(["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0},function(e,t){var r=t[0];return{type:"text",body:s(r),style:u[e.funcName]}}),n("\\color",{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},function(e,t){var r=t[0],n=t[1];return{type:"color",color:r.value,value:s(n)}}),n("\\overline",{numArgs:1},function(e,t){return{type:"overline",body:t[0]}}),n("\\underline",{numArgs:1},function(e,t){return{type:"underline",body:t[0]}}),n("\\rule",{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},function(e,t){var r=t[0],n=t[1],i=t[2];return{type:"rule",shift:r&&r.value,width:n.value,height:i.value}}),n(["\\kern","\\mkern"],{numArgs:1,argTypes:["size"]},function(e,t){return{type:"kern",dimension:t[0].value}}),n("\\KaTeX",{numArgs:0},function(e){return{type:"katex"}}),n("\\phantom",{numArgs:1},function(e,t){var r=t[0];return{type:"phantom",value:s(r)}}),n(["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],{numArgs:1},function(e,t){var r=t[0];return{type:"mclass",mclass:"m"+e.funcName.substr(5),value:s(r)}}),n("\\stackrel",{numArgs:2},function(e,t){var r=t[0],n=t[1],i=new o("op",{type:"op",limits:!0,alwaysHandleSupSub:!0,symbol:!1,value:s(n)},n.mode);return{type:"mclass",mclass:"mrel",value:[new o("supsub",{base:i,sup:r,sub:null},r.mode)]}}),n("\\bmod",{numArgs:0},function(e,t){return{type:"mod",modType:"bmod",value:null}}),n(["\\pod","\\pmod","\\mod"],{numArgs:1},function(e,t){var r=t[0];return{type:"mod",modType:e.funcName.substr(1),value:s(r)}});var f={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},l=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","<",">","\\langle","\\rangle","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],c={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak"};n(["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],{numArgs:1,allowedInText:!0,greediness:3},function(e,t){var r=t[0];return{type:"color",color:"katex-"+e.funcName.slice(1),value:s(r)}}),n(["\\arcsin","\\arccos","\\arctan","\\arg","\\cos","\\cosh","\\cot","\\coth","\\csc","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\tan","\\tanh"],{numArgs:0},function(e){return{type:"op",limits:!1,symbol:!1,body:e.funcName}}),n(["\\det","\\gcd","\\inf","\\lim","\\liminf","\\limsup","\\max","\\min","\\Pr","\\sup"],{numArgs:0},function(e){return{type:"op",limits:!0,symbol:!1,body:e.funcName}}),n(["\\int","\\iint","\\iiint","\\oint"],{numArgs:0},function(e){return{type:"op",limits:!1,symbol:!0,body:e.funcName}}),n(["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint"],{numArgs:0},function(e){return{type:"op",limits:!0,symbol:!0,body:e.funcName}}),n("\\mathop",{numArgs:1},function(e,t){var r=t[0];return{type:"op",limits:!1,symbol:!1,value:s(r)}}),n(["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac"],{numArgs:2,greediness:2},function(e,t){var r,n=t[0],i=t[1],a=null,o=null,s="auto";switch(e.funcName){case"\\dfrac":case"\\frac":case"\\tfrac":r=!0;break;case"\\\\atopfrac":r=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r=!1,a="(",o=")";break;default:throw new Error("Unrecognized genfrac command")}switch(e.funcName){case"\\dfrac":case"\\dbinom":s="display";break;case"\\tfrac":case"\\tbinom":s="text"}return{type:"genfrac",numer:n,denom:i,hasBarLine:r,leftDelim:a,rightDelim:o,size:s}}),n(["\\llap","\\rlap"],{numArgs:1,allowedInText:!0},function(e,t){var r=t[0];return{type:e.funcName.slice(1),body:r}});var p=function(e,t){if(i.contains(l,e.value))return e;throw new a("Invalid delimiter: '"+e.value+"' after '"+t.funcName+"'",e)};n(["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],{numArgs:1},function(e,t){var r=p(t[0],e);return{type:"delimsizing",size:f[e.funcName].size,mclass:f[e.funcName].mclass,value:r.value}}),n(["\\left","\\right"],{numArgs:1},function(e,t){return{type:"leftright",value:p(t[0],e).value}}),n("\\middle",{numArgs:1},function(e,t){var r=p(t[0],e);if(!e.parser.leftrightDepth)throw new a("\\middle without preceding \\left",r);return{type:"middle",value:r.value}}),n(["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],0,null),n(["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],0,null),n(["\\mathrm","\\mathit","\\mathbf","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],{numArgs:1,greediness:2},function(e,t){var r=t[0],n=e.funcName;return n in c&&(n=c[n]),{type:"font",font:n.slice(1),body:r}}),n(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot"],{numArgs:1},function(e,t){var r=t[0];return{type:"accent",accent:e.funcName,base:r}}),n(["\\over","\\choose","\\atop"],{numArgs:0,infix:!0},function(e){var t;switch(e.funcName){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",replaceWith:t,token:e.token}}),n(["\\\\","\\cr"],{numArgs:0,numOptionalArgs:1,argTypes:["size"]},function(e,t){return{type:"cr",size:t[0]}}),n(["\\begin","\\end"],{numArgs:1,argTypes:["text"]},function(e,t){var r=t[0];if("ordgroup"!==r.type)throw new a("Invalid environment name",r);for(var n="",i=0;i<r.value.length;++i)n+=r.value[i].value;return{type:"environment",name:n,nameGroup:r}})},{"./ParseError":40,"./parseData":55,"./utils":59}],54:[function(e,t,r){function n(e,t){this.type=e,this.attributes={},this.children=t||[]}function i(e){this.text=e}var a=e("./utils");n.prototype.setAttribute=function(e,t){this.attributes[e]=t},n.prototype.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e},n.prototype.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=a.escape(this.attributes[t]),e+='"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">"},i.prototype.toNode=function(){return document.createTextNode(this.text)},i.prototype.toMarkup=function(){return a.escape(this.text)},t.exports={MathNode:n,TextNode:i}},{"./utils":59}],55:[function(e,t,r){t.exports={ParseNode:function(e,t,r,n,i){this.type=e,this.value=t,this.mode=r,!n||i&&i.lexer!==n.lexer||(this.lexer=n.lexer,this.start=n.start,this.end=(i||n).end)}}},{}],56:[function(e,t,r){var n=e("./Parser");t.exports=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");return new n(e,t).parse()}},{"./Parser":41}],57:[function(e,t,r){function n(e,r,n,i,a){t.exports[e][a]={font:r,group:n,replace:i}}t.exports={math:{},text:{}};var i="math",a="text",o="main",s="ams",u="accent",f="bin",l="close",c="mathord",p="op",h="open",m="rel",d="spacing",g="textord";n(i,o,m,"","\\equiv"),n(i,o,m,"","\\prec"),n(i,o,m,"","\\succ"),n(i,o,m,"","\\sim"),n(i,o,m,"","\\perp"),n(i,o,m,"","\\preceq"),n(i,o,m,"","\\succeq"),n(i,o,m,"","\\simeq"),n(i,o,m,"","\\mid"),n(i,o,m,"","\\ll"),n(i,o,m,"","\\gg"),n(i,o,m,"","\\asymp"),n(i,o,m,"","\\parallel"),n(i,o,m,"","\\bowtie"),n(i,o,m,"","\\smile"),n(i,o,m,"","\\sqsubseteq"),n(i,o,m,"","\\sqsupseteq"),n(i,o,m,"","\\doteq"),n(i,o,m,"","\\frown"),n(i,o,m,"","\\ni"),n(i,o,m,"","\\propto"),n(i,o,m,"","\\vdash"),n(i,o,m,"","\\dashv"),n(i,o,m,"","\\owns"),n(i,o,"punct",".","\\ldotp"),n(i,o,"punct","","\\cdotp"),n(i,o,g,"#","\\#"),n(a,o,g,"#","\\#"),n(i,o,g,"&","\\&"),n(a,o,g,"&","\\&"),n(i,o,g,"","\\aleph"),n(i,o,g,"","\\forall"),n(i,o,g,"","\\hbar"),n(i,o,g,"","\\exists"),n(i,o,g,"","\\nabla"),n(i,o,g,"","\\flat"),n(i,o,g,"","\\ell"),n(i,o,g,"","\\natural"),n(i,o,g,"","\\clubsuit"),n(i,o,g,"","\\wp"),n(i,o,g,"","\\sharp"),n(i,o,g,"","\\diamondsuit"),n(i,o,g,"","\\Re"),n(i,o,g,"","\\heartsuit"),n(i,o,g,"","\\Im"),n(i,o,g,"","\\spadesuit"),n(i,o,g,"","\\dag"),n(i,o,g,"","\\ddag"),n(i,o,l,"","\\rmoustache"),n(i,o,h,"","\\lmoustache"),n(i,o,l,"","\\rgroup"),n(i,o,h,"","\\lgroup"),n(i,o,f,"","\\mp"),n(i,o,f,"","\\ominus"),n(i,o,f,"","\\uplus"),n(i,o,f,"","\\sqcap"),n(i,o,f,"","\\ast"),n(i,o,f,"","\\sqcup"),n(i,o,f,"","\\bigcirc"),n(i,o,f,"","\\bullet"),n(i,o,f,"","\\ddagger"),n(i,o,f,"","\\wr"),n(i,o,f,"","\\amalg"),n(i,o,m,"","\\longleftarrow"),n(i,o,m,"","\\Leftarrow"),n(i,o,m,"","\\Longleftarrow"),n(i,o,m,"","\\longrightarrow"),n(i,o,m,"","\\Rightarrow"),n(i,o,m,"","\\Longrightarrow"),n(i,o,m,"","\\leftrightarrow"),n(i,o,m,"","\\longleftrightarrow"),n(i,o,m,"","\\Leftrightarrow"),n(i,o,m,"","\\Longleftrightarrow"),n(i,o,m,"","\\mapsto"),n(i,o,m,"","\\longmapsto"),n(i,o,m,"","\\nearrow"),n(i,o,m,"","\\hookleftarrow"),n(i,o,m,"","\\hookrightarrow"),n(i,o,m,"","\\searrow"),n(i,o,m,"","\\leftharpoonup"),n(i,o,m,"","\\rightharpoonup"),n(i,o,m,"","\\swarrow"),n(i,o,m,"","\\leftharpoondown"),n(i,o,m,"","\\rightharpoondown"),n(i,o,m,"","\\nwarrow"),n(i,o,m,"","\\rightleftharpoons"),n(i,s,m,"","\\nless"),n(i,s,m,"","\\nleqslant"),n(i,s,m,"","\\nleqq"),n(i,s,m,"","\\lneq"),n(i,s,m,"","\\lneqq"),n(i,s,m,"","\\lvertneqq"),n(i,s,m,"","\\lnsim"),n(i,s,m,"","\\lnapprox"),n(i,s,m,"","\\nprec"),n(i,s,m,"","\\npreceq"),n(i,s,m,"","\\precnsim"),n(i,s,m,"","\\precnapprox"),n(i,s,m,"","\\nsim"),n(i,s,m,"","\\nshortmid"),n(i,s,m,"","\\nmid"),n(i,s,m,"","\\nvdash"),n(i,s,m,"","\\nvDash"),n(i,s,m,"","\\ntriangleleft"),n(i,s,m,"","\\ntrianglelefteq"),n(i,s,m,"","\\subsetneq"),n(i,s,m,"","\\varsubsetneq"),n(i,s,m,"","\\subsetneqq"),n(i,s,m,"","\\varsubsetneqq"),n(i,s,m,"","\\ngtr"),n(i,s,m,"","\\ngeqslant"),n(i,s,m,"","\\ngeqq"),n(i,s,m,"","\\gneq"),n(i,s,m,"","\\gneqq"),n(i,s,m,"","\\gvertneqq"),n(i,s,m,"","\\gnsim"),n(i,s,m,"","\\gnapprox"),n(i,s,m,"","\\nsucc"),n(i,s,m,"","\\nsucceq"),n(i,s,m,"","\\succnsim"),n(i,s,m,"","\\succnapprox"),n(i,s,m,"","\\ncong"),n(i,s,m,"","\\nshortparallel"),n(i,s,m,"","\\nparallel"),n(i,s,m,"","\\nVDash"),n(i,s,m,"","\\ntriangleright"),n(i,s,m,"","\\ntrianglerighteq"),n(i,s,m,"","\\nsupseteqq"),n(i,s,m,"","\\supsetneq"),n(i,s,m,"","\\varsupsetneq"),n(i,s,m,"","\\supsetneqq"),n(i,s,m,"","\\varsupsetneqq"),n(i,s,m,"","\\nVdash"),n(i,s,m,"","\\precneqq"),n(i,s,m,"","\\succneqq"),n(i,s,m,"","\\nsubseteqq"),n(i,s,f,"","\\unlhd"),n(i,s,f,"","\\unrhd"),n(i,s,m,"","\\nleftarrow"),n(i,s,m,"","\\nrightarrow"),n(i,s,m,"","\\nLeftarrow"),n(i,s,m,"","\\nRightarrow"),n(i,s,m,"","\\nleftrightarrow"),n(i,s,m,"","\\nLeftrightarrow"),n(i,s,m,"","\\vartriangle"),n(i,s,g,"","\\hslash"),n(i,s,g,"","\\triangledown"),n(i,s,g,"","\\lozenge"),n(i,s,g,"","\\circledS"),n(i,s,g,"","\\circledR"),n(i,s,g,"","\\measuredangle"),n(i,s,g,"","\\nexists"),n(i,s,g,"","\\mho"),n(i,s,g,"","\\Finv"),n(i,s,g,"","\\Game"),n(i,s,g,"k","\\Bbbk"),n(i,s,g,"","\\backprime"),n(i,s,g,"","\\blacktriangle"),n(i,s,g,"","\\blacktriangledown"),n(i,s,g,"","\\blacksquare"),n(i,s,g,"","\\blacklozenge"),n(i,s,g,"","\\bigstar"),n(i,s,g,"","\\sphericalangle"),n(i,s,g,"","\\complement"),n(i,s,g,"","\\eth"),n(i,s,g,"","\\diagup"),n(i,s,g,"","\\diagdown"),n(i,s,g,"","\\square"),n(i,s,g,"","\\Box"),n(i,s,g,"","\\Diamond"),n(i,s,g,"","\\yen"),n(i,s,g,"","\\checkmark"),n(i,s,g,"","\\beth"),n(i,s,g,"","\\daleth"),n(i,s,g,"","\\gimel"),n(i,s,g,"","\\digamma"),n(i,s,g,"","\\varkappa"),n(i,s,h,"","\\ulcorner"),n(i,s,l,"","\\urcorner"),n(i,s,h,"","\\llcorner"),n(i,s,l,"","\\lrcorner"),n(i,s,m,"","\\leqq"),n(i,s,m,"","\\leqslant"),n(i,s,m,"","\\eqslantless"),n(i,s,m,"","\\lesssim"),n(i,s,m,"","\\lessapprox"),n(i,s,m,"","\\approxeq"),n(i,s,f,"","\\lessdot"),n(i,s,m,"","\\lll"),n(i,s,m,"","\\lessgtr"),n(i,s,m,"","\\lesseqgtr"),n(i,s,m,"","\\lesseqqgtr"),n(i,s,m,"","\\doteqdot"),n(i,s,m,"","\\risingdotseq"),n(i,s,m,"","\\fallingdotseq"),n(i,s,m,"","\\backsim"),n(i,s,m,"","\\backsimeq"),n(i,s,m,"","\\subseteqq"),n(i,s,m,"","\\Subset"),n(i,s,m,"","\\sqsubset"),n(i,s,m,"","\\preccurlyeq"),n(i,s,m,"","\\curlyeqprec"),n(i,s,m,"","\\precsim"),n(i,s,m,"","\\precapprox"),n(i,s,m,"","\\vartriangleleft"),n(i,s,m,"","\\trianglelefteq"),n(i,s,m,"","\\vDash"),n(i,s,m,"","\\Vvdash"),n(i,s,m,"","\\smallsmile"),n(i,s,m,"","\\smallfrown"),n(i,s,m,"","\\bumpeq"),n(i,s,m,"","\\Bumpeq"),n(i,s,m,"","\\geqq"),n(i,s,m,"","\\geqslant"),n(i,s,m,"","\\eqslantgtr"),n(i,s,m,"","\\gtrsim"),n(i,s,m,"","\\gtrapprox"),n(i,s,f,"","\\gtrdot"),n(i,s,m,"","\\ggg"),n(i,s,m,"","\\gtrless"),n(i,s,m,"","\\gtreqless"),n(i,s,m,"","\\gtreqqless"),n(i,s,m,"","\\eqcirc"),n(i,s,m,"","\\circeq"),n(i,s,m,"","\\triangleq"),n(i,s,m,"","\\thicksim"),n(i,s,m,"","\\thickapprox"),n(i,s,m,"","\\supseteqq"),n(i,s,m,"","\\Supset"),n(i,s,m,"","\\sqsupset"),n(i,s,m,"","\\succcurlyeq"),n(i,s,m,"","\\curlyeqsucc"),n(i,s,m,"","\\succsim"),n(i,s,m,"","\\succapprox"),n(i,s,m,"","\\vartriangleright"),n(i,s,m,"","\\trianglerighteq"),n(i,s,m,"","\\Vdash"),n(i,s,m,"","\\shortmid"),n(i,s,m,"","\\shortparallel"),n(i,s,m,"","\\between"),n(i,s,m,"","\\pitchfork"),n(i,s,m,"","\\varpropto"),n(i,s,m,"","\\blacktriangleleft"),n(i,s,m,"","\\therefore"),n(i,s,m,"","\\backepsilon"),n(i,s,m,"","\\blacktriangleright"),n(i,s,m,"","\\because"),n(i,s,m,"","\\llless"),n(i,s,m,"","\\gggtr"),n(i,s,f,"","\\lhd"),n(i,s,f,"","\\rhd"),n(i,s,m,"","\\eqsim"),n(i,o,m,"","\\Join"),n(i,s,m,"","\\Doteq"),n(i,s,f,"","\\dotplus"),n(i,s,f,"","\\smallsetminus"),n(i,s,f,"","\\Cap"),n(i,s,f,"","\\Cup"),n(i,s,f,"","\\doublebarwedge"),n(i,s,f,"","\\boxminus"),n(i,s,f,"","\\boxplus"),n(i,s,f,"","\\divideontimes"),n(i,s,f,"","\\ltimes"),n(i,s,f,"","\\rtimes"),n(i,s,f,"","\\leftthreetimes"),n(i,s,f,"","\\rightthreetimes"),n(i,s,f,"","\\curlywedge"),n(i,s,f,"","\\curlyvee"),n(i,s,f,"","\\circleddash"),n(i,s,f,"","\\circledast"),n(i,s,f,"","\\centerdot"),n(i,s,f,"","\\intercal"),n(i,s,f,"","\\doublecap"),n(i,s,f,"","\\doublecup"),n(i,s,f,"","\\boxtimes"),n(i,s,m,"","\\dashrightarrow"),n(i,s,m,"","\\dashleftarrow"),n(i,s,m,"","\\leftleftarrows"),n(i,s,m,"","\\leftrightarrows"),n(i,s,m,"","\\Lleftarrow"),n(i,s,m,"","\\twoheadleftarrow"),n(i,s,m,"","\\leftarrowtail"),n(i,s,m,"","\\looparrowleft"),n(i,s,m,"","\\leftrightharpoons"),n(i,s,m,"","\\curvearrowleft"),n(i,s,m,"","\\circlearrowleft"),n(i,s,m,"","\\Lsh"),n(i,s,m,"","\\upuparrows"),n(i,s,m,"","\\upharpoonleft"),n(i,s,m,"","\\downharpoonleft"),n(i,s,m,"","\\multimap"),n(i,s,m,"","\\leftrightsquigarrow"),n(i,s,m,"","\\rightrightarrows"),n(i,s,m,"","\\rightleftarrows"),n(i,s,m,"","\\twoheadrightarrow"),n(i,s,m,"","\\rightarrowtail"),n(i,s,m,"","\\looparrowright"),n(i,s,m,"","\\curvearrowright"),n(i,s,m,"","\\circlearrowright"),n(i,s,m,"","\\Rsh"),n(i,s,m,"","\\downdownarrows"),n(i,s,m,"","\\upharpoonright"),n(i,s,m,"","\\downharpoonright"),n(i,s,m,"","\\rightsquigarrow"),n(i,s,m,"","\\leadsto"),n(i,s,m,"","\\Rrightarrow"),n(i,s,m,"","\\restriction"),n(i,o,g,"","`"),n(i,o,g,"$","\\$"),n(a,o,g,"$","\\$"),n(i,o,g,"%","\\%"),n(a,o,g,"%","\\%"),n(i,o,g,"_","\\_"),n(a,o,g,"_","\\_"),n(i,o,g,"","\\angle"),n(i,o,g,"","\\infty"),n(i,o,g,"","\\prime"),n(i,o,g,"","\\triangle"),n(i,o,g,"","\\Gamma"),n(i,o,g,"","\\Delta"),n(i,o,g,"","\\Theta"),n(i,o,g,"","\\Lambda"),n(i,o,g,"","\\Xi"),n(i,o,g,"","\\Pi"),n(i,o,g,"","\\Sigma"),n(i,o,g,"","\\Upsilon"),n(i,o,g,"","\\Phi"),n(i,o,g,"","\\Psi"),n(i,o,g,"","\\Omega"),n(i,o,g,"","\\neg"),n(i,o,g,"","\\lnot"),n(i,o,g,"","\\top"),n(i,o,g,"","\\bot"),n(i,o,g,"","\\emptyset"),n(i,s,g,"","\\varnothing"),n(i,o,c,"","\\alpha"),n(i,o,c,"","\\beta"),n(i,o,c,"","\\gamma"),n(i,o,c,"","\\delta"),n(i,o,c,"","\\epsilon"),n(i,o,c,"","\\zeta"),n(i,o,c,"","\\eta"),n(i,o,c,"","\\theta"),n(i,o,c,"","\\iota"),n(i,o,c,"","\\kappa"),n(i,o,c,"","\\lambda"),n(i,o,c,"","\\mu"),n(i,o,c,"","\\nu"),n(i,o,c,"","\\xi"),n(i,o,c,"o","\\omicron"),n(i,o,c,"","\\pi"),n(i,o,c,"","\\rho"),n(i,o,c,"","\\sigma"),n(i,o,c,"","\\tau"),n(i,o,c,"","\\upsilon"),n(i,o,c,"","\\phi"),n(i,o,c,"","\\chi"),n(i,o,c,"","\\psi"),n(i,o,c,"","\\omega"),n(i,o,c,"","\\varepsilon"),n(i,o,c,"","\\vartheta"),n(i,o,c,"","\\varpi"),n(i,o,c,"","\\varrho"),n(i,o,c,"","\\varsigma"),n(i,o,c,"","\\varphi"),n(i,o,f,"","*"),n(i,o,f,"+","+"),n(i,o,f,"","-"),n(i,o,f,"","\\cdot"),n(i,o,f,"","\\circ"),n(i,o,f,"","\\div"),n(i,o,f,"","\\pm"),n(i,o,f,"","\\times"),n(i,o,f,"","\\cap"),n(i,o,f,"","\\cup"),n(i,o,f,"","\\setminus"),n(i,o,f,"","\\land"),n(i,o,f,"","\\lor"),n(i,o,f,"","\\wedge"),n(i,o,f,"","\\vee"),n(i,o,g,"","\\surd"),n(i,o,h,"(","("),n(i,o,h,"[","["),n(i,o,h,"","\\langle"),n(i,o,h,"","\\lvert"),n(i,o,h,"","\\lVert"),n(i,o,l,")",")"),n(i,o,l,"]","]"),n(i,o,l,"?","?"),n(i,o,l,"!","!"),n(i,o,l,"","\\rangle"),n(i,o,l,"","\\rvert"),n(i,o,l,"","\\rVert"),n(i,o,m,"=","="),n(i,o,m,"<","<"),n(i,o,m,">",">"),n(i,o,m,":",":"),n(i,o,m,"","\\approx"),n(i,o,m,"","\\cong"),n(i,o,m,"","\\ge"),n(i,o,m,"","\\geq"),n(i,o,m,"","\\gets"),n(i,o,m,">","\\gt"),n(i,o,m,"","\\in"),n(i,o,m,"","\\notin"),n(i,o,m,"","\\subset"),n(i,o,m,"","\\supset"),n(i,o,m,"","\\subseteq"),n(i,o,m,"","\\supseteq"),n(i,s,m,"","\\nsubseteq"),n(i,s,m,"","\\nsupseteq"),n(i,o,m,"","\\models"),n(i,o,m,"","\\leftarrow"),n(i,o,m,"","\\le"),n(i,o,m,"","\\leq"),n(i,o,m,"<","\\lt"),n(i,o,m,"","\\ne"),n(i,o,m,"","\\neq"),n(i,o,m,"","\\rightarrow"),n(i,o,m,"","\\to"),n(i,s,m,"","\\ngeq"),n(i,s,m,"","\\nleq"),n(i,o,d,null,"\\!"),n(i,o,d,"","\\ "),n(i,o,d,"","~"),n(i,o,d,null,"\\,"),n(i,o,d,null,"\\:"),n(i,o,d,null,"\\;"),n(i,o,d,null,"\\enspace"),n(i,o,d,null,"\\qquad"),n(i,o,d,null,"\\quad"),n(i,o,d,"","\\space"),n(i,o,"punct",",",","),n(i,o,"punct",";",";"),n(i,o,"punct",":","\\colon"),n(i,s,f,"","\\barwedge"),n(i,s,f,"","\\veebar"),n(i,o,f,"","\\odot"),n(i,o,f,"","\\oplus"),n(i,o,f,"","\\otimes"),n(i,o,g,"","\\partial"),n(i,o,f,"","\\oslash"),n(i,s,f,"","\\circledcirc"),n(i,s,f,"","\\boxdot"),n(i,o,f,"","\\bigtriangleup"),n(i,o,f,"","\\bigtriangledown"),n(i,o,f,"","\\dagger"),n(i,o,f,"","\\diamond"),n(i,o,f,"","\\star"),n(i,o,f,"","\\triangleleft"),n(i,o,f,"","\\triangleright"),n(i,o,h,"{","\\{"),n(a,o,g,"{","\\{"),n(i,o,l,"}","\\}"),n(a,o,g,"}","\\}"),n(i,o,h,"{","\\lbrace"),n(i,o,l,"}","\\rbrace"),n(i,o,h,"[","\\lbrack"),n(i,o,l,"]","\\rbrack"),n(i,o,h,"","\\lfloor"),n(i,o,l,"","\\rfloor"),n(i,o,h,"","\\lceil"),n(i,o,l,"","\\rceil"),n(i,o,g,"\\","\\backslash"),n(i,o,g,"","|"),n(i,o,g,"","\\vert"),n(i,o,g,"","\\|"),n(i,o,g,"","\\Vert"),n(i,o,m,"","\\uparrow"),n(i,o,m,"","\\Uparrow"),n(i,o,m,"","\\downarrow"),n(i,o,m,"","\\Downarrow"),n(i,o,m,"","\\updownarrow"),n(i,o,m,"","\\Updownarrow"),n(i,i,p,"","\\coprod"),n(i,i,p,"","\\bigvee"),n(i,i,p,"","\\bigwedge"),n(i,i,p,"","\\biguplus"),n(i,i,p,"","\\bigcap"),n(i,i,p,"","\\bigcup"),n(i,i,p,"","\\int"),n(i,i,p,"","\\intop"),n(i,i,p,"","\\iint"),n(i,i,p,"","\\iiint"),n(i,i,p,"","\\prod"),n(i,i,p,"","\\sum"),n(i,i,p,"","\\bigotimes"),n(i,i,p,"","\\bigoplus"),n(i,i,p,"","\\bigodot"),n(i,i,p,"","\\oint"),n(i,i,p,"","\\bigsqcup"),n(i,i,p,"","\\smallint"),n(a,o,"inner","","\\textellipsis"),n(i,o,"inner","","\\mathellipsis"),n(a,o,"inner","","\\ldots"),n(i,o,"inner","","\\ldots"),n(i,o,"inner","","\\cdots"),n(i,o,"inner","","\\ddots"),n(i,o,g,"","\\vdots"),n(i,o,u,"","\\acute"),n(i,o,u,"`","\\grave"),n(i,o,u,"","\\ddot"),n(i,o,u,"~","\\tilde"),n(i,o,u,"","\\bar"),n(i,o,u,"","\\breve"),n(i,o,u,"","\\check"),n(i,o,u,"^","\\hat"),n(i,o,u,"","\\vec"),n(i,o,u,"","\\dot"),n(i,o,c,"","\\imath"),n(i,o,c,"","\\jmath"),n(a,o,g,"","--"),n(a,o,g,"","---"),n(a,o,g,"","`"),n(a,o,g,"","'"),n(a,o,g,"","``"),n(a,o,g,"","''"),n(i,o,g,"","\\degree"),n(a,o,g,"","\\degree"),n(i,o,c,"","\\pounds"),n(i,s,g,"","\\maltese"),n(a,s,g,"","\\maltese"),n(a,o,d,"","\\ "),n(a,o,d,""," "),n(a,o,d,"","~");var y,v;for(y=0;y<'0123456789/@."'.length;y++)n(i,o,g,v='0123456789/@."'.charAt(y),v);for(y=0;y<'0123456789!@*()-=+[]";:?/.,'.length;y++)n(a,o,g,v='0123456789!@*()-=+[]";:?/.,'.charAt(y),v);var b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(y=0;y<b.length;y++)n(i,o,c,v=b.charAt(y),v),n(a,o,g,v,v);for(y=192;y<=214;y++)n(a,o,g,v=String.fromCharCode(y),v);for(y=216;y<=246;y++)n(a,o,g,v=String.fromCharCode(y),v);for(y=248;y<=255;y++)n(a,o,g,v=String.fromCharCode(y),v);for(y=1040;y<=1103;y++)n(a,o,g,v=String.fromCharCode(y),v);n(a,o,g,"",""),n(a,o,g,"",""),n(a,o,g,"",""),n(a,o,g,"",""),n(a,o,g,"",""),n(a,o,g,"","")},{}],58:[function(e,t,r){t.exports={cjkRegex:/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,hangulRegex:/[\uAC00-\uD7AF]/}},{}],59:[function(e,t,r){function n(e){return u[e]}var i,a=Array.prototype.indexOf,o=function(e,t){if(null==e)return-1;if(a&&e.indexOf===a)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},s=/([A-Z])/g,u={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},f=/[&><"']/g;if("undefined"!=typeof document){var l=document.createElement("span");i="textContent"in l?function(e,t){e.textContent=t}:function(e,t){e.innerText=t}}t.exports={contains:function(e,t){return-1!==o(e,t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return(""+e).replace(f,n)},hyphenate:function(e){return e.replace(s,"-$1").toLowerCase()},indexOf:o,setTextContent:i,clearNode:function(e){i(e,"")}}},{}],60:[function(e,t,r){function n(e){if(!e.__matchAtRelocatable){var t=e.source+"|()",r="g"+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"");e.__matchAtRelocatable=new RegExp(t,r)}return e.__matchAtRelocatable}t.exports=function(e,t,r){if(e.global||e.sticky)throw new Error("matchAt(...): Only non-global regexes are supported");var i=n(e);i.lastIndex=r;var a=i.exec(t);return null==a[a.length-1]?(a.length=a.length-1,a):null}},{}],61:[function(e,t,r){"use strict";t.exports=function(e,t){function r(e){var t=!1;return"altKey"in e&&(t=t||e.altKey!==g.alt,g.alt=!!e.altKey),"shiftKey"in e&&(t=t||e.shiftKey!==g.shift,g.shift=!!e.shiftKey),"ctrlKey"in e&&(t=t||e.ctrlKey!==g.control,g.control=!!e.ctrlKey),"metaKey"in e&&(t=t||e.metaKey!==g.meta,g.meta=!!e.metaKey),t}function i(e,i){var a=n.x(i),o=n.y(i);"buttons"in i&&(e=0|i.buttons),(e!==h||a!==m||o!==d||r(i))&&(h=0|e,m=a||0,d=o||0,t&&t(h,m,d,g))}function a(e){i(0,e)}function o(){(h||m||d||g.shift||g.alt||g.meta||g.control)&&(m=d=0,h=0,g.shift=g.alt=g.control=g.meta=!1,t&&t(0,0,0,g))}function s(e){r(e)&&t&&t(h,m,d,g)}function u(e){0===n.buttons(e)?i(0,e):i(h,e)}function f(e){i(h|n.buttons(e),e)}function l(e){i(h&~n.buttons(e),e)}function c(){y||(y=!0,e.addEventListener("mousemove",u),e.addEventListener("mousedown",f),e.addEventListener("mouseup",l),e.addEventListener("mouseleave",a),e.addEventListener("mouseenter",a),e.addEventListener("mouseout",a),e.addEventListener("mouseover",a),e.addEventListener("blur",o),e.addEventListener("keyup",s),e.addEventListener("keydown",s),e.addEventListener("keypress",s),e!==window&&(window.addEventListener("blur",o),window.addEventListener("keyup",s),window.addEventListener("keydown",s),window.addEventListener("keypress",s)))}function p(){y&&(y=!1,e.removeEventListener("mousemove",u),e.removeEventListener("mousedown",f),e.removeEventListener("mouseup",l),e.removeEventListener("mouseleave",a),e.removeEventListener("mouseenter",a),e.removeEventListener("mouseout",a),e.removeEventListener("mouseover",a),e.removeEventListener("blur",o),e.removeEventListener("keyup",s),e.removeEventListener("keydown",s),e.removeEventListener("keypress",s),e!==window&&(window.removeEventListener("blur",o),window.removeEventListener("keyup",s),window.removeEventListener("keydown",s),window.removeEventListener("keypress",s)))}t||(t=e,e=window);var h=0,m=0,d=0,g={shift:!1,alt:!1,control:!1,meta:!1},y=!1;c();var v={element:e};return Object.defineProperties(v,{enabled:{get:function(){return y},set:function(e){e?c():p()},enumerable:!0},buttons:{get:function(){return h},enumerable:!0},x:{get:function(){return m},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return g},enumerable:!0}}),v};var n=e("mouse-event")},{"mouse-event":63}],62:[function(e,t,r){function n(e){return e===window||e===document||e===document.body?i:e.getBoundingClientRect()}var i={left:0,top:0};t.exports=function(e,t,r){t=t||e.currentTarget||e.srcElement,Array.isArray(r)||(r=[0,0]);var i=e.clientX||0,a=e.clientY||0,o=n(t);return r[0]=i-o.left,r[1]=a-o.top,r}},{}],63:[function(e,t,r){"use strict";function n(e){return e.target||e.srcElement||window}r.buttons=function(e){if("object"==typeof e){if("buttons"in e)return e.buttons;if("which"in e){if(2===(t=e.which))return 4;if(3===t)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t=e.button;if(1===t)return 4;if(2===t)return 2;if(t>=0)return 1<<t}}return 0},r.element=n,r.x=function(e){if("object"==typeof e){if("offsetX"in e)return e.offsetX;var t=n(e).getBoundingClientRect();return e.clientX-t.left}return 0},r.y=function(e){if("object"==typeof e){if("offsetY"in e)return e.offsetY;var t=n(e).getBoundingClientRect();return e.clientY-t.top}return 0}},{}],64:[function(e,t,r){"use strict";var n=e("ndarray-ops"),i=e("ndarray"),a=e("typedarray-pool"),o=e("./lib/fft-matrix.js");t.exports=function(e,t,r){var s,u,f=t.shape,l=f.length,c=1,p=new Array(l),h=0;for(s=l-1;s>=0;--s)if(p[s]=c,c*=f[s],h=Math.max(h,o.scratchMemory(f[s])),t.shape[s]!==r.shape[s])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var m,d=4*c+h;m="array"===t.dtype||"float64"===t.dtype||"custom"===t.dtype?a.mallocDouble(d):a.mallocFloat(d);var g,y,v,b,x=i(m,f.slice(0),p,0),w=i(m,f.slice(0),p.slice(0),c),z=i(m,f.slice(0),p.slice(0),2*c),k=i(m,f.slice(0),p.slice(0),3*c),_=4*c;for(n.assign(x,t),n.assign(w,r),s=l-1;s>=0&&(o(e,c/f[s],f[s],m,x.offset,w.offset,_),0!==s);--s){for(y=1,v=z.stride,b=k.stride,u=s-1;u<l;++u)b[u]=v[u]=y,y*=f[u];for(u=s-2;u>=0;--u)b[u]=v[u]=y,y*=f[u];n.assign(z,x),n.assign(k,w),g=x,x=z,z=g,g=w,w=k,k=g}n.assign(t,x),n.assign(r,w),a.free(m)}},{"./lib/fft-matrix.js":65,ndarray:68,"ndarray-ops":67,"typedarray-pool":73}],65:[function(e,t,r){function n(e,t,r,n,i,o){e|=0,t|=0,i|=0,o|=0;var s,u,f,l,c,p,h,m,d,g,y,v,b,x,w,z,k,_,A,T,S,E,M,R;for(s=r|=0,u=a.log2(s),_=0;_<t;++_){for(h=s>>1,c=0,f=0;f<s-1;f++){for(f<c&&(b=n[i+f],n[i+f]=n[i+c],n[i+c]=b,b=n[o+f],n[o+f]=n[o+c],n[o+c]=b),p=h;p<=c;)c-=p,p>>=1;c+=p}for(y=-1,v=0,g=1,m=0;m<u;m++){for(d=g,g<<=1,z=1,k=0,c=0;c<d;c++){for(f=c;f<s;f+=g)A=n[i+(l=f+d)],T=n[o+l],S=n[i+f],E=n[o+f],x=(M=z*(A+T))-T*(z+k),w=M+(R=A*(k-z)),n[i+l]=S-x,n[o+l]=E-w,n[i+f]+=x,n[o+f]+=w;R=z*(v-y),z=(M=y*(z+k))-k*(y+v),k=M+R}v=Math.sqrt((1-y)/2),e<0&&(v=-v),y=Math.sqrt((1+y)/2)}if(e<0){var j=1/s;for(f=0;f<s;f++)n[i+f]*=j,n[o+f]*=j}i+=r,o+=r}}function i(e,t,r,i,o,s,u){e|=0,t|=0,r|=0,o|=0,s|=0,u|=0;var f,l,c,p,h,m,d,g,y,v=a.nextPow2(2*r+1),b=u,x=b+r,w=x+r,z=w+v,k=z+v,_=k+v,A=-e*Math.PI/r;for(y=0;y<r;++y)l=A*(y*y%(2*r)),p=Math.cos(l),h=Math.sin(l),i[k+(v-y)]=i[k+y]=i[b+y]=p,i[_+(v-y)]=i[_+y]=i[x+y]=h;for(y=r;y<=v-r;++y)i[k+y]=0;for(y=r;y<=v-r;++y)i[_+y]=0;for(n(1,1,v,i,k,_),A=e<0?1/r:1,f=0;f<t;++f){for(y=0;y<r;++y)l=i[o+y],c=i[s+y],m=(p=i[b+y])*(l+c),d=l*((h=-i[x+y])-p),g=c*(p+h),i[w+y]=m-g,i[z+y]=m+d;for(y=r;y<v;++y)i[w+y]=0;for(y=r;y<v;++y)i[z+y]=0;for(n(1,1,v,i,w,z),y=0;y<v;++y)l=i[w+y],c=i[z+y],m=(p=i[k+y])*(l+c),d=l*((h=i[_+y])-p),g=c*(p+h),i[w+y]=m-g,i[z+y]=m+d;for(n(-1,1,v,i,w,z),y=0;y<r;++y)l=i[w+y],c=i[z+y],m=(p=i[b+y])*(l+c),d=l*((h=-i[x+y])-p),g=c*(p+h),i[o+y]=A*(m-g),i[s+y]=A*(m+d);o+=r,s+=r}}var a=e("bit-twiddle");t.exports=function(e,t,r,o,s,u,f){e|=0,t|=0,r|=0,s|=0,u|=0,a.isPow2(r)?n(e,t,r,o,s,u):i(e,t,r,o,s,u,f)},t.exports.scratchMemory=function(e){return a.isPow2(e)?0:2*e+4*a.nextPow2(2*e+1)}},{"bit-twiddle":2}],66:[function(e,t,r){"use strict";var n=e("cwise/lib/wrapper")({args:["index","array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_1_arg1_=_inline_1_arg2_.apply(void 0,_inline_1_arg0_)}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});t.exports=function(e,t){return n(e,t),e}},{"cwise/lib/wrapper":7}],67:[function(e,t,r){"use strict";function n(e){if(!e)return s;for(var t=0;t<e.args.length;++t){var r=e.args[t];e.args[t]=0===t?{name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function i(e){return o({args:e.args,pre:n(e.pre),body:n(e.body),post:n(e.proc),funcName:e.funcName})}function a(e){for(var t=[],r=0;r<e.args.length;++r)t.push("a"+r);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(i(e))}var o=e("cwise-compiler"),s={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in u){var t=u[e];r[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),r[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var f={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in f){var t=f[e];r[e]=a({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),r[e+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in l){var t=l[e];r[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<c.length;++e){var t=c[e];r[t]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),r[t+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var p=["max","min","atan2","pow"];!function(){for(var e=0;e<p.length;++e){var t=p[e];r[t]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),r[t+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),r[t+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var h=["atan2","pow"];!function(){for(var e=0;e<h.length;++e){var t=h[e];r[t+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),r[t+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),r[t+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),r[t+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),r.any=o({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=o({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=o({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=o({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=o({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=o({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=o({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":4}],68:[function(e,t,r){function n(e,t){return e[0]-t[0]}function i(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(n);var i=new Array(r.length);for(e=0;e<i.length;++e)i[e]=r[e][1];return i}function a(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var n="generic"===e;if(-1===t){a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return(v=new Function(a))()}if(0===t){a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return(v=new Function("TrivialArray",a))(l[e][0])}var a=["'use strict'"],o=s(t),u=o.map(function(e){return"i"+e}),f="this.offset+"+o.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),c=o.map(function(e){return"b"+e}).join(","),p=o.map(function(e){return"c"+e}).join(",");a.push("function "+r+"(a,"+c+","+p+",d){this.data=a","this.shape=["+c+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+r+"_order(){"),2===t?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),n?a.push("return this.data.set("+f+",v)}"):a.push("return this.data["+f+"]=v}"),a.push("proto.get=function "+r+"_get("+u.join(",")+"){"),n?a.push("return this.data.get("+f+")}"):a.push("return this.data["+f+"]}"),a.push("proto.index=function "+r+"_index(",u.join(),"){return "+f+"}"),a.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+o.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+o.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var h=o.map(function(e){return"a"+e+"=this.shape["+e+"]"}),m=o.map(function(e){return"c"+e+"=this.stride["+e+"]"});a.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+m.join(","));for(y=0;y<t;++y)a.push("if(typeof i"+y+"==='number'&&i"+y+">=0){d=i"+y+"|0;b+=c"+y+"*d;a"+y+"-=d}");a.push("return new "+r+"(this.data,"+o.map(function(e){return"a"+e}).join(",")+","+o.map(function(e){return"c"+e}).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+o.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+o.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(y=0;y<t;++y)a.push("if(typeof i"+y+"==='number'){d=i"+y+"|0;if(d<0){c+=b"+y+"*(a"+y+"-1);a"+y+"=ceil(-a"+y+"/d)}else{a"+y+"=ceil(a"+y+"/d)}b"+y+"*=d}");a.push("return new "+r+"(this.data,"+o.map(function(e){return"a"+e}).join(",")+","+o.map(function(e){return"b"+e}).join(",")+",c)}");for(var d=new Array(t),g=new Array(t),y=0;y<t;++y)d[y]="a[i"+y+"]",g[y]="b[i"+y+"]";a.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+d.join(",")+","+g.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset");for(y=0;y<t;++y)a.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map(function(e){return"shape["+e+"]"}).join(",")+","+o.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var v=new Function("CTOR_LIST","ORDER",a.join("\n"));return v(l[e],i)}function o(e){if(u(e))return"buffer";if(f)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}var s=e("iota-array"),u=e("is-buffer"),f="undefined"!=typeof Float64Array,l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(e,t,r,n){if(void 0===e)return(p=l.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var i=t.length;if(void 0===r){r=new Array(i);for(var s=i-1,u=1;s>=0;--s)r[s]=u,u*=t[s]}if(void 0===n)for(n=0,s=0;s<i;++s)r[s]<0&&(n-=(t[s]-1)*r[s]);for(var f=o(e),c=l[f];c.length<=i+1;)c.push(a(f,c.length-1));var p=c[i+1];return p(e,t,r,n)}},{"iota-array":33,"is-buffer":34}],69:[function(e,t,r){"use strict";t.exports=function(e,t,r,i){return new n(e,t,r,i)};var n=function(e,t,r,n){this.deriv=t,this.y=e,this.n=this.y.length,this.dt=n,this.t=r,this._ctor=this.y.constructor,this._k1=new this._ctor(this.n),this._k2=new this._ctor(this.n)};n.prototype.step=function(){this.deriv(this._k1,this.y,this.t);for(e=0;e<this.n;e++)this._k2[e]=this.y[e]+this._k1[e]*this.dt*.5;this.deriv(this._k1,this._k2,this.t+.5*this.dt);for(var e=0;e<this.n;e++)this.y[e]+=this._k1[e]*this.dt;return this.t+=this.dt,this},n.prototype.steps=function(e){for(var t=0;t<e;t++)this.step();return this}},{}],70:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return i.exec(e).slice(1)};r.resolve=function(){for(var r="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(r=o+"/"+r,i="/"===o.charAt(0))}return r=t(n(r.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(e){var i=r.isAbsolute(e),a="/"===o(e,-1);return(e=t(n(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),a=n(t.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}for(var f=[],u=s;u<i.length;u++)f.push("..");return(f=f.concat(a.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=a(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(e,t){var r=a(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return a(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:71}],71:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){g&&m&&(g=!1,m.length?d=m.concat(d):y=-1,d.length&&u())}function u(){if(!g){var e=a(s);g=!0;for(var t=d.length;t;){for(m=d,d=[];++y<t;)m&&m[y].run();y=-1,t=d.length}m=null,g=!1,o(e)}}function f(e,t){this.fun=e,this.array=t}function l(){}var c,p,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(e){p=i}}();var m,d=[],g=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new f(e,t)),1!==d.length||g||a(u)},f.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],72:[function(e,t,r){!function(e,n){"object"==typeof r&&void 0!==t?t.exports=n():"function"==typeof define&&define.amd?define(n):e.createREGL=n()}(this,function(){"use strict";function e(e){return"undefined"!=typeof btoa?btoa(e):"base64:"+e}function t(e){var t=new Error("(regl) "+e);throw console.error(t),t}function r(e,r){e||t(r)}function n(e){return e?": "+e:""}function i(e,r,i){r.indexOf(e)<0&&t("invalid value"+n(i)+". must be one of: "+r)}function a(e,t){for(e+="";e.length<t;)e=" "+e;return e}function o(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function s(e,t){this.number=e,this.line=t,this.errors=[]}function u(e,t,r){this.file=e,this.line=t,this.message=r}function f(){var e=new Error,t=(e.stack||e).toString(),r=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return n?n[1]:"unknown"}function l(){var e=new Error,t=(e.stack||e).toString(),r=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return n?n[1]:"unknown"}function c(t,r){var n=t.split("\n"),i=1,a=0,u={unknown:new o,0:new o};u.unknown.name=u[0].name=r||f(),u.unknown.lines.push(new s(0,""));for(var l=0;l<n.length;++l){var c=n[l],p=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(c);if(p)switch(p[1]){case"line":var h=/(\d+)(\s+\d+)?/.exec(p[2]);h&&(i=0|h[1],h[2]&&((a=0|h[2])in u||(u[a]=new o)));break;case"define":var m=/SHADER_NAME(_B64)?\s+(.*)$/.exec(p[2]);m&&(u[a].name=m[1]?e(m[2]):m[2])}u[a].lines.push(new s(i++,c))}return Object.keys(u).forEach(function(e){var t=u[e];t.lines.forEach(function(e){t.index[e.number]=e})}),u}function p(e){var t=[];return e.split("\n").forEach(function(e){if(!(e.length<5)){var r=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(e);r?t.push(new u(0|r[1],0|r[2],r[3].trim())):e.length>0&&t.push(new u("unknown",0,e))}}),t}function h(e,t){t.forEach(function(t){var r=e[t.file];if(r){var n=r.index[t.line];if(n)return n.errors.push(t),void(r.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)})}function m(e){e._commandRef=f()}function d(e,r){var n=l();t(e+" in command "+(r||f())+("unknown"===n?"":" called from "+n))}function g(e,t,r,i){typeof e!==t&&d("invalid parameter type"+n(r)+". expected "+t+", got "+typeof e,i||f())}function y(e,t){return e===qe||e===Fe||e===Ve?2:e===Xe?4:Ue[e]*t}function v(e){return!(e&e-1||!e)}function b(e,t){this.id=Ye++,this.type=e,this.data=t}function x(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function w(e){if(0===e.length)return[];var t=e.charAt(0),r=e.charAt(e.length-1);if(e.length>1&&t===r&&('"'===t||"'"===t))return['"'+x(e.substr(1,e.length-2))+'"'];var n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(n)return w(e.substr(0,n.index)).concat(w(n[1])).concat(w(e.substr(n.index+n[0].length)));var i=e.split(".");if(1===i.length)return['"'+x(e)+'"'];for(var a=[],o=0;o<i.length;++o)a=a.concat(w(i[o]));return a}function z(e){return"["+w(e).join("][")+"]"}function k(){var e={"":0},t=[""];return{id:function(r){var n=e[r];return n||(n=e[r]=t.length,t.push(r),n)},str:function(e){return t[e]}}}function _(e,t,r){function n(){var t=window.innerWidth,n=window.innerHeight;if(e!==document.body){var a=e.getBoundingClientRect();t=a.right-a.left,n=a.bottom-a.top}i.width=r*t,i.height=r*n,je(i.style,{width:t+"px",height:n+"px"})}var i=document.createElement("canvas");return je(i.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(i),e===document.body&&(i.style.position="absolute",je(e.style,{margin:0,padding:0})),window.addEventListener("resize",n,!1),n(),{canvas:i,onDestroy:function(){window.removeEventListener("resize",n),e.removeChild(i)}}}function A(e,t){function r(r){try{return e.getContext(r,t)}catch(e){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}function T(e){return"string"==typeof e.nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect}function S(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}function E(e){return"string"==typeof e?e.split():(Ke(Array.isArray(e),"invalid extension array"),e)}function M(e){return"string"==typeof e?(Ke("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function R(e){var t,r,n,i,a=e||{},o={},s=[],u=[],f="undefined"==typeof window?1:window.devicePixelRatio,l=!1,c=function(e){e&&Ke.raise(e)},p=function(){};if("string"==typeof a?(Ke("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(a),Ke(t,"invalid query string for element")):"object"==typeof a?T(a)?t=a:S(a)?n=(i=a).canvas:(Ke.constructor(a),"gl"in a?i=a.gl:"canvas"in a?n=M(a.canvas):"container"in a&&(r=M(a.container)),"attributes"in a&&(o=a.attributes,Ke.type(o,"object","invalid context attributes")),"extensions"in a&&(s=E(a.extensions)),"optionalExtensions"in a&&(u=E(a.optionalExtensions)),"onDone"in a&&(Ke.type(a.onDone,"function","invalid or missing onDone callback"),c=a.onDone),"profile"in a&&(l=!!a.profile),"pixelRatio"in a&&Ke((f=+a.pixelRatio)>0,"invalid pixel ratio")):Ke.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?n=t:r=t),!i){if(!n){Ke("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var h=_(r||document.body,c,f);if(!h)return null;n=h.canvas,p=h.onDestroy}i=A(n,o)}return i?{gl:i,canvas:n,container:r,extensions:s,optionalExtensions:u,pixelRatio:f,profile:l,onDone:c,onDestroy:p}:(p(),c("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function j(e,t){function r(t){Ke.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(e){}return!!r}for(var n={},i=0;i<t.extensions.length;++i){var a=t.extensions[i];if(!r(a))return t.onDestroy(),t.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach(function(e){if(!r(e))throw new Error("(regl): error restoring extension "+e)})}}}function C(e){return!!e&&"object"==typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||Re(e.data))}function O(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=t(n);return r}function D(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function B(e){var t,r;return t=(e>65535)<<4,e>>>=t,r=(e>255)<<3,e>>>=r,t|=r,r=(e>15)<<2,e>>>=r,t|=r,r=(e>3)<<1,e>>>=r,(t|=r)|e>>1}function N(e){var t=D(e),r=ot[B(t)>>2];return r.length>0?r.pop():new ArrayBuffer(t)}function P(e){ot[B(e.byteLength)>>2].push(e)}function I(e,t,r){for(var n=0;n<t;++n)r[n]=e[n]}function L(e,t,r,n){for(var i=0,a=0;a<t;++a)for(var o=e[a],s=0;s<r;++s)n[i++]=o[s]}function F(e,t,r,n,i,a){for(var o=a,s=0;s<t;++s)for(var u=e[s],f=0;f<r;++f)for(var l=u[f],c=0;c<n;++c)i[o++]=l[c]}function q(e,t,r,n,i){for(var a=1,o=r+1;o<t.length;++o)a*=t[o];var s=t[r];if(t.length-r==4){var u=t[r+1],f=t[r+2],l=t[r+3];for(o=0;o<s;++o)F(e[o],u,f,l,n,i),i+=a}else for(o=0;o<s;++o)q(e[o],t,r+1,n,i),i+=a}function V(e){return 0|Me[Object.prototype.toString.call(e)]}function X(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}function U(e,t,r,n,i,a,o){for(var s=0,u=0;u<r;++u)for(var f=0;f<n;++f)e[s++]=t[i*u+a*f+o]}function K(e,t,r){function n(t){this.id=s++,this.buffer=e.createBuffer(),this.type=t,this.usage=ht,this.byteLength=0,this.dimension=1,this.dtype=dt,this.persistentData=null,r.profile&&(this.stats={size:0})}function i(t,r,n){t.byteLength=r.byteLength,e.bufferData(t.type,r,n)}function a(e,t,r,n,a,o){var s;if(e.usage=r,Array.isArray(t)){if(e.dtype=n||gt,t.length>0){var u;if(Array.isArray(t[0])){s=pt(t);for(var f=1,l=1;l<s.length;++l)f*=s[l];e.dimension=f,i(e,u=ct(t,s,e.dtype),r),o?e.persistentData=u:st.freeType(u)}else if("number"==typeof t[0]){e.dimension=a;var c=st.allocType(e.dtype,t.length);X(c,t),i(e,c,r),o?e.persistentData=c:st.freeType(c)}else Re(t[0])?(e.dimension=t[0].length,e.dtype=n||V(t[0])||gt,i(e,u=ct(t,[t.length,t[0].length],e.dtype),r),o?e.persistentData=u:st.freeType(u)):Ke.raise("invalid buffer data")}}else if(Re(t))e.dtype=n||V(t),e.dimension=a,i(e,t,r),o&&(e.persistentData=new Uint8Array(new Uint8Array(t.buffer)));else if(C(t)){s=t.shape;var p=t.stride,h=t.offset,m=0,d=0,g=0,y=0;1===s.length?(m=s[0],d=1,g=p[0],y=0):2===s.length?(m=s[0],d=s[1],g=p[0],y=p[1]):Ke.raise("invalid shape"),e.dtype=n||V(t.data)||gt,e.dimension=d;var v=st.allocType(e.dtype,m*d);U(v,t.data,m,d,g,y,h),i(e,v,r),o?e.persistentData=v:st.freeType(v)}else Ke.raise("invalid buffer data")}function o(r){t.bufferCount--;var n=r.buffer;Ke(n,"buffer must not be deleted already"),e.deleteBuffer(n),r.buffer=null,delete u[r.id]}var s=0,u={};n.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},n.prototype.destroy=function(){o(this)};var f=[];return r.profile&&(t.getTotalBufferSize=function(){var e=0;return Object.keys(u).forEach(function(t){e+=u[t].stats.size}),e}),{create:function(i,s,f,l){function c(t){var n=ht,i=null,o=0,s=0,u=1;return Array.isArray(t)||Re(t)||C(t)?i=t:"number"==typeof t?o=0|t:t&&(Ke.type(t,"object","buffer arguments must be an object, a number or an array"),"data"in t&&(Ke(null===i||Array.isArray(i)||Re(i)||C(i),"invalid data for buffer"),i=t.data),"usage"in t&&(Ke.parameter(t.usage,lt,"invalid buffer usage"),n=lt[t.usage]),"type"in t&&(Ke.parameter(t.type,ft,"invalid buffer type"),s=ft[t.type]),"dimension"in t&&(Ke.type(t.dimension,"number","invalid dimension"),u=0|t.dimension),"length"in t&&(Ke.nni(o,"buffer length must be a nonnegative integer"),o=0|t.length)),h.bind(),i?a(h,i,n,s,u,l):(e.bufferData(h.type,o,n),h.dtype=s||dt,h.usage=n,h.dimension=u,h.byteLength=o),r.profile&&(h.stats.size=h.byteLength*yt[h.dtype]),c}function p(t,r){Ke(r+t.byteLength<=h.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+r+" to a buffer of size "+h.byteLength),e.bufferSubData(h.type,r,t)}t.bufferCount++;var h=new n(s);return u[h.id]=h,f||c(i),c._reglType="buffer",c._buffer=h,c.subdata=function(e,t){var r,n=0|(t||0);if(h.bind(),Array.isArray(e)){if(e.length>0)if("number"==typeof e[0]){var i=st.allocType(h.dtype,e.length);X(i,e),p(i,n),st.freeType(i)}else if(Array.isArray(e[0])||Re(e[0])){r=pt(e);var a=ct(e,r,h.dtype);p(a,n),st.freeType(a)}else Ke.raise("invalid buffer data")}else if(Re(e))p(e,n);else if(C(e)){r=e.shape;var o=e.stride,s=0,u=0,f=0,l=0;1===r.length?(s=r[0],u=1,f=o[0],l=0):2===r.length?(s=r[0],u=r[1],f=o[0],l=o[1]):Ke.raise("invalid shape");var m=Array.isArray(e.data)?h.dtype:V(e.data),d=st.allocType(m,s*u);U(d,e.data,s,u,f,l,e.offset),p(d,n),st.freeType(d)}else Ke.raise("invalid data for buffer subdata");return c},r.profile&&(c.stats=h.stats),c.destroy=function(){o(h)},c},createStream:function(e,t){var r=f.pop();return r||(r=new n(e)),r.bind(),a(r,t,mt,0,1,!1),r},destroyStream:function(e){f.push(e)},clear:function(){Ze(u).forEach(o),f.forEach(o)},getBuffer:function(e){return e&&e._buffer instanceof n?e._buffer:null},restore:function(){Ze(u).forEach(function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})},_initBuffer:a}}function Y(e,t,r,n){function i(e){this.id=u++,s[this.id]=this,this.buffer=e,this.primType=wt,this.vertCount=0,this.type=0}function a(n,i,a,o,s,u,f){if(n.buffer.bind(),i){var l=f;f||Re(i)&&(!C(i)||Re(i.data))||(l=t.oes_element_index_uint?St:At),r._initBuffer(n.buffer,i,a,l,3)}else e.bufferData(Et,u,a),n.buffer.dtype=c||kt,n.buffer.usage=a,n.buffer.dimension=3,n.buffer.byteLength=u;var c=f;if(!f){switch(n.buffer.dtype){case kt:case zt:c=kt;break;case At:case _t:c=At;break;case St:case Tt:c=St;break;default:Ke.raise("unsupported type for element array")}n.buffer.dtype=c}n.type=c,Ke(c!==St||!!t.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var p=s;p<0&&(p=n.buffer.byteLength,c===At?p>>=1:c===St&&(p>>=2)),n.vertCount=p;var h=o;if(o<0){h=wt;var m=n.buffer.dimension;1===m&&(h=bt),2===m&&(h=xt),3===m&&(h=wt)}n.primType=h}function o(e){n.elementsCount--,Ke(null!==e.buffer,"must not double destroy elements"),delete s[e.id],e.buffer.destroy(),e.buffer=null}var s={},u=0,f={uint8:kt,uint16:At};t.oes_element_index_uint&&(f.uint32=St),i.prototype.bind=function(){this.buffer.bind()};var l=[];return{create:function(e,t){function s(e){if(e)if("number"==typeof e)u(e),l.primType=wt,l.vertCount=0|e,l.type=kt;else{var t=null,r=Rt,n=-1,i=-1,o=0,c=0;Array.isArray(e)||Re(e)||C(e)?t=e:(Ke.type(e,"object","invalid arguments for elements"),"data"in e&&(t=e.data,Ke(Array.isArray(t)||Re(t)||C(t),"invalid data for element buffer")),"usage"in e&&(Ke.parameter(e.usage,lt,"invalid element buffer usage"),r=lt[e.usage]),"primitive"in e&&(Ke.parameter(e.primitive,vt,"invalid element buffer primitive"),n=vt[e.primitive]),"count"in e&&(Ke("number"==typeof e.count&&e.count>=0,"invalid vertex count for elements"),i=0|e.count),"type"in e&&(Ke.parameter(e.type,f,"invalid buffer type"),c=f[e.type]),"length"in e?o=0|e.length:(o=i,c===At||c===_t?o*=2:c!==St&&c!==Tt||(o*=4))),a(l,t,r,n,i,o,c)}else u(),l.primType=wt,l.vertCount=0,l.type=kt;return s}var u=r.create(null,Et,!0),l=new i(u._buffer);return n.elementsCount++,s(e),s._reglType="elements",s._elements=l,s.subdata=function(e,t){return u.subdata(e,t),s},s.destroy=function(){o(l)},s},createStream:function(e){var t=l.pop();return t||(t=new i(r.create(null,Et,!0,!1)._buffer)),a(t,e,Mt,-1,-1,0,0),t},destroyStream:function(e){l.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof i?e._elements:null},clear:function(){Ze(s).forEach(o)}}}function G(e){for(var t=st.allocType(Ot,e.length),r=0;r<e.length;++r)if(isNaN(e[r]))t[r]=65535;else if(e[r]===1/0)t[r]=31744;else if(e[r]===-1/0)t[r]=64512;else{jt[0]=e[r];var n=Ct[0],i=n>>>31<<15,a=(n<<1>>>24)-127,o=n>>13&1023;if(a<-24)t[r]=i;else if(a<-14){var s=-14-a;t[r]=i+(o+1024>>s)}else t[r]=a>15?i+31744:i+(a+15<<10)+o}return t}function H(e){return Array.isArray(e)||Re(e)}function W(e){return"[object "+e+"]"}function Q(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function $(e){return!!Array.isArray(e)&&!(0===e.length||!H(e[0]))}function Z(e){return Object.prototype.toString.call(e)}function J(e){return Z(e)===Ur}function ee(e){return Z(e)===Kr}function te(e){return Z(e)===Yr}function re(e){return Z(e)===Gr}function ne(e){if(!e)return!1;var t=Z(e);return Hr.indexOf(t)>=0||(Q(e)||$(e)||C(e))}function ie(e){return 0|Me[Object.prototype.toString.call(e)]}function ae(e,t){var r=t.length;switch(e.type){case hr:case mr:case dr:case gr:var n=st.allocType(e.type,r);n.set(t),e.data=n;break;case er:e.data=G(t);break;default:Ke.raise("unsupported texture type, must specify a typed array")}}function oe(e,t){return st.allocType(e.type===er?gr:e.type,t)}function se(e,t){e.type===er?(e.data=G(t),st.freeType(t)):e.data=t}function ue(e,t,r,n,i,a){for(var o=e.width,s=e.height,u=e.channels,f=oe(e,o*s*u),l=0,c=0;c<s;++c)for(var p=0;p<o;++p)for(var h=0;h<u;++h)f[l++]=t[r*p+n*c+i*h+a];se(e,f)}function fe(e,t,r,n,i,a){var o;if(o=void 0!==Qr[e]?Qr[e]:Xr[e]*Wr[t],a&&(o*=6),i){for(var s=0,u=r;u>=1;)s+=o*u*u,u/=2;return s}return o*r*n}function le(e,t,r,n,i,a,o){function s(){this.internalformat=It,this.format=It,this.type=hr,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=0,this.width=0,this.height=0,this.channels=0}function u(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function f(e,n){if("object"==typeof n&&n){if("premultiplyAlpha"in n&&(Ke.type(n.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=n.premultiplyAlpha),"flipY"in n&&(Ke.type(n.flipY,"boolean","invalid texture flip"),e.flipY=n.flipY),"alignment"in n&&(Ke.oneOf(n.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=n.alignment),"colorSpace"in n&&(Ke.parameter(n.colorSpace,B,"invalid colorSpace"),e.colorSpace=B[n.colorSpace]),"type"in n){var i=n.type;Ke(t.oes_texture_float||!("float"===i||"float32"===i),"you must enable the OES_texture_float extension in order to use floating point textures."),Ke(t.oes_texture_half_float||!("half float"===i||"float16"===i),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),Ke(t.webgl_depth_texture||!("uint16"===i||"uint32"===i||"depth stencil"===i),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Ke.parameter(i,N,"invalid texture type"),e.type=N[i]}var a=e.width,o=e.height,s=e.channels,u=!1;"shape"in n?(Ke(Array.isArray(n.shape)&&n.shape.length>=2,"shape must be an array"),a=n.shape[0],o=n.shape[1],3===n.shape.length&&(s=n.shape[2],Ke(s>0&&s<=4,"invalid number of channels"),u=!0),Ke(a>=0&&a<=r.maxTextureSize,"invalid width"),Ke(o>=0&&o<=r.maxTextureSize,"invalid height")):("radius"in n&&(a=o=n.radius,Ke(a>=0&&a<=r.maxTextureSize,"invalid radius")),"width"in n&&(a=n.width,Ke(a>=0&&a<=r.maxTextureSize,"invalid width")),"height"in n&&(o=n.height,Ke(o>=0&&o<=r.maxTextureSize,"invalid height")),"channels"in n&&(s=n.channels,Ke(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|a,e.height=0|o,e.channels=0|s;var f=!1;if("format"in n){var l=n.format;Ke(t.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Ke.parameter(l,P,"invalid texture format");var c=e.internalformat=P[l];e.format=Y[c],l in N&&("type"in n||(e.type=N[l])),l in I&&(e.compressed=!0),f=!0}!u&&f?e.channels=Xr[e.format]:u&&!f?e.channels!==Vr[e.format]&&(e.format=e.internalformat=Vr[e.channels]):f&&u&&Ke(e.channels===Xr[e.format],"number of channels inconsistent with specified format")}}function l(t){e.pixelStorei(Nr,t.flipY),e.pixelStorei(Pr,t.premultiplyAlpha),e.pixelStorei(Ir,t.colorSpace),e.pixelStorei(Br,t.unpackAlignment)}function c(){s.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function p(e,t){var n=null;if(ne(t)?n=t:t&&(Ke.type(t,"object","invalid pixel data type"),f(e,t),"x"in t&&(e.xOffset=0|t.x),"y"in t&&(e.yOffset=0|t.y),ne(t.data)&&(n=t.data)),Ke(!e.compressed||n instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),t.copy){Ke(!n,"can not specify copy and data field for the same texture");var a=i.viewportWidth,o=i.viewportHeight;e.width=e.width||a-e.xOffset,e.height=e.height||o-e.yOffset,e.needsCopy=!0,Ke(e.xOffset>=0&&e.xOffset<a&&e.yOffset>=0&&e.yOffset<o&&e.width>0&&e.width<=a&&e.height>0&&e.height<=o,"copy texture read out of bounds")}else if(n){if(Re(n))e.channels=e.channels||4,e.data=n,"type"in t||e.type!==hr||(e.type=ie(n));else if(Q(n))e.channels=e.channels||4,ae(e,n),e.alignment=1,e.needsFree=!0;else if(C(n)){var s=n.data;Array.isArray(s)||e.type!==hr||(e.type=ie(s));var u,l,c,p,h,m,d=n.shape,g=n.stride;3===d.length?(c=d[2],m=g[2]):(Ke(2===d.length,"invalid ndarray pixel data, must be 2 or 3D"),c=1,m=1),u=d[0],l=d[1],p=g[0],h=g[1],e.alignment=1,e.width=u,e.height=l,e.channels=c,e.format=e.internalformat=Vr[c],e.needsFree=!0,ue(e,s,p,h,m,n.offset)}else if(J(n)||ee(n))J(n)?e.element=n:e.element=n.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(te(n))e.element=n,e.width=n.naturalWidth,e.height=n.naturalHeight,e.channels=4;else if(re(n))e.element=n,e.width=n.videoWidth,e.height=n.videoHeight,e.channels=4;else if($(n)){var y=e.width||n[0].length,v=e.height||n.length,b=e.channels;b=H(n[0][0])?b||n[0][0].length:b||1;for(var x=ut.shape(n),w=1,z=0;z<x.length;++z)w*=x[z];var k=oe(e,w);ut.flatten(n,x,"",k),se(e,k),e.alignment=1,e.width=y,e.height=v,e.channels=b,e.format=e.internalformat=Vr[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===gr?Ke(r.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):e.type===er&&Ke(r.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function h(t,r,i){var a=t.element,o=t.data,s=t.internalformat,u=t.format,f=t.type,c=t.width,p=t.height;l(t),a?e.texImage2D(r,i,u,u,f,a):t.compressed?e.compressedTexImage2D(r,i,s,c,p,0,o):t.needsCopy?(n(),e.copyTexImage2D(r,i,u,t.xOffset,t.yOffset,c,p,0)):e.texImage2D(r,i,u,c,p,0,u,f,o)}function m(t,r,i,a,o){var s=t.element,u=t.data,f=t.internalformat,c=t.format,p=t.type,h=t.width,m=t.height;l(t),s?e.texSubImage2D(r,o,i,a,c,p,s):t.compressed?e.compressedTexSubImage2D(r,o,i,a,f,h,m,u):t.needsCopy?(n(),e.copyTexSubImage2D(r,o,i,a,t.xOffset,t.yOffset,h,m)):e.texSubImage2D(r,o,i,a,h,m,c,p,u)}function d(){return G.pop()||new c}function g(e){e.needsFree&&st.freeType(e.data),c.call(e),G.push(e)}function y(){s.call(this),this.genMipmaps=!1,this.mipmapHint=jr,this.mipmask=0,this.images=Array(16)}function v(e,t,r){var n=e.images[0]=d();e.mipmask=1,n.width=e.width=t,n.height=e.height=r,n.channels=e.channels=4}function b(e,t){var r=null;if(ne(t))u(r=e.images[0]=d(),e),p(r,t),e.mipmask=1;else if(f(e,t),Array.isArray(t.mipmap))for(var n=t.mipmap,i=0;i<n.length;++i)u(r=e.images[i]=d(),e),r.width>>=i,r.height>>=i,p(r,n[i]),e.mipmask|=1<<i;else u(r=e.images[0]=d(),e),p(r,t),e.mipmask=1;u(e,e.images[0]),(e.compressed&&e.internalformat===tr||e.internalformat===rr||e.internalformat===nr||e.internalformat===ir)&&Ke(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function x(e,t){for(var r=e.images,n=0;n<r.length;++n){if(!r[n])return;h(r[n],t,n)}}function w(){var e=W.pop()||new y;s.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function z(e){for(var t=e.images,r=0;r<t.length;++r)t[r]&&g(t[r]),t[r]=null;W.push(e)}function k(){this.minFilter=_r,this.magFilter=_r,this.wrapS=xr,this.wrapT=xr,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=jr}function _(e,t){if("min"in t){var n=t.min;Ke.parameter(n,D),e.minFilter=D[n],qr.indexOf(e.minFilter)>=0&&(e.genMipmaps=!0)}if("mag"in t){var i=t.mag;Ke.parameter(i,O),e.magFilter=O[i]}var a=e.wrapS,o=e.wrapT;if("wrap"in t){var s=t.wrap;"string"==typeof s?(Ke.parameter(s,j),a=o=j[s]):Array.isArray(s)&&(Ke.parameter(s[0],j),Ke.parameter(s[1],j),a=j[s[0]],o=j[s[1]])}else{if("wrapS"in t){var u=t.wrapS;Ke.parameter(u,j),a=j[u]}if("wrapT"in t){var f=t.wrapT;Ke.parameter(f,j),o=j[f]}}if(e.wrapS=a,e.wrapT=o,"anisotropic"in t){var l=t.anisotropic;Ke("number"==typeof l&&l>=1&&l<=r.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var c=!1;switch(typeof t.mipmap){case"string":Ke.parameter(t.mipmap,R,"invalid mipmap hint"),e.mipmapHint=R[t.mipmap],e.genMipmaps=!0,c=!0;break;case"boolean":c=e.genMipmaps=t.mipmap;break;case"object":Ke(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,c=!0;break;default:Ke.raise("invalid mipmap type")}!c||"min"in t||(e.minFilter=Tr)}}function A(r,n){e.texParameteri(n,kr,r.minFilter),e.texParameteri(n,zr,r.magFilter),e.texParameteri(n,yr,r.wrapS),e.texParameteri(n,vr,r.wrapT),t.ext_texture_filter_anisotropic&&e.texParameteri(n,Dr,r.anisotropic),r.genMipmaps&&(e.hint(Rr,r.mipmapHint),e.generateMipmap(n))}function T(t){s.call(this),this.mipmask=0,this.internalformat=It,this.id=Z++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new k,o.profile&&(this.stats={size:0})}function S(t){e.activeTexture(Fr),e.bindTexture(t.target,t.texture)}function E(){var t=pe[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(Bt,null)}function M(t){var r=t.texture;Ke(r,"must not double destroy texture");var n=t.unit,i=t.target;n>=0&&(e.activeTexture(Fr+n),e.bindTexture(i,null),pe[n]=null),e.deleteTexture(r),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete le[t.id],a.textureCount--}var R={"don't care":jr,"dont care":jr,nice:Or,fast:Cr},j={repeat:br,clamp:xr,mirror:wr},O={nearest:_r,linear:Ar},D=je({mipmap:Mr,"nearest mipmap nearest":Tr,"linear mipmap nearest":Sr,"nearest mipmap linear":Er,"linear mipmap linear":Mr},O),B={none:0,browser:Lr},N={uint8:hr,rgba4:Yt,rgb565:Ht,"rgb5 a1":Gt},P={alpha:Lt,luminance:qt,"luminance alpha":Vt,rgb:Ft,rgba:It,rgba4:Xt,"rgb5 a1":Ut,rgb565:Kt},I={};t.ext_srgb&&(P.srgb=Zt,P.srgba=Jt),t.oes_texture_float&&(N.float32=N.float=gr),t.oes_texture_half_float&&(N.float16=N["half float"]=er),t.webgl_depth_texture&&(je(P,{depth:Qt,"depth stencil":$t}),je(N,{uint16:mr,uint32:dr,"depth stencil":Wt})),t.webgl_compressed_texture_s3tc&&je(I,{"rgb s3tc dxt1":tr,"rgba s3tc dxt1":rr,"rgba s3tc dxt3":nr,"rgba s3tc dxt5":ir}),t.webgl_compressed_texture_atc&&je(I,{"rgb atc":ar,"rgba atc explicit alpha":or,"rgba atc interpolated alpha":sr}),t.webgl_compressed_texture_pvrtc&&je(I,{"rgb pvrtc 4bppv1":ur,"rgb pvrtc 2bppv1":fr,"rgba pvrtc 4bppv1":lr,"rgba pvrtc 2bppv1":cr}),t.webgl_compressed_texture_etc1&&(I["rgb etc1"]=pr);var L=Array.prototype.slice.call(e.getParameter(Dt));Object.keys(I).forEach(function(e){var t=I[e];L.indexOf(t)>=0&&(P[e]=t)});var F=Object.keys(P);r.textureFormats=F;var q=[];Object.keys(P).forEach(function(e){var t=P[e];q[t]=e});var V=[];Object.keys(N).forEach(function(e){var t=N[e];V[t]=e});var X=[];Object.keys(O).forEach(function(e){var t=O[e];X[t]=e});var U=[];Object.keys(D).forEach(function(e){var t=D[e];U[t]=e});var K=[];Object.keys(j).forEach(function(e){var t=j[e];K[t]=e});var Y=F.reduce(function(e,t){var r=P[t];return r===qt||r===Lt||r===qt||r===Vt||r===Qt||r===$t?e[r]=r:r===Ut||t.indexOf("rgba")>=0?e[r]=It:e[r]=Ft,e},{}),G=[],W=[],Z=0,le={},ce=r.maxTextureUnits,pe=Array(ce).map(function(){return null});return je(T.prototype,{bind:function(){var t=this;t.bindCount+=1;var r=t.unit;if(r<0){for(var n=0;n<ce;++n){var i=pe[n];if(i){if(i.bindCount>0)continue;i.unit=-1}pe[n]=t,r=n;break}r>=ce&&Ke.raise("insufficient number of texture units"),o.profile&&a.maxTextureUnits<r+1&&(a.maxTextureUnits=r+1),t.unit=r,e.activeTexture(Fr+r),e.bindTexture(t.target,t.texture)}return r},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&M(this)}}),o.profile&&(a.getTotalTextureSize=function(){var e=0;return Object.keys(le).forEach(function(t){e+=le[t].stats.size}),e}),{create2D:function(t,n){function i(e,t){var n=s.texInfo;k.call(n);var a=w();return"number"==typeof e?"number"==typeof t?v(a,0|e,0|t):v(a,0|e,0|e):e?(Ke.type(e,"object","invalid arguments to regl.texture"),_(n,e),b(a,e)):v(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),s.mipmask=a.mipmask,u(s,a),Ke.texture2D(n,a,r),s.internalformat=a.internalformat,i.width=a.width,i.height=a.height,S(s),x(a,Bt),A(n,Bt),E(),z(a),o.profile&&(s.stats.size=fe(s.internalformat,s.type,a.width,a.height,n.genMipmaps,!1)),i.format=q[s.internalformat],i.type=V[s.type],i.mag=X[n.magFilter],i.min=U[n.minFilter],i.wrapS=K[n.wrapS],i.wrapT=K[n.wrapT],i}var s=new T(Bt);return le[s.id]=s,a.textureCount++,i(t,n),i.subimage=function(e,t,r,n){Ke(!!e,"must specify image data");var a=0|t,o=0|r,f=0|n,l=d();return u(l,s),l.width=0,l.height=0,p(l,e),l.width=l.width||(s.width>>f)-a,l.height=l.height||(s.height>>f)-o,Ke(s.type===l.type&&s.format===l.format&&s.internalformat===l.internalformat,"incompatible format for texture.subimage"),Ke(a>=0&&o>=0&&a+l.width<=s.width&&o+l.height<=s.height,"texture.subimage write out of bounds"),Ke(s.mipmask&1<<f,"missing mipmap data"),Ke(l.data||l.element||l.needsCopy,"missing image data"),S(s),m(l,Bt,a,o,f),E(),g(l),i},i.resize=function(t,r){var n=0|t,a=0|r||n;if(n===s.width&&a===s.height)return i;i.width=s.width=n,i.height=s.height=a,S(s);for(var u=0;s.mipmask>>u;++u)e.texImage2D(Bt,u,s.format,n>>u,a>>u,0,s.format,s.type,null);return E(),o.profile&&(s.stats.size=fe(s.internalformat,s.type,n,a,!1,!1)),i},i._reglType="texture2d",i._texture=s,o.profile&&(i.stats=s.stats),i.destroy=function(){s.decRef()},i},createCube:function(t,n,i,s,l,c){function h(e,t,n,i,a,s){var l,c=y.texInfo;for(k.call(c),l=0;l<6;++l)M[l]=w();if("number"!=typeof e&&e)if("object"==typeof e)if(t)b(M[0],e),b(M[1],t),b(M[2],n),b(M[3],i),b(M[4],a),b(M[5],s);else if(_(c,e),f(y,e),"faces"in e){var p=e.faces;for(Ke(Array.isArray(p)&&6===p.length,"cube faces must be a length 6 array"),l=0;l<6;++l)Ke("object"==typeof p[l]&&!!p[l],"invalid input for cube map face"),u(M[l],y),b(M[l],p[l])}else for(l=0;l<6;++l)b(M[l],e);else Ke.raise("invalid arguments to cube map");else{var m=0|e||1;for(l=0;l<6;++l)v(M[l],m,m)}for(u(y,M[0]),c.genMipmaps?y.mipmask=(M[0].width<<1)-1:y.mipmask=M[0].mipmask,Ke.textureCube(y,c,M,r),y.internalformat=M[0].internalformat,h.width=M[0].width,h.height=M[0].height,S(y),l=0;l<6;++l)x(M[l],Pt+l);for(A(c,Nt),E(),o.profile&&(y.stats.size=fe(y.internalformat,y.type,h.width,h.height,c.genMipmaps,!0)),h.format=q[y.internalformat],h.type=V[y.type],h.mag=X[c.magFilter],h.min=U[c.minFilter],h.wrapS=K[c.wrapS],h.wrapT=K[c.wrapT],l=0;l<6;++l)z(M[l]);return h}var y=new T(Nt);le[y.id]=y,a.cubeCount++;var M=new Array(6);return h(t,n,i,s,l,c),h.subimage=function(e,t,r,n,i){Ke(!!t,"must specify image data"),Ke("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var a=0|r,o=0|n,s=0|i,f=d();return u(f,y),f.width=0,f.height=0,p(f,t),f.width=f.width||(y.width>>s)-a,f.height=f.height||(y.height>>s)-o,Ke(y.type===f.type&&y.format===f.format&&y.internalformat===f.internalformat,"incompatible format for texture.subimage"),Ke(a>=0&&o>=0&&a+f.width<=y.width&&o+f.height<=y.height,"texture.subimage write out of bounds"),Ke(y.mipmask&1<<s,"missing mipmap data"),Ke(f.data||f.element||f.needsCopy,"missing image data"),S(y),m(f,Pt+e,a,o,s),E(),g(f),h},h.resize=function(t){var r=0|t;if(r!==y.width){h.width=y.width=r,h.height=y.height=r,S(y);for(var n=0;n<6;++n)for(var i=0;y.mipmask>>i;++i)e.texImage2D(Pt+n,i,y.format,r>>i,r>>i,0,y.format,y.type,null);return E(),o.profile&&(y.stats.size=fe(y.internalformat,y.type,h.width,h.height,!1,!0)),h}},h._reglType="textureCube",h._texture=y,o.profile&&(h.stats=y.stats),h.destroy=function(){y.decRef()},h},clear:function(){for(var t=0;t<ce;++t)e.activeTexture(Fr+t),e.bindTexture(Bt,null),pe[t]=null;Ze(le).forEach(M),a.cubeCount=0,a.textureCount=0},getTexture:function(e){return null},restore:function(){Ze(le).forEach(function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var r=0;r<32;++r)if(0!=(t.mipmask&1<<r))if(t.target===Bt)e.texImage2D(Bt,r,t.internalformat,t.width>>r,t.height>>r,0,t.internalformat,t.type,null);else for(var n=0;n<6;++n)e.texImage2D(Pt+n,r,t.internalformat,t.width>>r,t.height>>r,0,t.internalformat,t.type,null);A(t.texInfo,t.target)})}}}function ce(e,t,r){return Jr[e]*t*r}function pe(e,t,r,n,i,a){function o(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var n=0,i=0;t?(n=t.width,i=t.height):r&&(n=r.width,i=r.height),this.width=n,this.height=i}function s(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function u(e,t,r){if(e)if(e.texture){var n=e.texture._texture,i=Math.max(1,n.width),a=Math.max(1,n.height);Ke(i===t&&a===r,"inconsistent width/height for supplied texture"),n.refCount+=1}else{var o=e.renderbuffer._renderbuffer;Ke(o.width===t&&o.height===r,"inconsistent width/height for renderbuffer"),o.refCount+=1}}function f(t,r){r&&(r.texture?e.framebufferTexture2D(tn,t,r.target,r.texture._texture.texture,0):e.framebufferRenderbuffer(tn,t,rn,r.renderbuffer._renderbuffer.renderbuffer))}function l(e){var t=nn,r=null,n=null,i=e;"object"==typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),Ke.type(i,"function","invalid attachment data");var a=i._reglType;return"texture2d"===a?(r=i,Ke(t===nn)):"textureCube"===a?(r=i,Ke(t>=an&&t<an+6,"invalid cube map target")):"renderbuffer"===a?(n=i,t=rn):Ke.raise("invalid regl object for attachment"),new o(t,r,n)}function c(e,t,r,a,s){if(r){var u=n.create2D({width:e,height:t,format:a,type:s});return u._texture.refCount=0,new o(nn,u,null)}var f=i.create({width:e,height:t,format:a});return f._renderbuffer.refCount=0,new o(rn,null,f)}function p(e){return e&&(e.texture||e.renderbuffer)}function h(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r))}function m(){this.id=k++,_[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function d(e){e.colorAttachments.forEach(s),s(e.depthAttachment),s(e.stencilAttachment),s(e.depthStencilAttachment)}function g(t){var r=t.framebuffer;Ke(r,"must not double destroy framebuffer"),e.deleteFramebuffer(r),t.framebuffer=null,a.framebufferCount--,delete _[t.id]}function y(t){var n;e.bindFramebuffer(tn,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)f(on+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(tn,on+n,nn,null,0);e.framebufferTexture2D(tn,fn,nn,null,0),e.framebufferTexture2D(tn,sn,nn,null,0),e.framebufferTexture2D(tn,un,nn,null,0),f(sn,t.depthAttachment),f(un,t.stencilAttachment),f(fn,t.depthStencilAttachment);var a=e.checkFramebufferStatus(tn);a!==ln&&Ke.raise("framebuffer configuration not supported, status = "+bn[a]),e.bindFramebuffer(tn,b.next),b.cur=b.next,e.getError()}function v(e,n){function i(e,n){var a;Ke(b.next!==o,"can not update framebuffer which is currently in use");var s=t.webgl_draw_buffers,f=0,h=0,m=!0,g=!0,v=null,k=!0,_="rgba",A="uint8",T=1,S=null,E=null,M=null,R=!1;if("number"==typeof e)f=0|e,h=0|n||f;else if(e){Ke.type(e,"object","invalid arguments for framebuffer");var j=e;if("shape"in j){var C=j.shape;Ke(Array.isArray(C)&&C.length>=2,"invalid shape for framebuffer"),f=C[0],h=C[1]}else"radius"in j&&(f=h=j.radius),"width"in j&&(f=j.width),"height"in j&&(h=j.height);("color"in j||"colors"in j)&&(v=j.color||j.colors,Array.isArray(v)&&Ke(1===v.length||s,"multiple render targets not supported")),v||("colorCount"in j&&(T=0|j.colorCount,Ke(T>0,"invalid color buffer count")),"colorTexture"in j&&(k=!!j.colorTexture,_="rgba4"),"colorType"in j&&(A=j.colorType,k?(Ke(t.oes_texture_float||!("float"===A||"float32"===A),"you must enable OES_texture_float in order to use floating point framebuffer objects"),Ke(t.oes_texture_half_float||!("half float"===A||"float16"===A),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===A||"float16"===A?(Ke(t.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),_="rgba16f"):"float"!==A&&"float32"!==A||(Ke(t.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),_="rgba32f"),Ke.oneOf(A,z,"invalid color type")),"colorFormat"in j&&(_=j.colorFormat,x.indexOf(_)>=0?k=!0:w.indexOf(_)>=0?k=!1:k?Ke.oneOf(j.colorFormat,x,"invalid color format for texture"):Ke.oneOf(j.colorFormat,w,"invalid color format for renderbuffer"))),("depthTexture"in j||"depthStencilTexture"in j)&&(R=!(!j.depthTexture&&!j.depthStencilTexture),Ke(!R||t.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in j&&("boolean"==typeof j.depth?m=j.depth:(S=j.depth,g=!1)),"stencil"in j&&("boolean"==typeof j.stencil?g=j.stencil:(E=j.stencil,m=!1)),"depthStencil"in j&&("boolean"==typeof j.depthStencil?m=g=j.depthStencil:(M=j.depthStencil,m=!1,g=!1))}else f=h=1;var O=null,D=null,B=null,N=null;if(Array.isArray(v))O=v.map(l);else if(v)O=[l(v)];else for(O=new Array(T),a=0;a<T;++a)O[a]=c(f,h,k,_,A);Ke(t.webgl_draw_buffers||O.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),Ke(O.length<=r.maxColorAttachments,"too many color attachments, not supported"),f=f||O[0].width,h=h||O[0].height,S?D=l(S):m&&!g&&(D=c(f,h,R,"depth","uint32")),E?B=l(E):g&&!m&&(B=c(f,h,!1,"stencil","uint8")),M?N=l(M):!S&&!E&&g&&m&&(N=c(f,h,R,"depth stencil","depth stencil")),Ke(!!S+!!E+!!M<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var P=null;for(a=0;a<O.length;++a)if(u(O[a],f,h),Ke(!O[a]||O[a].texture&&pn.indexOf(O[a].texture._texture.format)>=0||O[a].renderbuffer&&vn.indexOf(O[a].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+a+" is invalid"),O[a]&&O[a].texture){var I=hn[O[a].texture._texture.format]*mn[O[a].texture._texture.type];null===P?P=I:Ke(P===I,"all color attachments much have the same number of bits per pixel.")}return u(D,f,h),Ke(!D||D.texture&&D.texture._texture.format===cn||D.renderbuffer&&D.renderbuffer._renderbuffer.format===dn,"invalid depth attachment for framebuffer object"),u(B,f,h),Ke(!B||B.renderbuffer&&B.renderbuffer._renderbuffer.format===gn,"invalid stencil attachment for framebuffer object"),u(N,f,h),Ke(!N||N.texture&&N.texture._texture.format===yn||N.renderbuffer&&N.renderbuffer._renderbuffer.format===yn,"invalid depth-stencil attachment for framebuffer object"),d(o),o.width=f,o.height=h,o.colorAttachments=O,o.depthAttachment=D,o.stencilAttachment=B,o.depthStencilAttachment=N,i.color=O.map(p),i.depth=p(D),i.stencil=p(B),i.depthStencil=p(N),i.width=o.width,i.height=o.height,y(o),i}var o=new m;return a.framebufferCount++,i(e,n),je(i,{resize:function(e,t){Ke(b.next!==o,"can not resize a framebuffer which is currently in use");var r=0|e,n=0|t||r;if(r===o.width&&n===o.height)return i;for(var a=o.colorAttachments,s=0;s<a.length;++s)h(a[s],r,n);return h(o.depthAttachment,r,n),h(o.stencilAttachment,r,n),h(o.depthStencilAttachment,r,n),o.width=i.width=r,o.height=i.height=n,y(o),i},_reglType:"framebuffer",_framebuffer:o,destroy:function(){g(o),d(o)},use:function(e){b.setFBO({framebuffer:i},e)}})}var b={cur:null,next:null,dirty:!1,setFBO:null},x=["rgba"],w=["rgba4","rgb565","rgb5 a1"];t.ext_srgb&&w.push("srgba"),t.ext_color_buffer_half_float&&w.push("rgba16f","rgb16f"),t.webgl_color_buffer_float&&w.push("rgba32f");var z=["uint8"];t.oes_texture_half_float&&z.push("half float","float16"),t.oes_texture_float&&z.push("float","float32");var k=0,_={};return je(b,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof m)return t}return null},create:v,createCube:function(e){function i(e){var r;Ke(a.indexOf(b.next)<0,"can not update framebuffer which is currently in use");var o=t.webgl_draw_buffers,s={color:null},u=0,f=null,l="rgba",c="uint8",p=1;if("number"==typeof e)u=0|e;else if(e){Ke.type(e,"object","invalid arguments for framebuffer");var h=e;if("shape"in h){var m=h.shape;Ke(Array.isArray(m)&&m.length>=2,"invalid shape for framebuffer"),Ke(m[0]===m[1],"cube framebuffer must be square"),u=m[0]}else"radius"in h&&(u=0|h.radius),"width"in h?(u=0|h.width,"height"in h&&Ke(h.height===u,"must be square")):"height"in h&&(u=0|h.height);("color"in h||"colors"in h)&&(f=h.color||h.colors,Array.isArray(f)&&Ke(1===f.length||o,"multiple render targets not supported")),f||("colorCount"in h&&(p=0|h.colorCount,Ke(p>0,"invalid color buffer count")),"colorType"in h&&(Ke.oneOf(h.colorType,z,"invalid color type"),c=h.colorType),"colorFormat"in h&&(l=h.colorFormat,Ke.oneOf(h.colorFormat,x,"invalid color format for texture"))),"depth"in h&&(s.depth=h.depth),"stencil"in h&&(s.stencil=h.stencil),"depthStencil"in h&&(s.depthStencil=h.depthStencil)}else u=1;var d;if(f)if(Array.isArray(f))for(d=[],r=0;r<f.length;++r)d[r]=f[r];else d=[f];else{d=Array(p);var g={radius:u,format:l,type:c};for(r=0;r<p;++r)d[r]=n.createCube(g)}for(s.color=Array(d.length),r=0;r<d.length;++r){var y=d[r];Ke("function"==typeof y&&"textureCube"===y._reglType,"invalid cube map"),u=u||y.width,Ke(y.width===u&&y.height===u,"invalid cube map shape"),s.color[r]={target:an,data:d[r]}}for(r=0;r<6;++r){for(var w=0;w<d.length;++w)s.color[w].target=an+r;r>0&&(s.depth=a[0].depth,s.stencil=a[0].stencil,s.depthStencil=a[0].depthStencil),a[r]?a[r](s):a[r]=v(s)}return je(i,{width:u,height:u,color:d})}var a=Array(6);return i(e),je(i,{faces:a,resize:function(e){var t,n=0|e;if(Ke(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===i.width)return i;var o=i.color;for(t=0;t<o.length;++t)o[t].resize(n);for(t=0;t<6;++t)a[t].resize(n);return i.width=i.height=n,i},_reglType:"framebufferCube",destroy:function(){a.forEach(function(e){e.destroy()})}})},clear:function(){Ze(_).forEach(g)},restore:function(){Ze(_).forEach(function(t){t.framebuffer=e.createFramebuffer(),y(t)})}})}function he(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=xn,this.offset=0,this.stride=0,this.divisor=0}function me(e,t,r,n,i){for(var a=r.maxAttributes,o=new Array(a),s=0;s<a;++s)o[s]=new he;return{Record:he,scope:{},state:o}}function de(e,t,r,n){function i(e,t,r,n){this.name=e,this.id=t,this.location=r,this.info=n}function a(e,t){for(var r=0;r<e.length;++r)if(e[r].id===t.id)return void(e[r].location=t.location);e.push(t)}function o(r,n,i){var a=r===wn?f:l,o=a[n];if(!o){var s=t.str(n);o=e.createShader(r),e.shaderSource(o,s),e.compileShader(o),Ke.shaderError(e,o,s,r,i),a[n]=o}return o}function s(e,t){this.id=h++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],n.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function u(r,s){var u,f,l=o(wn,r.fragId),c=o(zn,r.vertId),p=r.program=e.createProgram();e.attachShader(p,l),e.attachShader(p,c),e.linkProgram(p),Ke.linkError(e,p,t.str(r.fragId),t.str(r.vertId),s);var h=e.getProgramParameter(p,kn);n.profile&&(r.stats.uniformsCount=h);var m=r.uniforms;for(u=0;u<h;++u)if(f=e.getActiveUniform(p,u))if(f.size>1)for(var d=0;d<f.size;++d){var g=f.name.replace("[0]","["+d+"]");a(m,new i(g,t.id(g),e.getUniformLocation(p,g),f))}else a(m,new i(f.name,t.id(f.name),e.getUniformLocation(p,f.name),f));var y=e.getProgramParameter(p,_n);n.profile&&(r.stats.attributesCount=y);var v=r.attributes;for(u=0;u<y;++u)(f=e.getActiveAttrib(p,u))&&a(v,new i(f.name,t.id(f.name),e.getAttribLocation(p,f.name),f))}var f={},l={},c={},p=[],h=0;return n.profile&&(r.getMaxUniformsCount=function(){var e=0;return p.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},r.getMaxAttributesCount=function(){var e=0;return p.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);Ze(f).forEach(t),f={},Ze(l).forEach(t),l={},p.forEach(function(t){e.deleteProgram(t.program)}),p.length=0,c={},r.shaderCount=0},program:function(e,t,n){Ke.command(e>=0,"missing vertex shader",n),Ke.command(t>=0,"missing fragment shader",n);var i=c[t];i||(i=c[t]={});var a=i[e];return a||(a=new s(t,e),r.shaderCount++,u(a,n),i[e]=a,p.push(a)),a},restore:function(){f={},l={};for(var e=0;e<p.length;++e)u(p[e])},shader:o,frag:-1,vert:-1}}function ge(e,t,r,n,i,a){function o(o){var s;null===t.next?(Ke(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),s=Tn):(Ke(null!==t.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),s=t.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?Ke(s===Tn||s===En,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"):Ke(s===Tn,"Reading from a framebuffer is only allowed for the type 'uint8'"));var u=0,f=0,l=n.framebufferWidth,c=n.framebufferHeight,p=null;Re(o)?p=o:o&&(Ke.type(o,"object","invalid arguments to regl.read()"),u=0|o.x,f=0|o.y,Ke(u>=0&&u<n.framebufferWidth,"invalid x offset for regl.read"),Ke(f>=0&&f<n.framebufferHeight,"invalid y offset for regl.read"),l=0|(o.width||n.framebufferWidth-u),c=0|(o.height||n.framebufferHeight-f),p=o.data||null),p&&(s===Tn?Ke(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):s===En&&Ke(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),Ke(l>0&&l+u<=n.framebufferWidth,"invalid width for read pixels"),Ke(c>0&&c+f<=n.framebufferHeight,"invalid height for read pixels"),r();var h=l*c*4;return p||(s===Tn?p=new Uint8Array(h):s===En&&(p=p||new Float32Array(h))),Ke.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),Ke(p.byteLength>=h,"data buffer for regl.read() too small"),e.pixelStorei(Sn,4),e.readPixels(u,f,l,c,An,s,p),p}function s(e){var r;return t.setFBO({framebuffer:e.framebuffer},function(){r=o(e)}),r}return function(e){return e&&"framebuffer"in e?s(e):o(e)}}function ye(e){return Array.prototype.slice.call(e)}function ve(e){return ye(e).join("")}function be(){function e(){var e=[],t=[];return je(function(){e.push.apply(e,ye(arguments))},{def:function(){var n="v"+r++;return t.push(n),arguments.length>0&&(e.push(n,"="),e.push.apply(e,ye(arguments)),e.push(";")),n},toString:function(){return ve([t.length>0?"var "+t+";":"",ve(e)])}})}function t(){function t(e,t){n(e,t,"=",r.def(e,t),";")}var r=e(),n=e(),i=r.toString,a=n.toString;return je(function(){r.apply(r,ye(arguments))},{def:r.def,entry:r,exit:n,save:t,set:function(e,n,i){t(e,n),r(e,n,"=",i,";")},toString:function(){return i()+a()}})}var r=0,n=[],i=[],a=e(),o={};return{global:a,link:function(e){for(var t=0;t<i.length;++t)if(i[t]===e)return n[t];var a="g"+r++;return n.push(a),i.push(e),a},block:e,proc:function(e,r){function n(){var e="a"+i.length;return i.push(e),e}var i=[];r=r||0;for(var a=0;a<r;++a)n();var s=t(),u=s.toString;return o[e]=je(s,{arg:n,toString:function(){return ve(["function(",i.join(),"){",u(),"}"])}})},scope:t,cond:function(){var e=ve(arguments),r=t(),n=t(),i=r.toString,a=n.toString;return je(r,{then:function(){return r.apply(r,ye(arguments)),this},else:function(){return n.apply(n,ye(arguments)),this},toString:function(){var t=a();return t&&(t="else{"+t+"}"),ve(["if(",e,"){",i(),"}",t])}})},compile:function(){var e=['"use strict";',a,"return {"];Object.keys(o).forEach(function(t){e.push('"',t,'":',o[t].toString(),",")}),e.push("}");var t=ve(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,i)}}}function xe(e){return Array.isArray(e)||Re(e)||C(e)}function we(e){return e.sort(function(e,t){return e===li?-1:t===li?1:e<t?-1:1})}function ze(e,t,r,n){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=n}function ke(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function _e(e){return new ze(!1,!1,!1,e)}function Ae(e,t){var r=e.type;if(r===On){var n=e.data.length;return new ze(!0,n>=1,n>=2,t)}if(r===Pn){var i=e.data;return new ze(i.thisDep,i.contextDep,i.propDep,t)}return new ze(r===Nn,r===Bn,r===Dn,t)}function Te(e,t,r,n,i,a,o,s,u,f,l,c,p,h,m){function d(e){return e.replace(".","_")}function g(e,t,r){var n=d(e);te.push(e),ee[n]=J[n]=!!r,re[n]=t}function y(e,t,r){var n=d(e);te.push(e),Array.isArray(r)?(J[n]=r.slice(),ee[n]=r.slice()):J[n]=ee[n]=r,ne[n]=t}function v(){var e=be(),r=e.link,n=e.global;e.id=oe++,e.batchId="0";var i=r(ie),a=e.shared={props:"a0"};Object.keys(ie).forEach(function(e){a[e]=n.def(i,".",e)}),Ke.optional(function(){e.CHECK=r(Ke),e.commandStr=Ke.guessCommand(),e.command=r(e.commandStr),e.assert=function(e,t,n){e("if(!(",t,"))",this.CHECK,".commandRaise(",r(n),",",this.command,");")},ae.invalidBlendCombinations=ba});var o=e.next={},s=e.current={};Object.keys(ne).forEach(function(e){Array.isArray(J[e])&&(o[e]=n.def(a.next,".",e),s[e]=n.def(a.current,".",e))});var u=e.constants={};Object.keys(ae).forEach(function(e){u[e]=n.def(JSON.stringify(ae[e]))}),e.invoke=function(t,n){switch(n.type){case On:var i=["this",a.context,a.props,e.batchId];return t.def(r(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case Dn:return t.def(a.props,n.data);case Bn:return t.def(a.context,n.data);case Nn:return t.def("this",n.data);case Pn:return n.data.append(e,t),n.data.ref}},e.attribCache={};var l={};return e.scopeAttrib=function(e){var n=t.id(e);if(n in l)return l[n];var i=f.scope[n];return i||(i=f.scope[n]=new W),l[n]=r(i)},e}function b(e){var t,r=e.static,n=e.dynamic;if(ci in r){var i=!!r[ci];(t=_e(function(e,t){return i})).enable=i}else if(ci in n){var a=n[ci];t=Ae(a,function(e,t){return e.invoke(t,a)})}return t}function x(e,t){var r=e.static,n=e.dynamic;if(pi in r){var i=r[pi];return i?(i=s.getFramebuffer(i),Ke.command(i,"invalid framebuffer object"),_e(function(e,t){var r=e.link(i),n=e.shared;t.set(n.framebuffer,".next",r);var a=n.context;return t.set(a,"."+xi,r+".width"),t.set(a,"."+wi,r+".height"),r})):_e(function(e,t){var r=e.shared;t.set(r.framebuffer,".next","null");var n=r.context;return t.set(n,"."+xi,n+"."+_i),t.set(n,"."+wi,n+"."+Ai),"null"})}if(pi in n){var a=n[pi];return Ae(a,function(e,t){var r=e.invoke(t,a),n=e.shared,i=n.framebuffer,o=t.def(i,".getFramebuffer(",r,")");Ke.optional(function(){e.assert(t,"!"+r+"||"+o,"invalid framebuffer object")}),t.set(i,".next",o);var s=n.context;return t.set(s,"."+xi,o+"?"+o+".width:"+s+"."+_i),t.set(s,"."+wi,o+"?"+o+".height:"+s+"."+Ai),o})}return null}function w(e,t,r){function n(e){if(e in i){var n=i[e];Ke.commandType(n,"object","invalid "+e,r.commandStr);var o,s,u=!0,f=0|n.x,l=0|n.y;return"width"in n?(o=0|n.width,Ke.command(o>=0,"invalid "+e,r.commandStr)):u=!1,"height"in n?(s=0|n.height,Ke.command(s>=0,"invalid "+e,r.commandStr)):u=!1,new ze(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,function(e,t){var r=e.shared.context,i=o;"width"in n||(i=t.def(r,".",xi,"-",f));var a=s;return"height"in n||(a=t.def(r,".",wi,"-",l)),[f,l,i,a]})}if(e in a){var c=a[e],p=Ae(c,function(t,r){var n=t.invoke(r,c);Ke.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)});var i=t.shared.context,a=r.def(n,".x|0"),o=r.def(n,".y|0"),s=r.def('"width" in ',n,"?",n,".width|0:","(",i,".",xi,"-",a,")"),u=r.def('"height" in ',n,"?",n,".height|0:","(",i,".",wi,"-",o,")");return Ke.optional(function(){t.assert(r,s+">=0&&"+u+">=0","invalid "+e)}),[a,o,s,u]});return t&&(p.thisDep=p.thisDep||t.thisDep,p.contextDep=p.contextDep||t.contextDep,p.propDep=p.propDep||t.propDep),p}return t?new ze(t.thisDep,t.contextDep,t.propDep,function(e,t){var r=e.shared.context;return[0,0,t.def(r,".",xi),t.def(r,".",wi)]}):null}var i=e.static,a=e.dynamic,o=n(li);if(o){var s=o;o=new ze(o.thisDep,o.contextDep,o.propDep,function(e,t){var r=s.append(e,t),n=e.shared.context;return t.set(n,"."+zi,r[2]),t.set(n,"."+ki,r[3]),r})}return{viewport:o,scissor_box:n(fi)}}function z(e){function r(e){if(e in i){var r=t.id(i[e]);Ke.optional(function(){l.shader(za[e],r,Ke.guessCommand())});var n=_e(function(){return r});return n.id=r,n}if(e in a){var o=a[e];return Ae(o,function(t,r){var n=t.invoke(r,o),i=r.def(t.shared.strings,".id(",n,")");return Ke.optional(function(){r(t.shared.shader,".shader(",za[e],",",i,",",t.command,");")}),i})}return null}var n,i=e.static,a=e.dynamic,o=r(mi),s=r(hi),u=null;return ke(o)&&ke(s)?(u=l.program(s.id,o.id),n=_e(function(e,t){return e.link(u)})):n=new ze(o&&o.thisDep||s&&s.thisDep,o&&o.contextDep||s&&s.contextDep,o&&o.propDep||s&&s.propDep,function(e,t){var r,n=e.shared.shader;r=o?o.append(e,t):t.def(n,".",mi);var i,a=n+".program("+(i=s?s.append(e,t):t.def(n,".",hi))+","+r;return Ke.optional(function(){a+=","+e.command}),t.def(a+")")}),{frag:o,vert:s,progVar:n,program:u}}function k(e,t){function r(e,r){if(e in n){var a=0|n[e];return Ke.command(!r||a>=0,"invalid "+e,t.commandStr),_e(function(e,t){return r&&(e.OFFSET=a),a})}if(e in i){var s=i[e];return Ae(s,function(t,n){var i=t.invoke(n,s);return r&&(t.OFFSET=i,Ke.optional(function(){t.assert(n,i+">=0","invalid "+e)})),i})}return r&&o?_e(function(e,t){return e.OFFSET="0",0}):null}var n=e.static,i=e.dynamic,o=function(){if(di in n){var e=n[di];xe(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e),Ke.command(e,"invalid elements",t.commandStr));var r=_e(function(t,r){if(e){var n=t.link(e);return t.ELEMENTS=n,n}return t.ELEMENTS=null,null});return r.value=e,r}if(di in i){var o=i[di];return Ae(o,function(e,t){var r=e.shared,n=r.isBufferArgs,i=r.elements,a=e.invoke(t,o),s=t.def("null"),u=t.def(n,"(",a,")"),f=e.cond(u).then(s,"=",i,".createStream(",a,");").else(s,"=",i,".getElements(",a,");");return Ke.optional(function(){e.assert(f.else,"!"+a+"||"+s,"invalid elements")}),t.entry(f),t.exit(e.cond(u).then(i,".destroyStream(",s,");")),e.ELEMENTS=s,s})}return null}(),s=r(vi,!0);return{elements:o,primitive:function(){if(gi in n){var e=n[gi];return Ke.commandParameter(e,vt,"invalid primitve",t.commandStr),_e(function(t,r){return vt[e]})}if(gi in i){var r=i[gi];return Ae(r,function(e,t){var n=e.constants.primTypes,i=e.invoke(t,r);return Ke.optional(function(){e.assert(t,i+" in "+n,"invalid primitive, must be one of "+Object.keys(vt))}),t.def(n,"[",i,"]")})}return o?ke(o)?_e(o.value?function(e,t){return t.def(e.ELEMENTS,".primType")}:function(){return na}):new ze(o.thisDep,o.contextDep,o.propDep,function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",na)}):null}(),count:function(){if(yi in n){var e=0|n[yi];return Ke.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),_e(function(){return e})}if(yi in i){var r=i[yi];return Ae(r,function(e,t){var n=e.invoke(t,r);return Ke.optional(function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")}),n})}if(o){if(ke(o)){if(o)return s?new ze(s.thisDep,s.contextDep,s.propDep,function(e,t){var r=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return Ke.optional(function(){e.assert(t,r+">=0","invalid vertex offset/element buffer too small")}),r}):_e(function(e,t){return t.def(e.ELEMENTS,".vertCount")});var a=_e(function(){return-1});return Ke.optional(function(){a.MISSING=!0}),a}var u=new ze(o.thisDep||s.thisDep,o.contextDep||s.contextDep,o.propDep||s.propDep,function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1")});return Ke.optional(function(){u.DYNAMIC=!0}),u}return null}(),instances:r(bi,!1),offset:s}}function _(e,t){var r=e.static,i=e.dynamic,a={};return te.forEach(function(e){function o(t,n){if(e in r){var o=t(r[e]);a[s]=_e(function(){return o})}else if(e in i){var u=i[e];a[s]=Ae(u,function(e,t){return n(e,t,e.invoke(t,u))})}}var s=d(e);switch(e){case Hn:case Ln:case In:case ni:case Xn:case ui:case Zn:case ei:case ti:case Yn:return o(function(r){return Ke.commandType(r,"boolean",e,t.commandStr),r},function(t,r,n){return Ke.optional(function(){t.assert(r,"typeof "+n+'==="boolean"',"invalid flag "+e,t.commandStr)}),n});case Un:return o(function(r){return Ke.commandParameter(r,xa,"invalid "+e,t.commandStr),xa[r]},function(t,r,n){var i=t.constants.compareFuncs;return Ke.optional(function(){t.assert(r,n+" in "+i,"invalid "+e+", must be one of "+Object.keys(xa))}),r.def(i,"[",n,"]")});case Kn:return o(function(e){return Ke.command(H(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e},function(e,t,r){return Ke.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===2&&typeof "+r+'[0]==="number"&&typeof '+r+'[1]==="number"&&'+r+"[0]<="+r+"[1]","depth range must be a 2d array")}),[t.def("+",r,"[0]"),t.def("+",r,"[1]")]});case Vn:return o(function(e){Ke.commandType(e,"object","blend.func",t.commandStr);var r="srcRGB"in e?e.srcRGB:e.src,n="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,a="dstAlpha"in e?e.dstAlpha:e.dst;return Ke.commandParameter(r,va,s+".srcRGB",t.commandStr),Ke.commandParameter(n,va,s+".srcAlpha",t.commandStr),Ke.commandParameter(i,va,s+".dstRGB",t.commandStr),Ke.commandParameter(a,va,s+".dstAlpha",t.commandStr),Ke.command(-1===ba.indexOf(r+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+r+", "+i+")",t.commandStr),[va[r],va[i],va[n],va[a]]},function(t,r,n){function i(i,o){var s=r.def('"',i,o,'" in ',n,"?",n,".",i,o,":",n,".",i);return Ke.optional(function(){t.assert(r,s+" in "+a,"invalid "+e+"."+i+o+", must be one of "+Object.keys(va))}),s}var a=t.constants.blendFuncs;Ke.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid blend func, must be an object")});var o=i("src","RGB"),s=i("dst","RGB");Ke.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(r,e+".indexOf("+o+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var u=r.def(a,"[",o,"]"),f=r.def(a,"[",i("src","Alpha"),"]");return[u,r.def(a,"[",s,"]"),f,r.def(a,"[",i("dst","Alpha"),"]")]});case qn:return o(function(r){return"string"==typeof r?(Ke.commandParameter(r,Q,"invalid "+e,t.commandStr),[Q[r],Q[r]]):"object"==typeof r?(Ke.commandParameter(r.rgb,Q,e+".rgb",t.commandStr),Ke.commandParameter(r.alpha,Q,e+".alpha",t.commandStr),[Q[r.rgb],Q[r.alpha]]):void Ke.commandRaise("invalid blend.equation",t.commandStr)},function(t,r,n){var i=t.constants.blendEquations,a=r.def(),o=r.def(),s=t.cond("typeof ",n,'==="string"');return Ke.optional(function(){function r(e,r,n){t.assert(e,n+" in "+i,"invalid "+r+", must be one of "+Object.keys(Q))}r(s.then,e,n),t.assert(s.else,n+"&&typeof "+n+'==="object"',"invalid "+e),r(s.else,e+".rgb",n+".rgb"),r(s.else,e+".alpha",n+".alpha")}),s.then(a,"=",o,"=",i,"[",n,"];"),s.else(a,"=",i,"[",n,".rgb];",o,"=",i,"[",n,".alpha];"),r(s),[a,o]});case Fn:return o(function(e){return Ke.command(H(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),O(4,function(t){return+e[t]})},function(e,t,r){return Ke.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","blend.color must be a 4d array")}),O(4,function(e){return t.def("+",r,"[",e,"]")})});case ii:return o(function(e){return Ke.commandType(e,"number",s,t.commandStr),0|e},function(e,t,r){return Ke.optional(function(){e.assert(t,"typeof "+r+'==="number"',"invalid stencil.mask")}),t.def(r,"|0")});case ai:return o(function(r){Ke.commandType(r,"object",s,t.commandStr);var n=r.cmp||"keep",i=r.ref||0,a="mask"in r?r.mask:-1;return Ke.commandParameter(n,xa,e+".cmp",t.commandStr),Ke.commandType(i,"number",e+".ref",t.commandStr),Ke.commandType(a,"number",e+".mask",t.commandStr),[xa[n],i,a]},function(e,t,r){var n=e.constants.compareFuncs;return Ke.optional(function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(r+"&&typeof ",r,'==="object"'),i('!("cmp" in ',r,")||(",r,".cmp in ",n,")")}),[t.def('"cmp" in ',r,"?",n,"[",r,".cmp]",":",ca),t.def(r,".ref|0"),t.def('"mask" in ',r,"?",r,".mask|0:-1")]});case oi:case si:return o(function(r){Ke.commandType(r,"object",s,t.commandStr);var n=r.fail||"keep",i=r.zfail||"keep",a=r.zpass||"keep";return Ke.commandParameter(n,wa,e+".fail",t.commandStr),Ke.commandParameter(i,wa,e+".zfail",t.commandStr),Ke.commandParameter(a,wa,e+".zpass",t.commandStr),[e===si?aa:ia,wa[n],wa[i],wa[a]]},function(t,r,n){function i(i){return Ke.optional(function(){t.assert(r,'!("'+i+'" in '+n+")||("+n+"."+i+" in "+a+")","invalid "+e+"."+i+", must be one of "+Object.keys(wa))}),r.def('"',i,'" in ',n,"?",a,"[",n,".",i,"]:",ca)}var a=t.constants.stencilOps;return Ke.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)}),[e===si?aa:ia,i("fail"),i("zfail"),i("zpass")]});case Jn:return o(function(e){Ke.commandType(e,"object",s,t.commandStr);var r=0|e.factor,n=0|e.units;return Ke.commandType(r,"number",s+".factor",t.commandStr),Ke.commandType(n,"number",s+".units",t.commandStr),[r,n]},function(t,r,n){return Ke.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)}),[r.def(n,".factor|0"),r.def(n,".units|0")]});case Wn:return o(function(e){var r=0;return"front"===e?r=ia:"back"===e&&(r=aa),Ke.command(!!r,s,t.commandStr),r},function(e,t,r){return Ke.optional(function(){e.assert(t,r+'==="front"||'+r+'==="back"',"invalid cull.face")}),t.def(r,'==="front"?',ia,":",aa)});case $n:return o(function(e){return Ke.command("number"==typeof e&&e>=n.lineWidthDims[0]&&e<=n.lineWidthDims[1],"invalid line width, must positive number between "+n.lineWidthDims[0]+" and "+n.lineWidthDims[1],t.commandStr),e},function(e,t,r){return Ke.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">="+n.lineWidthDims[0]+"&&"+r+"<="+n.lineWidthDims[1],"invalid line width")}),r});case Qn:return o(function(e){return Ke.commandParameter(e,ka,s,t.commandStr),ka[e]},function(e,t,r){return Ke.optional(function(){e.assert(t,r+'==="cw"||'+r+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),t.def(r+'==="cw"?'+oa+":"+sa)});case Gn:return o(function(e){return Ke.command(H(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map(function(e){return!!e})},function(e,t,r){return Ke.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","invalid color.mask")}),O(4,function(e){return"!!"+r+"["+e+"]"})});case ri:return o(function(e){Ke.command("object"==typeof e&&e,s,t.commandStr);var r="value"in e?e.value:1,n=!!e.invert;return Ke.command("number"==typeof r&&r>=0&&r<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[r,n]},function(e,t,r){return Ke.optional(function(){e.assert(t,r+"&&typeof "+r+'==="object"',"invalid sample.coverage")}),[t.def('"value" in ',r,"?+",r,".value:1"),t.def("!!",r,".invert")]})}}),a}function A(e,t){var r=e.static,n=e.dynamic,i={};return Object.keys(r).forEach(function(e){var n,a=r[e];if("number"==typeof a||"boolean"==typeof a)n=_e(function(){return a});else if("function"==typeof a){var o=a._reglType;"texture2d"===o||"textureCube"===o?n=_e(function(e){return e.link(a)}):"framebuffer"===o||"framebufferCube"===o?(Ke.command(a.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),n=_e(function(e){return e.link(a.color[0])})):Ke.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else H(a)?n=_e(function(t){return t.global.def("[",O(a.length,function(r){return Ke.command("number"==typeof a[r]||"boolean"==typeof a[r],"invalid uniform "+e,t.commandStr),a[r]}),"]")}):Ke.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);n.value=a,i[e]=n}),Object.keys(n).forEach(function(e){var t=n[e];i[e]=Ae(t,function(e,r){return e.invoke(r,t)})}),i}function T(e,r){var n=e.static,a=e.dynamic,o={};return Object.keys(n).forEach(function(e){var a=n[e],s=t.id(e),u=new W;if(xe(a))u.state=jn,u.buffer=i.getBuffer(i.create(a,Si,!1,!0)),u.type=0;else{var f=i.getBuffer(a);if(f)u.state=jn,u.buffer=f,u.type=0;else if(Ke.command("object"==typeof a&&a,"invalid data for attribute "+e,r.commandStr),a.constant){var l=a.constant;u.buffer="null",u.state=Cn,"number"==typeof l?u.x=l:(Ke.command(H(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+e,r.commandStr),Mn.forEach(function(e,t){t<l.length&&(u[e]=l[t])}))}else{f=xe(a.buffer)?i.getBuffer(i.create(a.buffer,Si,!1,!0)):i.getBuffer(a.buffer),Ke.command(!!f,'missing buffer for attribute "'+e+'"',r.commandStr);var c=0|a.offset;Ke.command(c>=0,'invalid offset for attribute "'+e+'"',r.commandStr);var p=0|a.stride;Ke.command(p>=0&&p<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',r.commandStr);var h=0|a.size;Ke.command(!("size"in a)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',r.commandStr);var m=!!a.normalized,d=0;"type"in a&&(Ke.commandParameter(a.type,ft,"invalid type for attribute "+e,r.commandStr),d=ft[a.type]);var g=0|a.divisor;"divisor"in a&&(Ke.command(0===g||$,'cannot specify divisor for attribute "'+e+'", instancing not supported',r.commandStr),Ke.command(g>=0,'invalid divisor for attribute "'+e+'"',r.commandStr)),Ke.optional(function(){var t=r.commandStr,n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(a).forEach(function(r){Ke.command(n.indexOf(r)>=0,'unknown parameter "'+r+'" for attribute pointer "'+e+'" (valid parameters are '+n+")",t)})}),u.buffer=f,u.state=jn,u.size=h,u.normalized=m,u.type=d||f.dtype,u.offset=c,u.stride=p,u.divisor=g}}o[e]=_e(function(e,t){var r=e.attribCache;if(s in r)return r[s];var n={isStream:!1};return Object.keys(u).forEach(function(e){n[e]=u[e]}),u.buffer&&(n.buffer=e.link(u.buffer),n.type=n.type||n.buffer+".dtype"),r[s]=n,n})}),Object.keys(a).forEach(function(e){var t=a[e];o[e]=Ae(t,function(r,n){function i(e){n(f[e],"=",a,".",e,"|0;")}var a=r.invoke(n,t),o=r.shared,s=o.isBufferArgs,u=o.buffer;Ke.optional(function(){r.assert(n,a+"&&(typeof "+a+'==="object"||typeof '+a+'==="function")&&('+s+"("+a+")||"+u+".getBuffer("+a+")||"+u+".getBuffer("+a+".buffer)||"+s+"("+a+'.buffer)||("constant" in '+a+"&&(typeof "+a+'.constant==="number"||'+o.isArrayLike+"("+a+".constant))))",'invalid dynamic attribute "'+e+'"')});var f={isStream:n.def(!1)},l=new W;l.state=jn,Object.keys(l).forEach(function(e){f[e]=n.def(""+l[e])});var c=f.buffer,p=f.type;return n("if(",s,"(",a,")){",f.isStream,"=true;",c,"=",u,".createStream(",Si,",",a,");",p,"=",c,".dtype;","}else{",c,"=",u,".getBuffer(",a,");","if(",c,"){",p,"=",c,".dtype;",'}else if("constant" in ',a,"){",f.state,"=",Cn,";","if(typeof "+a+'.constant === "number"){',f[Mn[0]],"=",a,".constant;",Mn.slice(1).map(function(e){return f[e]}).join("="),"=0;","}else{",Mn.map(function(e,t){return f[e]+"="+a+".constant.length>="+t+"?"+a+".constant["+t+"]:0;"}).join(""),"}}else{","if(",s,"(",a,".buffer)){",c,"=",u,".createStream(",Si,",",a,".buffer);","}else{",c,"=",u,".getBuffer(",a,".buffer);","}",p,'="type" in ',a,"?",o.glTypes,"[",a,".type]:",c,".dtype;",f.normalized,"=!!",a,".normalized;"),i("size"),i("offset"),i("stride"),i("divisor"),n("}}"),n.exit("if(",f.isStream,"){",u,".destroyStream(",c,");","}"),f})}),o}function S(e){var t=e.static,r=e.dynamic,n={};return Object.keys(t).forEach(function(e){var r=t[e];n[e]=_e(function(e,t){return"number"==typeof r||"boolean"==typeof r?""+r:e.link(r)})}),Object.keys(r).forEach(function(e){var t=r[e];n[e]=Ae(t,function(e,r){return e.invoke(r,t)})}),n}function E(e,t,r,n,i){function a(e){var t=f[e];t&&(c[e]=t)}var o=e.static,s=e.dynamic;Ke.optional(function(){function e(e){Object.keys(e).forEach(function(e){Ke.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',i.commandStr)})}var t=[pi,hi,mi,di,gi,vi,yi,bi,ci].concat(te);e(o),e(s)});var u=x(e,i),f=w(e,u,i),l=k(e,i),c=_(e,i),p=z(e,i);a(li),a(d(fi));var h=Object.keys(c).length>0,m={framebuffer:u,draw:l,shader:p,state:c,dirty:h};return m.profile=b(e,i),m.uniforms=A(r,i),m.attributes=T(t,i),m.context=S(n,i),m}function M(e,t,r){var n=e.shared.context,i=e.scope();Object.keys(r).forEach(function(a){t.save(n,"."+a);var o=r[a];i(n,".",a,"=",o.append(e,t),";")}),t(i)}function R(e,t,r,n){var i,a=e.shared,o=a.gl,s=a.framebuffer;Z&&(i=t.def(a.extensions,".webgl_draw_buffers"));var u,f=e.constants,l=f.drawBuffer,c=f.backBuffer;u=r?r.append(e,t):t.def(s,".next"),n||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",o,".bindFramebuffer(",ga,",",u,".framebuffer);"),Z&&t(i,".drawBuffersWEBGL(",l,"[",u,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",ga,",null);"),Z&&t(i,".drawBuffersWEBGL(",c,");"),t("}",s,".cur=",u,";"),n||t("}")}function j(e,t,r){var n=e.shared,i=n.gl,a=e.current,o=e.next,s=n.current,u=n.next,f=e.cond(s,".dirty");te.forEach(function(t){var n=d(t);if(!(n in r.state)){var l,c;if(n in o){l=o[n],c=a[n];var p=O(J[n].length,function(e){return f.def(l,"[",e,"]")});f(e.cond(p.map(function(e,t){return e+"!=="+c+"["+t+"]"}).join("||")).then(i,".",ne[n],"(",p,");",p.map(function(e,t){return c+"["+t+"]="+e}).join(";"),";"))}else{l=f.def(u,".",n);var h=e.cond(l,"!==",s,".",n);f(h),n in re?h(e.cond(l).then(i,".enable(",re[n],");").else(i,".disable(",re[n],");"),s,".",n,"=",l,";"):h(i,".",ne[n],"(",l,");",s,".",n,"=",l,";")}}}),0===Object.keys(r.state).length&&f(s,".dirty=false;"),t(f)}function C(e,t,r,n){var i=e.shared,a=e.current,o=i.current,s=i.gl;we(Object.keys(r)).forEach(function(i){var u=r[i];if(!n||n(u)){var f=u.append(e,t);if(re[i]){var l=re[i];ke(u)?f?t(s,".enable(",l,");"):t(s,".disable(",l,");"):t(e.cond(f).then(s,".enable(",l,");").else(s,".disable(",l,");")),t(o,".",i,"=",f,";")}else if(H(f)){var c=a[i];t(s,".",ne[i],"(",f,");",f.map(function(e,t){return c+"["+t+"]="+e}).join(";"),";")}else t(s,".",ne[i],"(",f,");",o,".",i,"=",f,";")}})}function D(e,t){$&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function B(e,t,r,n,i){function a(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function o(e){e(f=t.def(),"=",a(),";"),"string"==typeof i?e(m,".count+=",i,";"):e(m,".count++;"),h&&(n?e(l=t.def(),"=",g,".getNumPendingQueries();"):e(g,".beginQuery(",m,");"))}function s(e){e(m,".cpuTime+=",a(),"-",f,";"),h&&(n?e(g,".pushScopeStats(",l,",",g,".getNumPendingQueries(),",m,");"):e(g,".endQuery();"))}function u(e){var r=t.def(d,".profile");t(d,".profile=",e,";"),t.exit(d,".profile=",r,";")}var f,l,c,p=e.shared,m=e.stats,d=p.current,g=p.timer,y=r.profile;if(y){if(ke(y))return void(y.enable?(o(t),s(t.exit),u("true")):u("false"));u(c=y.append(e,t))}else c=t.def(d,".profile");var v=e.block();o(v),t("if(",c,"){",v,"}");var b=e.block();s(b),t.exit("if(",c,"){",b,"}")}function N(e,t,r,n,i){function a(e){switch(e){case qi:case Ki:case Wi:return 2;case Vi:case Yi:case Qi:return 3;case Xi:case Gi:case $i:return 4;default:return 1}}function o(r,n,i){function a(){t("if(!",l,".buffer){",u,".enableVertexAttribArray(",f,");}");var r,a=i.type;if(r=i.size?t.def(i.size,"||",n):n,t("if(",l,".type!==",a,"||",l,".size!==",r,"||",m.map(function(e){return l+"."+e+"!=="+i[e]}).join("||"),"){",u,".bindBuffer(",Si,",",p,".buffer);",u,".vertexAttribPointer(",[f,r,a,i.normalized,i.stride,i.offset],");",l,".type=",a,";",l,".size=",r,";",m.map(function(e){return l+"."+e+"="+i[e]+";"}).join(""),"}"),$){var o=i.divisor;t("if(",l,".divisor!==",o,"){",e.instancing,".vertexAttribDivisorANGLE(",[f,o],");",l,".divisor=",o,";}")}}function o(){t("if(",l,".buffer){",u,".disableVertexAttribArray(",f,");","}if(",Mn.map(function(e,t){return l+"."+e+"!=="+h[t]}).join("||"),"){",u,".vertexAttrib4f(",f,",",h,");",Mn.map(function(e,t){return l+"."+e+"="+h[t]+";"}).join(""),"}")}var u=s.gl,f=t.def(r,".location"),l=t.def(s.attributes,"[",f,"]"),c=i.state,p=i.buffer,h=[i.x,i.y,i.z,i.w],m=["buffer","normalized","offset","stride"];c===jn?a():c===Cn?o():(t("if(",c,"===",jn,"){"),a(),t("}else{"),o(),t("}"))}var s=e.shared;n.forEach(function(n){var s,u=n.name,f=r.attributes[u];if(f){if(!i(f))return;s=f.append(e,t)}else{if(!i(_a))return;var l=e.scopeAttrib(u);Ke.optional(function(){e.assert(t,l+".state","missing attribute "+u)}),s={},Object.keys(new W).forEach(function(e){s[e]=t.def(l,".",e)})}o(e.link(n),a(n.info.type),s)})}function P(e,r,n,i,a){for(var o,s=e.shared,u=s.gl,f=0;f<i.length;++f){var l,c=i[f],p=c.name,h=c.info.type,m=n.uniforms[p],d=e.link(c)+".location";if(m){if(!a(m))continue;if(ke(m)){var g=m.value;if(Ke.command(null!==g&&void 0!==g,'missing uniform "'+p+'"',e.commandStr),h===ta||h===ra){Ke.command("function"==typeof g&&(h===ta&&("texture2d"===g._reglType||"framebuffer"===g._reglType)||h===ra&&("textureCube"===g._reglType||"framebufferCube"===g._reglType)),"invalid texture for uniform "+p,e.commandStr);var y=e.link(g._texture||g.color[0]._texture);r(u,".uniform1i(",d,",",y+".bind());"),r.exit(y,".unbind();")}else if(h===Zi||h===Ji||h===ea){Ke.optional(function(){Ke.command(H(g),"invalid matrix for uniform "+p,e.commandStr),Ke.command(h===Zi&&4===g.length||h===Ji&&9===g.length||h===ea&&16===g.length,"invalid length for matrix uniform "+p,e.commandStr)});var v=e.global.def("new Float32Array(["+Array.prototype.slice.call(g)+"])"),b=2;h===Ji?b=3:h===ea&&(b=4),r(u,".uniformMatrix",b,"fv(",d,",false,",v,");")}else{switch(h){case Fi:Ke.commandType(g,"number","uniform "+p,e.commandStr),o="1f";break;case qi:Ke.command(H(g)&&2===g.length,"uniform "+p,e.commandStr),o="2f";break;case Vi:Ke.command(H(g)&&3===g.length,"uniform "+p,e.commandStr),o="3f";break;case Xi:Ke.command(H(g)&&4===g.length,"uniform "+p,e.commandStr),o="4f";break;case Hi:Ke.commandType(g,"boolean","uniform "+p,e.commandStr),o="1i";break;case Ui:Ke.commandType(g,"number","uniform "+p,e.commandStr),o="1i";break;case Wi:case Ki:Ke.command(H(g)&&2===g.length,"uniform "+p,e.commandStr),o="2i";break;case Qi:case Yi:Ke.command(H(g)&&3===g.length,"uniform "+p,e.commandStr),o="3i";break;case $i:case Gi:Ke.command(H(g)&&4===g.length,"uniform "+p,e.commandStr),o="4i"}r(u,".uniform",o,"(",d,",",H(g)?Array.prototype.slice.call(g):g,");")}continue}l=m.append(e,r)}else{if(!a(_a))continue;l=r.def(s.uniforms,"[",t.id(p),"]")}h===ta?r("if(",l,"&&",l,'._reglType==="framebuffer"){',l,"=",l,".color[0];","}"):h===ra&&r("if(",l,"&&",l,'._reglType==="framebufferCube"){',l,"=",l,".color[0];","}"),Ke.optional(function(){function t(t,n){e.assert(r,t,'bad data or missing for uniform "'+p+'".  '+n)}function n(e){t("typeof "+l+'==="'+e+'"',"invalid type, expected "+e)}function i(r,n){t(s.isArrayLike+"("+l+")&&"+l+".length==="+r,"invalid vector, should have length "+r,e.commandStr)}function a(r){t("typeof "+l+'==="function"&&'+l+'._reglType==="texture'+(r===Mi?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(h){case Ui:n("number");break;case Ki:i(2);break;case Yi:i(3);break;case Gi:i(4);break;case Fi:n("number");break;case qi:i(2);break;case Vi:i(3);break;case Xi:i(4);break;case Hi:n("boolean");break;case Wi:i(2);break;case Qi:i(3);break;case $i:case Zi:i(4);break;case Ji:i(9);break;case ea:i(16);break;case ta:a(Mi);break;case ra:a(Ri)}});var x=1;switch(h){case ta:case ra:var w=r.def(l,"._texture");r(u,".uniform1i(",d,",",w,".bind());"),r.exit(w,".unbind();");continue;case Ui:case Hi:o="1i";break;case Ki:case Wi:o="2i",x=2;break;case Yi:case Qi:o="3i",x=3;break;case Gi:case $i:o="4i",x=4;break;case Fi:o="1f";break;case qi:o="2f",x=2;break;case Vi:o="3f",x=3;break;case Xi:o="4f",x=4;break;case Zi:o="Matrix2fv";break;case Ji:o="Matrix3fv";break;case ea:o="Matrix4fv"}if(r(u,".uniform",o,"(",d,","),"M"===o.charAt(0)){var z=Math.pow(h-Zi+2,2),k=e.global.def("new Float32Array(",z,")");r("false,(Array.isArray(",l,")||",l," instanceof Float32Array)?",l,":(",O(z,function(e){return k+"["+e+"]="+l+"["+e+"]"}),",",k,")")}else r(x>1?O(x,function(e){return l+"["+e+"]"}):l);r(");")}}function I(e,t,r,n){function i(i){var a=l[i];return a?a.contextDep&&n.contextDynamic||a.propDep?a.append(e,r):a.append(e,t):t.def(f,".",i)}function a(){function e(){r(g,".drawElementsInstancedANGLE(",[p,m,y,h+"<<(("+y+"-"+Rn+")>>1)",d],");")}function t(){r(g,".drawArraysInstancedANGLE(",[p,h,m,d],");")}c?v?e():(r("if(",c,"){"),e(),r("}else{"),t(),r("}")):t()}function o(){function e(){r(u+".drawElements("+[p,m,y,h+"<<(("+y+"-"+Rn+")>>1)"]+");")}function t(){r(u+".drawArrays("+[p,h,m]+");")}c?v?e():(r("if(",c,"){"),e(),r("}else{"),t(),r("}")):t()}var s=e.shared,u=s.gl,f=s.draw,l=n.draw,c=function(){var i,a=l.elements,o=t;return a?((a.contextDep&&n.contextDynamic||a.propDep)&&(o=r),i=a.append(e,o)):i=o.def(f,".",di),i&&o("if("+i+")"+u+".bindBuffer("+Ei+","+i+".buffer.buffer);"),i}(),p=i(gi),h=i(vi),m=function(){var i,a=l.count,o=t;return a?((a.contextDep&&n.contextDynamic||a.propDep)&&(o=r),i=a.append(e,o),Ke.optional(function(){a.MISSING&&e.assert(t,"false","missing vertex count"),a.DYNAMIC&&e.assert(o,i+">=0","missing vertex count")})):(i=o.def(f,".",yi),Ke.optional(function(){e.assert(o,i+">=0","missing vertex count")})),i}();if("number"==typeof m){if(0===m)return}else r("if(",m,"){"),r.exit("}");var d,g;$&&(d=i(bi),g=e.instancing);var y=c+".type",v=l.elements&&ke(l.elements);$&&("number"!=typeof d||d>=0)?"string"==typeof d?(r("if(",d,">0){"),a(),r("}else if(",d,"<0){"),o(),r("}")):a():o()}function L(e,t,r,n,i){var a=v(),o=a.proc("body",i);return Ke.optional(function(){a.commandStr=t.commandStr,a.command=a.link(t.commandStr)}),$&&(a.instancing=o.def(a.shared.extensions,".angle_instanced_arrays")),e(a,o,r,n),a.compile().body}function F(e,t,r,n){D(e,t),N(e,t,r,n.attributes,function(){return!0}),P(e,t,r,n.uniforms,function(){return!0}),I(e,t,t,r)}function q(e,t){var r=e.proc("draw",1);D(e,r),M(e,r,t.context),R(e,r,t.framebuffer),j(e,r,t),C(e,r,t.state),B(e,r,t,!1,!0);var n=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",n,".program);"),t.shader.program)F(e,r,t,t.shader.program);else{var i=e.global.def("{}"),a=r.def(n,".id"),o=r.def(i,"[",a,"]");r(e.cond(o).then(o,".call(this,a0);").else(o,"=",i,"[",a,"]=",e.link(function(r){return L(F,e,t,r,1)}),"(",n,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}function V(e,t,r,n){function i(){return!0}e.batchId="a1",D(e,t),N(e,t,r,n.attributes,i),P(e,t,r,n.uniforms,i),I(e,t,t,r)}function X(e,t,r,n){function i(e){return e.contextDep&&o||e.propDep}function a(e){return!i(e)}D(e,t);var o=r.contextDep,s=t.def(),u=t.def();e.shared.props=u,e.batchId=s;var f=e.scope(),l=e.scope();if(t(f.entry,"for(",s,"=0;",s,"<","a1",";++",s,"){",u,"=","a0","[",s,"];",l,"}",f.exit),r.needsContext&&M(e,l,r.context),r.needsFramebuffer&&R(e,l,r.framebuffer),C(e,l,r.state,i),r.profile&&i(r.profile)&&B(e,l,r,!1,!0),n)N(e,f,r,n.attributes,a),N(e,l,r,n.attributes,i),P(e,f,r,n.uniforms,a),P(e,l,r,n.uniforms,i),I(e,f,l,r);else{var c=e.global.def("{}"),p=r.shader.progVar.append(e,l),h=l.def(p,".id"),m=l.def(c,"[",h,"]");l(e.shared.gl,".useProgram(",p,".program);","if(!",m,"){",m,"=",c,"[",h,"]=",e.link(function(t){return L(V,e,r,t,2)}),"(",p,");}",m,".call(this,a0[",s,"],",s,");")}}function U(e,t){function r(e){return e.contextDep&&i||e.propDep}var n=e.proc("batch",2);e.batchId="0",D(e,n);var i=!1,a=!0;Object.keys(t.context).forEach(function(e){i=i||t.context[e].propDep}),i||(M(e,n,t.context),a=!1);var o=t.framebuffer,s=!1;o?(o.propDep?i=s=!0:o.contextDep&&i&&(s=!0),s||R(e,n,o)):R(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(i=!0),j(e,n,t),C(e,n,t.state,function(e){return!r(e)}),t.profile&&r(t.profile)||B(e,n,t,!1,"a1"),t.contextDep=i,t.needsContext=a,t.needsFramebuffer=s;var u=t.shader.progVar;if(u.contextDep&&i||u.propDep)X(e,n,t,null);else{var f=u.append(e,n);if(n(e.shared.gl,".useProgram(",f,".program);"),t.shader.program)X(e,n,t,t.shader.program);else{var l=e.global.def("{}"),c=n.def(f,".id"),p=n.def(l,"[",c,"]");n(e.cond(p).then(p,".call(this,a0,a1);").else(p,"=",l,"[",c,"]=",e.link(function(r){return L(X,e,t,r,2)}),"(",f,");",p,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function K(e,r){function n(t){var n=r.shader[t];n&&i.set(a.shader,"."+t,n.append(e,i))}var i=e.proc("scope",3);e.batchId="a2";var a=e.shared,o=a.current;M(e,i,r.context),r.framebuffer&&r.framebuffer.append(e,i),we(Object.keys(r.state)).forEach(function(t){var n=r.state[t].append(e,i);H(n)?n.forEach(function(r,n){i.set(e.next[t],"["+n+"]",r)}):i.set(a.next,"."+t,n)}),B(e,i,r,!0,!0),[di,vi,yi,bi,gi].forEach(function(t){var n=r.draw[t];n&&i.set(a.draw,"."+t,""+n.append(e,i))}),Object.keys(r.uniforms).forEach(function(n){i.set(a.uniforms,"["+t.id(n)+"]",r.uniforms[n].append(e,i))}),Object.keys(r.attributes).forEach(function(t){var n=r.attributes[t].append(e,i),a=e.scopeAttrib(t);Object.keys(new W).forEach(function(e){i.set(a,"."+e,n[e])})}),n(hi),n(mi),Object.keys(r.state).length>0&&(i(o,".dirty=true;"),i.exit(o,".dirty=true;")),i("a1(",e.shared.context,",a0,",e.batchId,");")}function Y(e){if("object"==typeof e&&!H(e)){for(var t=Object.keys(e),r=0;r<t.length;++r)if(He.isDynamic(e[t[r]]))return!0;return!1}}function G(e,t,r){var n=t.static[r];if(n&&Y(n)){var i=e.global,a=Object.keys(n),o=!1,s=!1,u=!1,f=e.global.def("{}");a.forEach(function(t){var r=n[t];if(He.isDynamic(r)){"function"==typeof r&&(r=n[t]=He.unbox(r));var a=Ae(r,null);o=o||a.thisDep,u=u||a.propDep,s=s||a.contextDep}else{switch(i(f,".",t,"="),typeof r){case"number":i(r);break;case"string":i('"',r,'"');break;case"object":Array.isArray(r)&&i("[",r.join(),"]");break;default:i(e.link(r))}i(";")}}),t.dynamic[r]=new He.DynamicVariable(Pn,{thisDep:o,contextDep:s,propDep:u,ref:f,append:function(e,t){a.forEach(function(r){var i=n[r];if(He.isDynamic(i)){var a=e.invoke(t,i);t(f,".",r,"=",a,";")}})}}),delete t.static[r]}}var W=f.Record,Q={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(Q.min=ua,Q.max=fa);var $=r.angle_instanced_arrays,Z=r.webgl_draw_buffers,J={dirty:!0,profile:m.profile},ee={},te=[],re={},ne={};g(In,Oi),g(Ln,Ci),y(Fn,"blendColor",[0,0,0,0]),y(qn,"blendEquationSeparate",[ma,ma]),y(Vn,"blendFuncSeparate",[ha,pa,ha,pa]),g(Xn,Bi,!0),y(Un,"depthFunc",da),y(Kn,"depthRange",[0,1]),y(Yn,"depthMask",!0),y(Gn,Gn,[!0,!0,!0,!0]),g(Hn,ji),y(Wn,"cullFace",aa),y(Qn,Qn,sa),y($n,$n,1),g(Zn,Pi),y(Jn,"polygonOffset",[0,0]),g(ei,Ii),g(ti,Li),y(ri,"sampleCoverage",[1,!1]),g(ni,Di),y(ii,"stencilMask",-1),y(ai,"stencilFunc",[la,0,-1]),y(oi,"stencilOpSeparate",[ia,ca,ca,ca]),y(si,"stencilOpSeparate",[aa,ca,ca,ca]),g(ui,Ni),y(fi,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),y(li,li,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var ie={gl:e,context:p,strings:t,next:ee,current:J,draw:c,elements:a,buffer:i,shader:l,attributes:f.state,uniforms:u,framebuffer:s,extensions:r,timer:h,isBufferArgs:xe},ae={primTypes:vt,compareFuncs:xa,blendFuncs:va,blendEquations:Q,stencilOps:wa,glTypes:ft,orientationType:ka};Ke.optional(function(){ie.isArrayLike=H}),Z&&(ae.backBuffer=[aa],ae.drawBuffer=O(n.maxDrawbuffers,function(e){return 0===e?[0]:O(e,function(e){return ya+e})}));var oe=0;return{next:ee,current:J,procs:function(){var t=v(),r=t.proc("poll"),i=t.proc("refresh"),a=t.block();r(a),i(a);var o=t.shared,s=o.gl,u=o.next,f=o.current;a(f,".dirty=false;"),R(t,r),R(t,i,null,!0);var l,c=e.getExtension("angle_instanced_arrays");c&&(l=t.link(c));for(var p=0;p<n.maxAttributes;++p){var h=i.def(o.attributes,"[",p,"]"),m=t.cond(h,".buffer");m.then(s,".enableVertexAttribArray(",p,");",s,".bindBuffer(",Si,",",h,".buffer.buffer);",s,".vertexAttribPointer(",p,",",h,".size,",h,".type,",h,".normalized,",h,".stride,",h,".offset);").else(s,".disableVertexAttribArray(",p,");",s,".vertexAttrib4f(",p,",",h,".x,",h,".y,",h,".z,",h,".w);",h,".buffer=null;"),i(m),c&&i(l,".vertexAttribDivisorANGLE(",p,",",h,".divisor);")}return Object.keys(re).forEach(function(e){var n=re[e],o=a.def(u,".",e),l=t.block();l("if(",o,"){",s,".enable(",n,")}else{",s,".disable(",n,")}",f,".",e,"=",o,";"),i(l),r("if(",o,"!==",f,".",e,"){",l,"}")}),Object.keys(ne).forEach(function(e){var n,o,l=ne[e],c=J[e],p=t.block();if(p(s,".",l,"("),H(c)){var h=c.length;n=t.global.def(u,".",e),o=t.global.def(f,".",e),p(O(h,function(e){return n+"["+e+"]"}),");",O(h,function(e){return o+"["+e+"]="+n+"["+e+"];"}).join("")),r("if(",O(h,function(e){return n+"["+e+"]!=="+o+"["+e+"]"}).join("||"),"){",p,"}")}else n=a.def(u,".",e),o=a.def(f,".",e),p(n,");",f,".",e,"=",n,";"),r("if(",n,"!==",o,"){",p,"}");i(p)}),t.compile()}(),compile:function(e,t,r,n,i){var a=v();a.stats=a.link(i),Object.keys(t.static).forEach(function(e){G(a,t,e)}),Ti.forEach(function(t){G(a,e,t)});var o=E(e,t,r,n,a);return q(a,o),K(a,o),U(a,o),a.compile()}}}function Se(){return{bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}function Ee(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}var Me={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Re=function(e){return Object.prototype.toString.call(e)in Me},je=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;++n)e[r[n]]=t[r[n]];return e},Ce=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"],Oe=33071,De=9728,Be=9984,Ne=9985,Pe=9986,Ie=9987,Le=5126,Fe=32819,qe=32820,Ve=33635,Xe=34042,Ue={};Ue[5120]=Ue[5121]=1,Ue[5122]=Ue[5123]=Ue[36193]=Ue[Ve]=Ue[Fe]=Ue[qe]=2,Ue[5124]=Ue[5125]=Ue[Le]=Ue[Xe]=4;var Ke=je(r,{optional:function(e){e()},raise:t,commandRaise:d,command:function(e,t,r){e||d(t,r||f())},parameter:function(e,r,i){e in r||t("unknown parameter ("+e+")"+n(i)+". possible values: "+Object.keys(r).join())},commandParameter:function(e,t,r,i){e in t||d("unknown parameter ("+e+")"+n(r)+". possible values: "+Object.keys(t).join(),i||f())},constructor:function(e){Object.keys(e).forEach(function(e){Ce.indexOf(e)<0&&t('invalid regl constructor argument "'+e+'". must be one of '+Ce)})},type:function(e,r,i){typeof e!==r&&t("invalid parameter type"+n(i)+". expected "+r+", got "+typeof e)},commandType:g,isTypedArray:function(e,r){Re(e)||t("invalid parameter type"+n(r)+". must be a typed array")},nni:function(e,r){e>=0&&(0|e)===e||t("invalid parameter type, ("+e+")"+n(r)+". must be a nonnegative integer")},oneOf:i,shaderError:function(e,t,n,i,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";g(n,"string",u+" shader source must be a string",o);var f=c(n,o),l=p(s);h(f,l),Object.keys(f).forEach(function(e){function t(e,t){n.push(e),i.push(t||"")}var r=f[e];if(r.hasErrors){var n=[""],i=[""];t("file number "+e+": "+r.name+"\n","color:red;text-decoration:underline;font-weight:bold"),r.lines.forEach(function(e){if(e.errors.length>0){t(a(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),t(e.line+"\n","color:red; background-color:yellow; font-weight:bold");var r=0;e.errors.forEach(function(n){var i=n.message,o=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(i);if(o){var s=o[1];switch(i=o[2],s){case"assign":s="="}r=Math.max(e.line.indexOf(s,r),0)}else r=0;t(a("| ",6)),t(a("^^^",r+3)+"\n","font-weight:bold"),t(a("| ",6)),t(i+"\n","font-weight:bold")}),t(a("| ",6)+"\n")}else t(a(e.number,4)+"|  "),t(e.line+"\n","color:red")}),"undefined"!=typeof document?(i[0]=n.join("%c"),console.log.apply(console,i)):console.log(n.join(""))}}),r.raise("Error compiling "+u+" shader, "+f[0].name)}},linkError:function(e,t,n,i,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var o=e.getProgramInfoLog(t),s=c(n,a),u='Error linking program with vertex shader, "'+c(i,a)[0].name+'", and fragment shader "'+s[0].name+'"';"undefined"!=typeof document?console.log("%c"+u+"\n%c"+o,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(u+"\n"+o),r.raise(u)}},callSite:l,saveCommandRef:m,saveDrawInfo:function(e,t,r,n){function i(e){return e?n.id(e):0}function a(e,t){Object.keys(t).forEach(function(t){e[n.id(t)]=!0})}m(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var o=e._uniformSet={};a(o,t.static),a(o,t.dynamic);var s=e._attributeSet={};a(s,r.static),a(s,r.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic},framebufferFormat:function(e,t,r){e.texture?i(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):i(e.renderbuffer._renderbuffer.format,r,"unsupported renderbuffer format for attachment")},guessCommand:f,texture2D:function(e,t,n){var i,a=t.width,o=t.height,s=t.channels;r(a>0&&a<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),e.wrapS===Oe&&e.wrapT===Oe||r(v(a)&&v(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==a&&1!==o&&r(e.minFilter!==Be&&e.minFilter!==Pe&&e.minFilter!==Ne&&e.minFilter!==Ie,"min filter requires mipmap"):(r(v(a)&&v(o),"texture must be a square power of 2 to support mipmapping"),r(t.mipmask===(a<<1)-1,"missing or incomplete mipmap data")),t.type===Le&&(n.extensions.indexOf("oes_texture_float_linear")<0&&r(e.minFilter===De&&e.magFilter===De,"filter not supported, must enable oes_texture_float_linear"),r(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(i=0;i<16;++i)if(u[i]){var f=a>>i,l=o>>i;r(t.mipmask&1<<i,"missing mipmap data");var c=u[i];if(r(c.width===f&&c.height===l,"invalid shape for mip images"),r(c.format===t.format&&c.internalformat===t.internalformat&&c.type===t.type,"incompatible type for mip image"),c.compressed);else if(c.data){var p=Math.ceil(y(c.type,s)*f/c.unpackAlignment)*c.unpackAlignment;r(c.data.byteLength===p*l,"invalid data for image, buffer size is inconsistent with image format")}else c.element||c.copy}else e.genMipmaps||r(0==(t.mipmask&1<<i),"extra mipmap data");t.compressed&&r(!e.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(e,t,n,i){var a=e.width,o=e.height,s=e.channels;r(a>0&&a<=i.maxTextureSize&&o>0&&o<=i.maxTextureSize,"invalid texture shape"),r(a===o,"cube map must be square"),r(t.wrapS===Oe&&t.wrapT===Oe,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var f=n[u];r(f.width===a&&f.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(r(!f.compressed,"can not generate mipmap for compressed textures"),r(1===f.mipmask,"can not specify mipmaps and generate mipmaps"));for(var l=f.images,c=0;c<16;++c){var p=l[c];if(p){var h=a>>c,m=o>>c;r(f.mipmask&1<<c,"missing mipmap data"),r(p.width===h&&p.height===m,"invalid shape for mip images"),r(p.format===e.format&&p.internalformat===e.internalformat&&p.type===e.type,"incompatible type for mip image"),p.compressed||(p.data?r(p.data.byteLength===h*m*Math.max(y(p.type,s),p.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):p.element||p.copy)}}}}}),Ye=0,Ge=0,He={DynamicVariable:b,define:function(e,t){return new b(e,z(t+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof b},unbox:function(e,t){return"function"==typeof e?new b(Ge,e):e},accessor:z},We={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},Qe="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},$e=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(34047));var n=1,i=1;return t.webgl_draw_buffers&&(n=e.getParameter(34852),i=e.getParameter(36063)),{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:i,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938)}},Ze=function(e){return Object.keys(e).map(function(t){return e[t]})},Je=5120,et=5121,tt=5122,rt=5123,nt=5124,it=5125,at=5126,ot=O(8,function(){return[]}),st={alloc:N,free:P,allocType:function(e,t){var r=null;switch(e){case Je:r=new Int8Array(N(t),0,t);break;case et:r=new Uint8Array(N(t),0,t);break;case tt:r=new Int16Array(N(2*t),0,t);break;case rt:r=new Uint16Array(N(2*t),0,t);break;case nt:r=new Int32Array(N(4*t),0,t);break;case it:r=new Uint32Array(N(4*t),0,t);break;case at:r=new Float32Array(N(4*t),0,t);break;default:return null}return r.length!==t?r.subarray(0,t):r},freeType:function(e){P(e.buffer)}},ut={shape:function(e){for(var t=[],r=e;r.length;r=r[0])t.push(r.length);return t},flatten:function(e,t,r,n){var i=1;if(t.length)for(var a=0;a<t.length;++a)i*=t[a];else i=0;var o=n||st.allocType(r,i);switch(t.length){case 0:break;case 1:I(e,t[0],o);break;case 2:L(e,t[0],t[1],o);break;case 3:F(e,t[0],t[1],t[2],o,0);break;default:q(e,t,0,o,0)}return o}},ft={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},lt={dynamic:35048,stream:35040,static:35044},ct=ut.flatten,pt=ut.shape,ht=35044,mt=35040,dt=5121,gt=5126,yt=[];yt[5120]=1,yt[5122]=2,yt[5124]=4,yt[5121]=1,yt[5123]=2,yt[5125]=4,yt[5126]=4;var vt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},bt=0,xt=1,wt=4,zt=5120,kt=5121,_t=5122,At=5123,Tt=5124,St=5125,Et=34963,Mt=35040,Rt=35044,jt=new Float32Array(1),Ct=new Uint32Array(jt.buffer),Ot=5123,Dt=34467,Bt=3553,Nt=34067,Pt=34069,It=6408,Lt=6406,Ft=6407,qt=6409,Vt=6410,Xt=32854,Ut=32855,Kt=36194,Yt=32819,Gt=32820,Ht=33635,Wt=34042,Qt=6402,$t=34041,Zt=35904,Jt=35906,er=36193,tr=33776,rr=33777,nr=33778,ir=33779,ar=35986,or=35987,sr=34798,ur=35840,fr=35841,lr=35842,cr=35843,pr=36196,hr=5121,mr=5123,dr=5125,gr=5126,yr=10242,vr=10243,br=10497,xr=33071,wr=33648,zr=10240,kr=10241,_r=9728,Ar=9729,Tr=9984,Sr=9985,Er=9986,Mr=9987,Rr=33170,jr=4352,Cr=4353,Or=4354,Dr=34046,Br=3317,Nr=37440,Pr=37441,Ir=37443,Lr=37444,Fr=33984,qr=[Tr,Er,Sr,Mr],Vr=[0,qt,Vt,Ft,It],Xr={};Xr[qt]=Xr[Lt]=Xr[Qt]=1,Xr[$t]=Xr[Vt]=2,Xr[Ft]=Xr[Zt]=3,Xr[It]=Xr[Jt]=4;var Ur=W("HTMLCanvasElement"),Kr=W("CanvasRenderingContext2D"),Yr=W("HTMLImageElement"),Gr=W("HTMLVideoElement"),Hr=Object.keys(Me).concat([Ur,Kr,Yr,Gr]),Wr=[];Wr[hr]=1,Wr[gr]=4,Wr[er]=2,Wr[mr]=2,Wr[dr]=4;var Qr=[];Qr[Xt]=2,Qr[Ut]=2,Qr[Kt]=2,Qr[$t]=4,Qr[tr]=.5,Qr[rr]=.5,Qr[nr]=1,Qr[ir]=1,Qr[ar]=.5,Qr[or]=1,Qr[sr]=1,Qr[ur]=.5,Qr[fr]=.25,Qr[lr]=.5,Qr[cr]=.25,Qr[pr]=.5;var $r=36161,Zr=32854,Jr=[];Jr[Zr]=2,Jr[32855]=2,Jr[36194]=2,Jr[33189]=2,Jr[36168]=1,Jr[34041]=4,Jr[35907]=4,Jr[34836]=16,Jr[34842]=8,Jr[34843]=6;var en=function(e,t,r,n,i){function a(e){this.id=f++,this.refCount=1,this.renderbuffer=e,this.format=Zr,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function o(t){var r=t.renderbuffer;Ke(r,"must not double destroy renderbuffer"),e.bindRenderbuffer($r,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete l[t.id],n.renderbufferCount--}var s={rgba4:Zr,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(s.srgba=35907),t.ext_color_buffer_half_float&&(s.rgba16f=34842,s.rgb16f=34843),t.webgl_color_buffer_float&&(s.rgba32f=34836);var u=[];Object.keys(s).forEach(function(e){var t=s[e];u[t]=e});var f=0,l={};return a.prototype.decRef=function(){--this.refCount<=0&&o(this)},i.profile&&(n.getTotalRenderbufferSize=function(){var e=0;return Object.keys(l).forEach(function(t){e+=l[t].stats.size}),e}),{create:function(t,o){function f(t,n){var a=0,o=0,l=Zr;if("object"==typeof t&&t){var p=t;if("shape"in p){var h=p.shape;Ke(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),a=0|h[0],o=0|h[1]}else"radius"in p&&(a=o=0|p.radius),"width"in p&&(a=0|p.width),"height"in p&&(o=0|p.height);"format"in p&&(Ke.parameter(p.format,s,"invalid renderbuffer format"),l=s[p.format])}else"number"==typeof t?(a=0|t,o="number"==typeof n?0|n:a):t?Ke.raise("invalid arguments to renderbuffer constructor"):a=o=1;if(Ke(a>0&&o>0&&a<=r.maxRenderbufferSize&&o<=r.maxRenderbufferSize,"invalid renderbuffer size"),a!==c.width||o!==c.height||l!==c.format)return f.width=c.width=a,f.height=c.height=o,c.format=l,e.bindRenderbuffer($r,c.renderbuffer),e.renderbufferStorage($r,l,a,o),i.profile&&(c.stats.size=ce(c.format,c.width,c.height)),f.format=u[c.format],f}var c=new a(e.createRenderbuffer());return l[c.id]=c,n.renderbufferCount++,f(t,o),f.resize=function(t,n){var a=0|t,o=0|n||a;return a===c.width&&o===c.height?f:(Ke(a>0&&o>0&&a<=r.maxRenderbufferSize&&o<=r.maxRenderbufferSize,"invalid renderbuffer size"),f.width=c.width=a,f.height=c.height=o,e.bindRenderbuffer($r,c.renderbuffer),e.renderbufferStorage($r,c.format,a,o),i.profile&&(c.stats.size=ce(c.format,c.width,c.height)),f)},f._reglType="renderbuffer",f._renderbuffer=c,i.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f},clear:function(){Ze(l).forEach(o)},restore:function(){Ze(l).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer($r,t.renderbuffer),e.renderbufferStorage($r,t.format,t.width,t.height)}),e.bindRenderbuffer($r,null)}}},tn=36160,rn=36161,nn=3553,an=34069,on=36064,sn=36096,un=36128,fn=33306,ln=36053,cn=6402,pn=[6408],hn=[];hn[6408]=4;var mn=[];mn[5121]=1,mn[5126]=4,mn[36193]=2;var dn=33189,gn=36168,yn=34041,vn=[32854,32855,36194,35907,34842,34843,34836],bn={};bn[ln]="complete",bn[36054]="incomplete attachment",bn[36057]="incomplete dimensions",bn[36055]="incomplete, missing attachment",bn[36061]="unsupported";var xn=5126,wn=35632,zn=35633,kn=35718,_n=35721,An=6408,Tn=5121,Sn=3333,En=5126,Mn="xyzw".split(""),Rn=5121,jn=1,Cn=2,On=0,Dn=1,Bn=2,Nn=3,Pn=4,In="dither",Ln="blend.enable",Fn="blend.color",qn="blend.equation",Vn="blend.func",Xn="depth.enable",Un="depth.func",Kn="depth.range",Yn="depth.mask",Gn="colorMask",Hn="cull.enable",Wn="cull.face",Qn="frontFace",$n="lineWidth",Zn="polygonOffset.enable",Jn="polygonOffset.offset",ei="sample.alpha",ti="sample.enable",ri="sample.coverage",ni="stencil.enable",ii="stencil.mask",ai="stencil.func",oi="stencil.opFront",si="stencil.opBack",ui="scissor.enable",fi="scissor.box",li="viewport",ci="profile",pi="framebuffer",hi="vert",mi="frag",di="elements",gi="primitive",yi="count",vi="offset",bi="instances",xi=pi+"Width",wi=pi+"Height",zi=li+"Width",ki=li+"Height",_i="drawingBufferWidth",Ai="drawingBufferHeight",Ti=[Vn,qn,ai,oi,si,ri,li,fi,Jn],Si=34962,Ei=34963,Mi=3553,Ri=34067,ji=2884,Ci=3042,Oi=3024,Di=2960,Bi=2929,Ni=3089,Pi=32823,Ii=32926,Li=32928,Fi=5126,qi=35664,Vi=35665,Xi=35666,Ui=5124,Ki=35667,Yi=35668,Gi=35669,Hi=35670,Wi=35671,Qi=35672,$i=35673,Zi=35674,Ji=35675,ea=35676,ta=35678,ra=35680,na=4,ia=1028,aa=1029,oa=2304,sa=2305,ua=32775,fa=32776,la=519,ca=7680,pa=0,ha=1,ma=32774,da=513,ga=36160,ya=36064,va={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ba=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],xa={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},wa={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},za={frag:35632,vert:35633},ka={cw:oa,ccw:sa},_a=new ze(!1,!1,!1,function(){}),Aa=34918,Ta=34919,Sa=35007,Ea=function(e,t){function r(){return f.pop()||u.createQueryEXT()}function n(e){f.push(e)}function i(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}function a(){return c.pop()||new i}function o(e){c.push(e)}function s(e,t,r){var n=a();n.startQueryIndex=e,n.endQueryIndex=t,n.sum=0,n.stats=r,p.push(n)}var u=t.ext_disjoint_timer_query;if(!u)return null;var f=[],l=[],c=[],p=[],h=[],m=[];return{beginQuery:function(e){var t=r();u.beginQueryEXT(Sa,t),l.push(t),s(l.length-1,l.length,e)},endQuery:function(){u.endQueryEXT(Sa)},pushScopeStats:s,update:function(){var e,t,r=l.length;if(0!==r){m.length=Math.max(m.length,r+1),h.length=Math.max(h.length,r+1),h[0]=0,m[0]=0;var i=0;for(e=0,t=0;t<l.length;++t){var a=l[t];u.getQueryObjectEXT(a,Ta)?(i+=u.getQueryObjectEXT(a,Aa),n(a)):l[e++]=a,h[t+1]=i,m[t+1]=e}for(l.length=e,e=0,t=0;t<p.length;++t){var s=p[t],f=s.startQueryIndex,c=s.endQueryIndex;s.sum+=h[c]-h[f];var d=m[f],g=m[c];g===d?(s.stats.gpuTime+=s.sum/1e6,o(s)):(s.startQueryIndex=d,s.endQueryIndex=g,p[e++]=s)}p.length=e}},getNumPendingQueries:function(){return l.length},clear:function(){f.push.apply(f,l);for(var e=0;e<f.length;e++)u.deleteQueryEXT(f[e]);l.length=0,f.length=0},restore:function(){l.length=0,f.length=0}}},Ma=16384,Ra=256,ja=1024,Ca=34962,Oa="webglcontextlost",Da="webglcontextrestored",Ba=1,Na=2,Pa=3;return function(e){function t(){if(0===q.length)return w&&w.update(),void(G=null);G=We.next(t),l();for(var e=q.length-1;e>=0;--e){var r=q[e];r&&r(T,null,0)}m.flush(),w&&w.update()}function r(){!G&&q.length>0&&(G=We.next(t))}function n(){G&&(We.cancel(t),G=null)}function i(e){e.preventDefault(),g=!0,n(),V.forEach(function(e){e()})}function a(e){m.getError(),g=!1,y.restore(),O.restore(),E.restore(),D.restore(),B.restore(),N.restore(),w&&w.restore(),P.procs.refresh(),r(),X.forEach(function(e){e()})}function o(e){function t(e){var t={},r={};return Object.keys(e).forEach(function(n){var i=e[n];He.isDynamic(i)?r[n]=He.unbox(i,n):t[n]=i}),{dynamic:r,static:t}}function r(e){for(;p.length<e;)p.push(null);return p}Ke(!!e,"invalid args to regl({...})"),Ke.type(e,"object","invalid args to regl({...})");var n=t(e.context||{}),i=t(e.uniforms||{}),a=t(e.attributes||{}),o=t(function(e){function t(e){if(e in r){var t=r[e];delete r[e],Object.keys(t).forEach(function(n){r[e+"."+n]=t[n]})}}var r=je({},e);return delete r.uniforms,delete r.attributes,delete r.context,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),t("blend"),t("depth"),t("cull"),t("stencil"),t("polygonOffset"),t("scissor"),t("sample"),r}(e)),s={gpuTime:0,cpuTime:0,count:0},u=P.compile(o,a,i,n,s),f=u.draw,l=u.batch,c=u.scope,p=[];return je(function(e,t){var n;if(g&&Ke.raise("context lost"),"function"==typeof e)return c.call(this,null,e,0);if("function"==typeof t){if("number"==typeof e){for(n=0;n<e;++n)c.call(this,null,t,n);return}if(Array.isArray(e)){for(n=0;n<e.length;++n)c.call(this,e[n],t,n);return}return c.call(this,e,t,0)}if("number"==typeof e){if(e>0)return l.call(this,r(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return l.call(this,e,e.length)}},{stats:s})}function s(e,t){var r=0;P.procs.poll();var n=t.color;n&&(m.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=Ma),"depth"in t&&(m.clearDepth(+t.depth),r|=Ra),"stencil"in t&&(m.clearStencil(0|t.stencil),r|=ja),Ke(!!r,"called regl.clear with no buffer specified"),m.clear(r)}function u(e){return Ke.type(e,"function","regl.frame() callback must be a function"),q.push(e),r(),{cancel:function(){function t(){var e=Ee(q,t);q[e]=q[q.length-1],q.length-=1,q.length<=0&&n()}var r=Ee(q,e);Ke(r>=0,"cannot cancel a frame twice"),q[r]=t}}}function f(){var e=L.viewport,t=L.scissor_box;e[0]=e[1]=t[0]=t[1]=0,T.viewportWidth=T.framebufferWidth=T.drawingBufferWidth=e[2]=t[2]=m.drawingBufferWidth,T.viewportHeight=T.framebufferHeight=T.drawingBufferHeight=e[3]=t[3]=m.drawingBufferHeight}function l(){T.tick+=1,T.time=p(),f(),P.procs.poll()}function c(){f(),P.procs.refresh(),w&&w.update()}function p(){return(Qe()-z)/1e3}var h=R(e);if(!h)return null;var m=h.gl,d=m.getContextAttributes(),g=m.isContextLost(),y=j(m,h);if(!y)return null;var v=k(),b=Se(),x=y.extensions,w=Ea(m,x),z=Qe(),_=m.drawingBufferWidth,A=m.drawingBufferHeight,T={tick:0,time:0,viewportWidth:_,viewportHeight:A,framebufferWidth:_,framebufferHeight:A,drawingBufferWidth:_,drawingBufferHeight:A,pixelRatio:h.pixelRatio},S=$e(m,x),E=K(m,b,h),M=Y(m,x,E,b),C=me(m,x,S,E,v),O=de(m,v,b,h),D=le(m,x,S,function(){P.procs.poll()},T,b,h),B=en(m,x,S,b,h),N=pe(m,x,S,D,B,b),P=Te(m,v,x,S,E,M,D,N,{},C,O,{elements:null,primitive:4,count:-1,offset:0,instances:-1},T,w,h),I=ge(m,N,P.procs.poll,T,d,x),L=P.next,F=m.canvas,q=[],V=[],X=[],U=[h.onDestroy],G=null;F&&(F.addEventListener(Oa,i,!1),F.addEventListener(Da,a,!1));var H=N.setFBO=o({framebuffer:He.define.call(null,Ba,"framebuffer")});c();var W=je(o,{clear:function(e){if(Ke("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var t=0;t<6;++t)H(je({framebuffer:e.framebuffer.faces[t]},e),s);else H(e,s);else s(null,e)},prop:He.define.bind(null,Ba),context:He.define.bind(null,Na),this:He.define.bind(null,Pa),draw:o({}),buffer:function(e){return E.create(e,Ca,!1,!1)},elements:function(e){return M.create(e,!1)},texture:D.create2D,cube:D.createCube,renderbuffer:B.create,framebuffer:N.create,framebufferCube:N.createCube,attributes:d,frame:u,on:function(e,t){Ke.type(t,"function","listener callback must be a function");var r;switch(e){case"frame":return u(t);case"lost":r=V;break;case"restore":r=X;break;case"destroy":r=U;break;default:Ke.raise("invalid event, must be one of frame,lost,restore,destroy")}return r.push(t),{cancel:function(){for(var e=0;e<r.length;++e)if(r[e]===t)return r[e]=r[r.length-1],void r.pop()}}},limits:S,hasExtension:function(e){return S.extensions.indexOf(e.toLowerCase())>=0},read:I,destroy:function(){q.length=0,n(),F&&(F.removeEventListener(Oa,i),F.removeEventListener(Da,a)),O.clear(),N.clear(),B.clear(),D.clear(),M.clear(),E.clear(),w&&w.clear(),U.forEach(function(e){e()})},_gl:m,_refresh:c,poll:function(){l(),w&&w.update()},now:p,stats:b});return h.onDone(null,W),W}})},{}],73:[function(e,t,r){(function(t,n){"use strict";function i(e){if(e){var t=e.length||e.byteLength,r=y.log2(t);w[r].push(e)}}function a(e){var e=y.nextPow2(e),t=y.log2(e),r=w[t];return r.length>0?r.pop():new ArrayBuffer(e)}function o(e){return new Uint8Array(a(e),0,e)}function s(e){return new Uint16Array(a(2*e),0,e)}function u(e){return new Uint32Array(a(4*e),0,e)}function f(e){return new Int8Array(a(e),0,e)}function l(e){return new Int16Array(a(2*e),0,e)}function c(e){return new Int32Array(a(4*e),0,e)}function p(e){return new Float32Array(a(4*e),0,e)}function h(e){return new Float64Array(a(8*e),0,e)}function m(e){return b?new Uint8ClampedArray(a(e),0,e):o(e)}function d(e){return new DataView(a(e),0,e)}function g(e){e=y.nextPow2(e);var t=y.log2(e),r=z[t];return r.length>0?r.pop():new n(e)}var y=e("bit-twiddle"),v=e("dup");t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:v([32,0]),UINT16:v([32,0]),UINT32:v([32,0]),INT8:v([32,0]),INT16:v([32,0]),INT32:v([32,0]),FLOAT:v([32,0]),DOUBLE:v([32,0]),DATA:v([32,0]),UINT8C:v([32,0]),BUFFER:v([32,0])});var b="undefined"!=typeof Uint8ClampedArray,x=t.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=v([32,0])),x.BUFFER||(x.BUFFER=v([32,0]));var w=x.DATA,z=x.BUFFER;r.free=function(e){if(n.isBuffer(e))z[y.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,r=0|y.log2(t);w[r].push(e)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=function(e){i(e.buffer)},r.freeArrayBuffer=i,r.freeBuffer=function(e){z[y.log2(e.length)].push(e)},r.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return a(e);switch(t){case"uint8":return o(e);case"uint16":return s(e);case"uint32":return u(e);case"int8":return f(e);case"int16":return l(e);case"int32":return c(e);case"float":case"float32":return p(e);case"double":case"float64":return h(e);case"uint8_clamped":return m(e);case"buffer":return g(e);case"data":case"dataview":return d(e);default:return null}return null},r.mallocArrayBuffer=a,r.mallocUint8=o,r.mallocUint16=s,r.mallocUint32=u,r.mallocInt8=f,r.mallocInt16=l,r.mallocInt32=c,r.mallocFloat32=r.mallocFloat=p,r.mallocFloat64=r.mallocDouble=h,r.mallocUint8Clamped=m,r.mallocDataView=d,r.mallocBuffer=g,r.clearCache=function(){for(var e=0;e<32;++e)x.UINT8[e].length=0,x.UINT16[e].length=0,x.UINT32[e].length=0,x.INT8[e].length=0,x.INT16[e].length=0,x.INT32[e].length=0,x.FLOAT[e].length=0,x.DOUBLE[e].length=0,x.UINT8C[e].length=0,w[e].length=0,z[e].length=0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"bit-twiddle":2,buffer:3,dup:9}],74:[function(e,t,r){"use strict";function n(e,t){for(var r=1,n=e.length,i=e[0],a=e[0],o=1;o<n;++o)if(a=i,i=e[o],t(i,a)){if(o===r){r++;continue}e[r++]=i}return e.length=r,e}function i(e){for(var t=1,r=e.length,n=e[0],i=e[0],a=1;a<r;++a,i=n)if(i=n,(n=e[a])!==i){if(a===t){t++;continue}e[t++]=n}return e.length=t,e}t.exports=function(e,t,r){return 0===e.length?e:t?(r||e.sort(t),n(e,t)):(r||e.sort(),i(e))}},{}],75:[function(e,t,r){t.exports=function(e,t){if(!t||"object"!=typeof t)return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}},{}],76:[function(e,t,r){t.exports=function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},{}],77:[function(e,t,r){"use strict";function n(e,t,r,n,i,a,o){return e[0]=.5*n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=.5*i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=.5*(o-a),e[11]=0,e[12]=t+.5*n,e[13]=r+.5*i,e[14]=.5*(o+a),e[15]=1,e}var i=e("interaction-events"),a=e("xtend/mutable"),o=e("gl-mat4/identity"),s=e("gl-mat4/invert"),u=e("gl-mat4/multiply");t.exports=function(e,t){function r(){g=c(),y=p(),n(b,0,y,g,-y,0,1),s(x,b)}var f=a({element:(t=t||{}).element||e._gl.canvas}).element,l=!0,c=f===window?function(){return f.innerWidth}:function(){return f.offsetWidth},p=f===window?function(){return f.innerHeight}:function(){return f.offsetHeight},h=void 0===t.xmin?-1:t.xmin,m=void 0===t.xmax?1:t.xmax,d=(void 0===t.ymin||t.ymin,void 0===t.ymax||t.ymax,void 0===t.aspectRatio?1:t.aspectRatio),g=c(),y=p(),v=o([]);v[0]=1/(m-h),v[5]=1/(m-h)*d*g/y;var b=o([]),x=o([]);r();var w=[];i({element:f}).on("interactionstart",function(e){e.preventDefault()}).on("interactionend",function(e){e.preventDefault()}).on("interaction",function(e){if(e.buttons||-1!==["wheel","touch","pinch"].indexOf(e.type)){e.preventDefault();var t=Math.cos(e.dtheta),r=Math.sin(e.dtheta);switch(e.type){case"wheel":e.dsx=e.dsy=Math.exp(-e.dy/100),e.dx=e.dy=0}w[0]=e.dsx*t,w[1]=e.dsx*r,w[2]=0,w[3]=0,w[4]=-e.dsy*r,w[5]=e.dsy*t,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=1,w[11]=0,w[12]=e.dsx*r*e.y0-e.dsx*t*e.x0+e.x0+e.dx,w[13]=-e.dsy*t*e.y0-e.dsy*r*e.x0+e.y0+e.dy,w[14]=0,w[15]=1,u(w,w,b),u(w,x,w),u(v,w,v),l=!0}});var z=e({context:{view:e.prop("view")}});return{draw:function(e){z({view:v},function(){e({dirty:l})}),l=!1},taint:function(){l=!0},matrix:function(){return v},resize:function(){r(),v[5]=v[0]*d*g/y}}}},{"gl-mat4/identity":25,"gl-mat4/invert":26,"gl-mat4/multiply":27,"interaction-events":32,"xtend/mutable":76}],78:[function(e,t,r){t.exports=function(e){for(var t=1/0,r=-1/0,n=0,i=0;i<e.length;i++)n+=e[i];n/=e.length;for(var a=0;a<e.length;a++)e[a]-=n,t=Math.min(t,e[a]),r=Math.max(r,e[a]);return[t,r,Math.max(Math.abs(t),Math.abs(r))]}},{}],79:[function(e,t,r){var n=e("glslify");t.exports=function(e,t){return e({vert:"\n      precision mediump float;\n      attribute vec2 xy;\n      varying vec2 uv;\n      void main () {\n        uv = xy * 0.5 + 0.5;\n        gl_Position = vec4(xy, 0, 1);\n      }\n    ",frag:n(["\n      precision mediump float;\n#define GLSLIFY 1\n\n\n      vec4 cdom (float x_0) {\n  const float e0 = 0.0;\n  const vec4 v0 = vec4(0.1843137254901961,0.058823529411764705,0.24313725490196078,1);\n  const float e1 = 0.13;\n  const vec4 v1 = vec4(0.3411764705882353,0.09019607843137255,0.33725490196078434,1);\n  const float e2 = 0.25;\n  const vec4 v2 = vec4(0.5098039215686274,0.10980392156862745,0.38823529411764707,1);\n  const float e3 = 0.38;\n  const vec4 v3 = vec4(0.6705882352941176,0.1607843137254902,0.3764705882352941,1);\n  const float e4 = 0.5;\n  const vec4 v4 = vec4(0.807843137254902,0.2627450980392157,0.33725490196078434,1);\n  const float e5 = 0.63;\n  const vec4 v5 = vec4(0.9019607843137255,0.41568627450980394,0.32941176470588235,1);\n  const float e6 = 0.75;\n  const vec4 v6 = vec4(0.9490196078431372,0.5843137254901961,0.403921568627451,1);\n  const float e7 = 0.88;\n  const vec4 v7 = vec4(0.9764705882352941,0.7568627450980392,0.5294117647058824,1);\n  const float e8 = 1.0;\n  const vec4 v8 = vec4(0.996078431372549,0.9294117647058824,0.6901960784313725,1);\n  float a0 = smoothstep(e0,e1,x_0);\n  float a1 = smoothstep(e1,e2,x_0);\n  float a2 = smoothstep(e2,e3,x_0);\n  float a3 = smoothstep(e3,e4,x_0);\n  float a4 = smoothstep(e4,e5,x_0);\n  float a5 = smoothstep(e5,e6,x_0);\n  float a6 = smoothstep(e6,e7,x_0);\n  float a7 = smoothstep(e7,e8,x_0);\n  return max(mix(v0,v1,a0)*step(e0,x_0)*step(x_0,e1),\n    max(mix(v1,v2,a1)*step(e1,x_0)*step(x_0,e2),\n    max(mix(v2,v3,a2)*step(e2,x_0)*step(x_0,e3),\n    max(mix(v3,v4,a3)*step(e3,x_0)*step(x_0,e4),\n    max(mix(v4,v5,a4)*step(e4,x_0)*step(x_0,e5),\n    max(mix(v5,v6,a5)*step(e5,x_0)*step(x_0,e6),\n    max(mix(v6,v7,a6)*step(e6,x_0)*step(x_0,e7),mix(v7,v8,a7)*step(e7,x_0)*step(x_0,e8)\n  )))))));\n}\n\n      highp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n      varying vec2 uv;\n      uniform sampler2D src;\n      uniform vec2 resolution;\n      uniform vec2 rng;\n      uniform float time;\n      void main () {\n        vec4 color = texture2D(src, (0.5 - uv) / resolution + 0.5);\n        gl_FragColor = vec4(vec3(\n          cdom(clamp(\n            1.0 - (rng.x + rng.y * color.w) +\n            (random(gl_FragCoord.xy + time) - 0.5) * 0.07,\n          0.0, 1.0))\n        ), 1);\n      }\n    "]),attributes:{xy:[-4,-4,0,4,4,-4]},uniforms:{src:t,resolution:function(e,t){return[64/e.framebufferWidth*t.zoom,64/e.framebufferHeight*t.zoom]},time:e.context("time"),rng:function(e,t){return[-t.zmin/(t.zmax-t.zmin),1/(t.zmax-t.zmin)]}},depth:{enable:!1},count:3})}},{glslify:28}],80:[function(e,t,r){var n=e("katex"),i=e("h"),a=e("insert-css");e("path");a("@font-face{font-family:KaTeX_AMS;src:url(fonts/KaTeX_AMS-Regular.eot);src:url(fonts/KaTeX_AMS-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_AMS-Regular.woff2) format('woff2'),url(fonts/KaTeX_AMS-Regular.woff) format('woff'),url(fonts/KaTeX_AMS-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(fonts/KaTeX_Caligraphic-Bold.eot);src:url(fonts/KaTeX_Caligraphic-Bold.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Caligraphic-Bold.woff2) format('woff2'),url(fonts/KaTeX_Caligraphic-Bold.woff) format('woff'),url(fonts/KaTeX_Caligraphic-Bold.ttf) format('truetype');font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(fonts/KaTeX_Caligraphic-Regular.eot);src:url(fonts/KaTeX_Caligraphic-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Caligraphic-Regular.woff2) format('woff2'),url(fonts/KaTeX_Caligraphic-Regular.woff) format('woff'),url(fonts/KaTeX_Caligraphic-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(fonts/KaTeX_Fraktur-Bold.eot);src:url(fonts/KaTeX_Fraktur-Bold.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Fraktur-Bold.woff2) format('woff2'),url(fonts/KaTeX_Fraktur-Bold.woff) format('woff'),url(fonts/KaTeX_Fraktur-Bold.ttf) format('truetype');font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(fonts/KaTeX_Fraktur-Regular.eot);src:url(fonts/KaTeX_Fraktur-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Fraktur-Regular.woff2) format('woff2'),url(fonts/KaTeX_Fraktur-Regular.woff) format('woff'),url(fonts/KaTeX_Fraktur-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Bold.eot);src:url(fonts/KaTeX_Main-Bold.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Main-Bold.woff2) format('woff2'),url(fonts/KaTeX_Main-Bold.woff) format('woff'),url(fonts/KaTeX_Main-Bold.ttf) format('truetype');font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Italic.eot);src:url(fonts/KaTeX_Main-Italic.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Main-Italic.woff2) format('woff2'),url(fonts/KaTeX_Main-Italic.woff) format('woff'),url(fonts/KaTeX_Main-Italic.ttf) format('truetype');font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Regular.eot);src:url(fonts/KaTeX_Main-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Main-Regular.woff2) format('woff2'),url(fonts/KaTeX_Main-Regular.woff) format('woff'),url(fonts/KaTeX_Main-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url(fonts/KaTeX_Math-Italic.eot);src:url(fonts/KaTeX_Math-Italic.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Math-Italic.woff2) format('woff2'),url(fonts/KaTeX_Math-Italic.woff) format('woff'),url(fonts/KaTeX_Math-Italic.ttf) format('truetype');font-weight:400;font-style:italic}@font-face{font-family:KaTeX_SansSerif;src:url(fonts/KaTeX_SansSerif-Regular.eot);src:url(fonts/KaTeX_SansSerif-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_SansSerif-Regular.woff2) format('woff2'),url(fonts/KaTeX_SansSerif-Regular.woff) format('woff'),url(fonts/KaTeX_SansSerif-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url(fonts/KaTeX_Script-Regular.eot);src:url(fonts/KaTeX_Script-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Script-Regular.woff2) format('woff2'),url(fonts/KaTeX_Script-Regular.woff) format('woff'),url(fonts/KaTeX_Script-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url(fonts/KaTeX_Size1-Regular.eot);src:url(fonts/KaTeX_Size1-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size1-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size1-Regular.woff) format('woff'),url(fonts/KaTeX_Size1-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url(fonts/KaTeX_Size2-Regular.eot);src:url(fonts/KaTeX_Size2-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size2-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size2-Regular.woff) format('woff'),url(fonts/KaTeX_Size2-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url(fonts/KaTeX_Size3-Regular.eot);src:url(fonts/KaTeX_Size3-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size3-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size3-Regular.woff) format('woff'),url(fonts/KaTeX_Size3-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url(fonts/KaTeX_Size4-Regular.eot);src:url(fonts/KaTeX_Size4-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size4-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size4-Regular.woff) format('woff'),url(fonts/KaTeX_Size4-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url(fonts/KaTeX_Typewriter-Regular.eot);src:url(fonts/KaTeX_Typewriter-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Typewriter-Regular.woff2) format('woff2'),url(fonts/KaTeX_Typewriter-Regular.woff) format('woff'),url(fonts/KaTeX_Typewriter-Regular.ttf) format('truetype');font-weight:400;font-style:normal}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:inline-block;text-align:initial}.katex{font:400 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;white-space:nowrap;text-indent:0}.katex .katex-html{display:inline-block}.katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .base,.katex .strut{display:inline-block}.katex .mathrm{font-style:normal}.katex .textit{font-style:italic}.katex .mathit{font-family:KaTeX_Math;font-style:italic}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .amsrm,.katex .mathbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr{font-family:KaTeX_Script}.katex .mathsf{font-family:KaTeX_SansSerif}.katex .mainit{font-family:KaTeX_Main;font-style:italic}.katex .mord+.mop{margin-left:.16667em}.katex .mord+.mbin{margin-left:.22222em}.katex .mord+.mrel{margin-left:.27778em}.katex .mop+.mop,.katex .mop+.mord,.katex .mord+.minner{margin-left:.16667em}.katex .mop+.mrel{margin-left:.27778em}.katex .mop+.minner{margin-left:.16667em}.katex .mbin+.minner,.katex .mbin+.mop,.katex .mbin+.mopen,.katex .mbin+.mord{margin-left:.22222em}.katex .mrel+.minner,.katex .mrel+.mop,.katex .mrel+.mopen,.katex .mrel+.mord{margin-left:.27778em}.katex .mclose+.mop{margin-left:.16667em}.katex .mclose+.mbin{margin-left:.22222em}.katex .mclose+.mrel{margin-left:.27778em}.katex .mclose+.minner,.katex .minner+.mop,.katex .minner+.mord,.katex .mpunct+.mclose,.katex .mpunct+.minner,.katex .mpunct+.mop,.katex .mpunct+.mopen,.katex .mpunct+.mord,.katex .mpunct+.mpunct,.katex .mpunct+.mrel{margin-left:.16667em}.katex .minner+.mbin{margin-left:.22222em}.katex .minner+.mrel{margin-left:.27778em}.katex .minner+.minner,.katex .minner+.mopen,.katex .minner+.mpunct{margin-left:.16667em}.katex .mbin.mtight,.katex .mclose.mtight,.katex .minner.mtight,.katex .mop.mtight,.katex .mopen.mtight,.katex .mord.mtight,.katex .mpunct.mtight,.katex .mrel.mtight{margin-left:0}.katex .mclose+.mop.mtight,.katex .minner+.mop.mtight,.katex .mop+.mop.mtight,.katex .mop+.mord.mtight,.katex .mord+.mop.mtight{margin-left:.16667em}.katex .reset-textstyle.textstyle{font-size:1em}.katex .reset-textstyle.scriptstyle{font-size:.7em}.katex .reset-textstyle.scriptscriptstyle{font-size:.5em}.katex .reset-scriptstyle.textstyle{font-size:1.42857em}.katex .reset-scriptstyle.scriptstyle{font-size:1em}.katex .reset-scriptstyle.scriptscriptstyle{font-size:.71429em}.katex .reset-scriptscriptstyle.textstyle{font-size:2em}.katex .reset-scriptscriptstyle.scriptstyle{font-size:1.4em}.katex .reset-scriptscriptstyle.scriptscriptstyle{font-size:1em}.katex .style-wrap{position:relative}.katex .vlist{display:inline-block}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist .baseline-fix{display:inline-table;table-layout:fixed}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{width:100%}.katex .mfrac .frac-line:before{border-bottom-style:solid;border-bottom-width:1px;content:\"\";display:block}.katex .mfrac .frac-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:\"\";display:block;margin-top:-1px}.katex .mspace{display:inline-block}.katex .mspace.negativethinspace{margin-left:-.16667em}.katex .mspace.thinspace{width:.16667em}.katex .mspace.negativemediumspace{margin-left:-.22222em}.katex .mspace.mediumspace{width:.22222em}.katex .mspace.thickspace{width:.27778em}.katex .mspace.sixmuspace{width:.333333em}.katex .mspace.eightmuspace{width:.444444em}.katex .mspace.enspace{width:.5em}.katex .mspace.twelvemuspace{width:.666667em}.katex .mspace.quad{width:1em}.katex .mspace.qquad{width:2em}.katex .llap,.katex .rlap{width:0;position:relative}.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .rlap>.inner{left:0}.katex .katex-logo .a{font-size:.75em;margin-left:-.32em;position:relative;top:-.2em}.katex .katex-logo .t{margin-left:-.23em}.katex .katex-logo .e{margin-left:-.1667em;position:relative;top:.2155em}.katex .katex-logo .x{margin-left:-.125em}.katex .rule{display:inline-block;border:0 solid;position:relative}.katex .overline .overline-line,.katex .underline .underline-line{width:100%}.katex .overline .overline-line:before,.katex .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:1px;content:\"\";display:block}.katex .overline .overline-line:after,.katex .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:\"\";display:block;margin-top:-1px}.katex .sqrt>.sqrt-sign{position:relative}.katex .sqrt .sqrt-line{width:100%}.katex .sqrt .sqrt-line:before{border-bottom-style:solid;border-bottom-width:1px;content:\"\";display:block}.katex .sqrt .sqrt-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:\"\";display:block;margin-top:-1px}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer,.katex .sizing{display:inline-block}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:2em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:3.46em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:4.14em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.98em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.47142857em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.95714286em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.55714286em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.875em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.125em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.25em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.5em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.8em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.1625em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.5875em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:3.1125em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.77777778em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.88888889em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.6em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.92222222em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.3em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.76666667em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.7em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.8em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.9em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.2em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.44em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.73em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:2.07em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.49em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.58333333em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.66666667em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.75em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.83333333em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44166667em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.725em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.075em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.48611111em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.55555556em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.625em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.69444444em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.20138889em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.4375em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72916667em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.28901734em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.40462428em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.46242775em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.52023121em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.57803468em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69364162em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83236994em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.19653179em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.43930636em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.24154589em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.33816425em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.38647343em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.43478261em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.48309179em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.57971014em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69565217em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83574879em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20289855em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.20080321em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.2811245em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.32128514em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.36144578em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.40160643em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48192771em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57831325em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69477912em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.8313253em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist>span,.katex .op-limits>.vlist>span{text-align:center}.katex .accent .accent-body>span{width:0}.katex .accent .accent-body.accent-vec>span{position:relative;left:.326em}.katex .mtable .vertical-separator{display:inline-block;margin:0 -.025em;border-right:.05em solid #000}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist{text-align:center}.katex .mtable .col-align-l>.vlist{text-align:left}.katex .mtable .col-align-r>.vlist{text-align:right}"),a("\n#explanation {\n  position: absolute;\n  bottom: 15px;\n  left: 15px;\n  color: white;\n  z-index: 100;\n  text-shadow: 1px 1px 15px rgba(0, 0, 0, 0.5);\n}\n\nh3 {\n  font-family: 'Helvetica', 'Arial', sans-serif;\n  font-style: italic;\n  margin-bottom: 0.5em;\n}\n\na {\n  text-decoration: none;\n}\n\na:hover {\n  color: #ccc;\n}\n"),t.exports=function(){var e=i("span");return e.innerHTML=n.renderToString("\n    u_t + \\nabla^4 u + \\nabla^2 u + \\frac{1}{2}| \\nabla u |^2 = 0\n  "),i("a",{id:"explanation",href:"https://www.encyclopediaofmath.org/index.php/Kuramoto-Sivashinsky_equation"},[i("h3","Kuramoto-Sivashinsky Equation,"),e])}},{h:29,"insert-css":31,katex:36,path:70}],81:[function(e,t,r){t.exports=function(e,t,r){return(e<Math.floor((t+1)/2)?e/(t*r):-(t-e)/(t*r))*Math.PI*2}},{}],82:[function(e,t,r){e("./explanation");e("regl")({attributes:{antialias:!1},pixelRatio:1,extensions:["oes_texture_float","oes_texture_float_linear"],onDone:e("fail-nicely")(function(t){var r=e("./camera-2d")(t),n=e("./kuramoto-sivashinsky")({m:64,n:64,res:.9,scale:10,randomness:0});document.body.appendChild(e("./explanation")());var i=t.texture({}),a=e("./draw")(t,i);n.initialize("spot"),n.write(i),r.taint(),t.frame(function(e){e.tick,r.draw(function(e){e.dirty;var t=n.step();n.write(i),t.zoom=6,a(t)})})})})},{"./camera-2d":77,"./draw":79,"./explanation":80,"./kuramoto-sivashinsky":83,"fail-nicely":24,regl:72}],83:[function(e,t,r){var n=e("ode-midpoint"),i=e("ndarray-fft"),a=e("./fftfreq"),o=e("ndarray"),s=e("./debias"),u=e("ndarray-fill");t.exports=function(e){var t=Float32Array,r=e.m,f=e.n,l=e.res,c=e.scale,p=e.randomness,h=2*Math.PI*c*r/64/l,m=2*Math.PI*c*f/64/l,d=h/r,g=m/f,y=5e-5*Math.pow(c/l/l,2),v=u(o(new t(r)),function(e){return(e/r-.5)*h}),b=u(o(new t(f)),function(e){return(e/f-.5)*m}),x=u(o(new t(r)),function(e){return a(e,r,d)}),w=u(o(new t(f)),function(e){return a(e,f,g)}),z=o(new t(r*f),[r,f]),k=o(new t(r*f),[r,f]),_=o(new t(r*f),[r,f]),A=o(new t(r*f),[r,f]),T=o(new t(r*f),[r,f]),S=o(new t(r*f),[r,f]),E=o(new t(r*f),[r,f]),M=o(new t(r*f),[r,f]),R=o(new t(r*f),[r,f]),j=-2.5,C=2.5,O=n(z.data,function(e,t){k.data.set(t),_.data.fill(0),i(1,k,_);for(var n=0;n<f;n++)for(var a=w.data[n],o=a*a,s=0;s<r;s++){var u=s+n*r,l=x.data[s],c=l*l+o,p=-c*(-1+c);A.data[u]=k.data[u]*p,T.data[u]=_.data[u]*p,S.data[u]=_.data[u]*l,E.data[u]=-k.data[u]*l,M.data[u]=_.data[u]*a,R.data[u]=-k.data[u]*a}i(-1,A,T),i(-1,S,E),i(-1,M,R);for(var h=0;h<r*f;h++)e[h]=A.data[h]-.5*(S.data[h]*S.data[h]+M.data[h]*M.data[h])},0,y);return{step:function(){O.steps(Math.round(20*Math.pow(l,4)));var e=s(z.data);return j=.98*j+(1-.98)*Math.min(-e[0],-1*e[2]+0*e[0]),C=.98*C+(1-.98)*Math.max(e[1],1*e[2]+0*e[1]),{zmin:j,zmax:C}},pde:O,write:function(e){e({wrapS:"repeat",wrapT:"repeat",mag:"linear",min:"linear",data:z.data,format:"alpha",width:r,height:f,type:"float"})},initialize:function(e){switch(e){case"spot":u(z,function(e,t){var r=v.get(e),n=b.get(t);return 2*Math.exp(-(r*r+n*n)/Math.pow(2/l,2))+p*(2*Math.random()-1)});break;case"wave":u(z,function(e,t){return 2*Math.sin((1*e+1*t)/r*Math.PI*2)+p*(2*Math.random()-1)})}}}}},{"./debias":78,"./fftfreq":81,ndarray:68,"ndarray-fft":64,"ndarray-fill":66,"ode-midpoint":69}]},{},[82]);</script>
</html>
